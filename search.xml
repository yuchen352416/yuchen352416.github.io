<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ä¸€é“å¸¸è§çš„é¢è¯•é¢˜]]></title>
    <url>%2F2018%2F09%2F14%2Fnode%2Fjava%2Fnode-j2se_05%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨å¸ˆå…„å¼Ÿçš„ç¾¤é‡Œé¢çœ‹åˆ°ä¸€å¸ˆå¼Ÿ, åœ¨é—®é¢è¯•æ—¶, å¸¸å¸¸ä¼šé—®åˆ°çš„ä¸€é¢˜ é¢˜ç›®12345678910@Testpublic void test() &#123; Integer a1 = 128; Integer a2 = 128; log.info("&#123;&#125;", a1 == a2); // false Integer b1 = 127; Integer b2 = 127; log.info("&#123;&#125;", b1 == b2); // true&#125; è§£é‡Š1234567891011121314151617181920/** * Returns an &#123;@code Integer&#125; instance representing the specified * &#123;@code int&#125; value. If a new &#123;@code Integer&#125; instance is not * required, this method should generally be used in preference to * the constructor &#123;@link #Integer(int)&#125;, as this method is likely * to yield significantly better space and time performance by * caching frequently requested values. * * This method will always cache values in the range -128 to 127, * inclusive, and may cache other values outside of this range. * * @param i an &#123;@code int&#125; value. * @return an &#123;@code Integer&#125; instance representing &#123;@code i&#125;. * @since 1.5 */public static Integer valueOf(int i) &#123; if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) return IntegerCache.cache[i + (-IntegerCache.low)]; return new Integer(i);&#125; high å¯ä»¥ä½¿ç”¨ç³»ç»Ÿå±žæ€§å°†å€¼é…ç½®ä¸ºå…¶ä»–å€¼, é»˜è®¤å´æ˜¯ 127 -Djava.lang.Integer.IntegerCache.high = 999 å› ä¸ºæ¯”è¾ƒçš„æ˜¯å°è£…ç±»åž‹, æ‰€ä»¥ == æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨. b1 ä¸Ž b2 å› ä¸ºæ»¡è¶³ (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) æ¡ä»¶, æ‰€ä»¥å¯¹è±¡çš„å¼•ç”¨ç›¸åŒçš„. a1ä¸Ža2 ä¸æ»¡è¶³ (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) æ¡ä»¶, æ‰€ä»¥å¯¹è±¡æ˜¯æ–°äº§ç”Ÿçš„, å¼•ç”¨ä¸åŒ.]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot æ—¥å¿—è¾“å‡º]]></title>
    <url>%2F2018%2F09%2F13%2Farticle%2FSpringBoot%2Farticle-spring-boot_13%2F</url>
    <content type="text"><![CDATA[åœ¨SpringBootä¸­ä½¿ç”¨æ—¥å¿—è¾“å‡º pom.xmlä¸­å¼•å…¥jaråŒ…ä¾èµ–12345&lt;!-- æ—¥å¿—ä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;/dependency&gt; ç»™IDEAå®‰è£…lombokæ’ä»¶å®‰è£…lombokæ’ä»¶,idea-&gt;file-&gt;seetings-&gt;puugins-&gt;é€‰æ‹©Lombok Pluginå³å¯ é…ç½® application.yml12345logging: level: org.springframework.web: INFO com.yes517.www.*: INFO org.hibernate: INFO ä¾‹å­1234567891011121314151617181920212223242526272829303132333435import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import java.util.HashMap;import java.util.Map;@Slf4j@Controllerpublic class WelcomeController &#123; @Autowired Constants constants; @Autowired SessionKey sessionKey; @RequestMapping(value = &#123;"/get"&#125;) @ResponseBody public Object get(ModelMap m) &#123; log.info(sessionKey.getUrl()); Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put("key", constants.getAppKey()); map.put("url", constants.getUrl()); map.put("secret", constants.getAppSecret()); map.put("session", sessionKey.getKey()); return map; &#125;&#125; ä½¿ç”¨ @Slf4j æ³¨è§£åŽ, åœ¨ä»£ç é‡Œ, å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨ logå¯¹è±¡äº†]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Slf4j</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿½ç„¶ä¸ä¼šå†™åˆ é™¤è¯­å¥äº†]]></title>
    <url>%2F2018%2F09%2F12%2Fnode%2Fdatabase%2Fnode-mysql_03%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©æ”¹äº†ä¸ªBug, è¦åˆ é™¤åŽ†å²æ•°æ® å†™ä¸ªåˆ é™¤è¯­å¥1234567DELETE FROM yslx_erp.sys_order_complete WHERE id IN ( SELECT max(id) FROM yslx_erp.sys_order_complete GROUP BY order_id HAVING count(1) &gt; 1); æç¤º: [HY000][1093] You canâ€™t specify target table â€˜sys_order_completeâ€™ for update in FROM clause è®°å¾—åŽŸæ¥åœ¨Oracleä¸­, å†™åˆ é™¤æ—¶, è¿™æ ·æ˜¯å¯ä»¥çš„å‘€â€¦. ä¸€è„¸è’™é€¼å•Šâ€¦.åŽ»æŸ¥äº†ä¸€ä¸‹,åŽŸå› MySQL æŠŠæŸ¥è¯¢å­å¥ä¸€å®šè¦æ˜¯ä¸´æ—¶è¡¨ï¼Œä¸å¯ä»¥æ˜¯å®žä½“è¡¨. ä¿®æ”¹1234DELETE FROM yslx_erp.sys_order_complete WHERE id IN ( SELECT id FROM (SELECT max(id) as id FROM yslx_erp.sys_order_complete GROUP BY order_id HAVING count(1) &gt; 1) t);COMMIT ;]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å€¼å¾—æ€è€ƒçš„ä¸€äº›ä¸œè¥¿]]></title>
    <url>%2F2018%2F09%2F07%2Fdiary%2Fdiary_0003%2F</url>
    <content type="text"><![CDATA[ç®€æ˜ŽPythonæ•™ç¨‹é‡Œçœ‹åˆ°çš„ æœ‰ä¸¤ç§æ–¹å¼æž„å»ºè½¯ä»¶è®¾è®¡ï¼šä¸€ç§æ˜¯æŠŠè½¯ä»¶åšå¾—å¾ˆç®€å•ä»¥è‡³äºŽæ˜Žæ˜¾æ‰¾ä¸åˆ°ç¼ºé™·ï¼›å¦ä¸€ç§æ˜¯æŠŠå®ƒåšå¾—å¾ˆå¤æ‚ä»¥è‡³äºŽæ‰¾ä¸åˆ°æ˜Žæ˜¾çš„ç¼ºé™·ã€‚ â€”â€”C.A.R. Hoare èŽ·å¾—äººç”Ÿä¸­çš„æˆåŠŸéœ€è¦çš„ä¸“æ³¨ä¸ŽåšæŒä¸æ‡ˆå¤šè¿‡å¤©æ‰ä¸Žæœºä¼šã€‚ â€”â€”C.W. Wendte]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitHub æäº¤ä¸æ˜¾ç¤ºæäº¤è®°å½•çš„è§£å†³æ–¹æ³•]]></title>
    <url>%2F2018%2F09%2F07%2Fnode%2Fnode-git_02%2F</url>
    <content type="text"><![CDATA[GitHub æäº¤ä¸æ˜¾ç¤ºæäº¤è®°å½•çš„è§£å†³æ–¹æ³• ç”µè„‘é‡è£…ä¹‹åŽï¼Œæäº¤ä»£ç åˆ°GitHubä¸Šä¹‹åŽï¼Œå‘çŽ°Contributeå´æ²¡æœ‰è®°å½•ï¼ŒæŸ¥çœ‹é¡¹ç›®ç¡®å®žæäº¤ä¸ŠåŽ»äº†ã€‚æŸ¥èµ„æ–™å‘çŽ°æ˜¯Gité…ç½®çš„åŽŸå› ã€‚ é…ç½® é‚®ç®±åœ°å€ git config --global user.email &quot;yuchen352416@163.com&quot; é…ç½® ç”¨æˆ·å git config --global user.name &quot;Selfimpr&quot; è¿™æ ·å†æäº¤ä»£ç æ—¶ï¼Œå°±å¯ä»¥çœ‹åˆ°è®°å½•äº†ã€‚ è¿˜æœ‰ä¸€äº›å¸¸ç”¨é…ç½®ï¼šhttps://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€æ¬¡SQLè°ƒä¼˜çš„ç»åŽ†]]></title>
    <url>%2F2018%2F09%2F07%2Fnode%2Fdatabase%2Fnode-mysql_02%2F</url>
    <content type="text"><![CDATA[ç³»ç»Ÿéšç€æ•°æ®é‡çš„å¢žé•¿, å˜å¾—è¶Šæ¥è¶Šæ…¢. æ…¢åˆ°äº†ä¸èƒ½å¿å—çš„åœ°æ­¥, æ•…æœ‰äº†è¿™æ¬¡è°ƒä¼˜. æŸ¥æ‰¾é—®é¢˜ç‚¹ ä»Žæ—¥å¿—é‡Œæ‹¿å‡ºSQL, æ‰§è¡Œäº†ä¸€ä¸‹ 10.8s.æœ‰ç‚¹æƒŠå‘† å¼€å§‹ç«¯è¯¦SQLâ€¦ å°†SQLæ‹†å¼€, ä¸€éƒ¨åˆ†ä¸€éƒ¨åˆ†çš„æ‰§è¡Œ. æ‰¾åˆ°æ…¢çš„ç‚¹ å½±å“é€Ÿåº¦æ˜¯æ˜¯ä¸€ä¸ªåˆ¤æ–­è®¢å•çŠ¶æ€çš„å­SQL. æ‰§è¡Œè€—æ—¶ç«Ÿç„¶å ç”¨äº† 7.8s. å¤„ç†æ…¢SQLå…ˆåˆ›å»ºå…³è”æ¡ä»¶çš„è”åˆç´¢å¼•, è¯•è¯•æ°´. ä»Ž 7.8s å‡åˆ°äº† 6.3s åˆåˆ›å»ºäº†åˆ¤æ–­æ¡ä»¶çš„è”åˆç´¢å¼•, è¿™æ¬¡å‡åˆ° 0.24s. å¤§å–œâ€¦. æ•´ä½“æ‰§è¡Œ 0.37s åˆ›å»ºç´¢å¼•1create index ç´¢å¼•å on è¡¨å(å­—æ®µå,å­—æ®µå);]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IDEA çš„ä¸€äº›å¿«æ·é”®]]></title>
    <url>%2F2018%2F09%2F06%2Fnode%2Fjava%2Fnode-j2se_04%2F</url>
    <content type="text"><![CDATA[IDEA å¸¸ç”¨çš„ä¸€äº›å¿«æ·é”® IDEA æŸ¥çœ‹ç±»é‡Œæ–¹æ³•Command + F12 IDEA æ‰“å¼€ç³»ç»Ÿå†…çš„å‘½ä»¤è¡ŒOption + F12 IDEA æŸ¥çœ‹ç±»çš„ç»§æ‰¿ç»“æž„Control + H IDEA æŽ§åˆ¶å°å­—ä½“Preferences-&gt;Editor-&gt;Colors Scheme-&gt;Console Font]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çœ‹åˆ˜è‹¥è‹±çš„ç”µå½±â€”â€”ã€ŠåŽæ¥çš„æˆ‘ä»¬ã€‹]]></title>
    <url>%2F2018%2F09%2F06%2Fdiary%2Fdiary_0002%2F</url>
    <content type="text"><![CDATA[å¬äº†é™ˆå¥•è¿…çš„ã€Šæˆ‘ä»¬ã€‹åŽï¼Œ å°±æœ‰æƒ³çœ‹ã€ŠåŽæ¥çš„æˆ‘ä»¬ã€‹çš„å†²åŠ¨ï¼Œçœ‹åŽæ€æ½®èµ·ä¼ &nbsp;&nbsp;&nbsp;&nbsp;æ•…äº‹ä»¥å›žå¿†çš„å½¢å¼å±•å¼€ï¼Œæˆ‘ä¸ªäººè¿˜æ˜¯è›®å–œæ¬¢è¿™ç§å™è¿°æ–¹å¼çš„ã€‚è®²è¿°äº†ä¸€ä¸ªå…³äºŽåŒ—æ¼‚çš„æ•…äº‹ï¼Œè®²è¿°äº†ä¸€ä¸ªç¨‹åºå‘˜çš„æ•…äº‹ã€‚åˆæ˜¯äº•æŸç„¶å’Œæ¸¸æˆã€‚ &nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä¸ºä»€ä¹ˆä¼šè¯´åˆå‘¢ï¼Ÿ &nbsp;&nbsp;&nbsp;&nbsp;åˆšå¼€å§‹çœ‹è¿™éƒ¨ç‰‡å­çš„æ—¶å€™ï¼Œæˆ‘ä¼šæ‹¿è¿™éƒ¨ä¸Žã€Šå¾®å¾®ä¸€ç¬‘å¾ˆå€¾åŸŽã€‹åšå¯¹æ¯”ã€‚çœ‹åˆ°åŽæ¥ï¼Œæˆ‘å‘çŽ°è¿™æ ¹æœ¬æ²¡æœ‰å¯æ¯”æ€§å•Šã€‚ã€Šå¾®å¾®ä¸€ç¬‘å¾ˆå€¾åŸŽã€‹å°±åƒæ˜¯ç¾Žä¸½çš„ç«¥è¯ï¼Œ è€Œã€ŠåŽæ¥çš„æˆ‘ä»¬ã€‹æ›´åƒæ˜¯åœ¨è®²è¿°ä¸€ä¸ªçœŸå®žçš„åŒ—æ¼‚ç¨‹åºå‘˜çš„æ•…äº‹ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;çœ‹åˆ°ç»“å°¾å¤„ï¼Œå·²ç„¶æ²¡æœ‰äº†èµ·åˆæ—¶çš„å¯¹æ¯”ï¼Œæ›´å¤šæ˜¯å›žå¿†ï¼Œå›žå¿†é‚£æ—¶è§‚å½±æ—¶çš„æƒ…æ™¯ï¼Œå›žå¿†é‚£æ—¶èº«æ—çš„å¥¹ã€‚æˆ‘å¥½åƒè¢«ç”µå½±é‡Œçš„æŸä¸ªæ¡¥æ®µæˆ³ä¸­ï¼Œä¹Ÿåœ¨é—®è‡ªå·±ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;å¦‚æžœå½“æ—¶ï¼Œæˆ‘æœ‰å‹‡æ°”æŒ½ç•™å‘¢ï¼Ÿ &nbsp;&nbsp;&nbsp;&nbsp;å¦‚æžœã€‚ã€‚ã€‚æ²¡æœ‰å¦‚æžœã€‚]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æœ€è¿‘çš„ä¸€äº›äº‹]]></title>
    <url>%2F2018%2F09%2F01%2Fdiary%2Fdiary_0001%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘çš„ä¸€äº›äºº, ä¸€äº›äº‹çš„å›žæƒ³ä¸Žåæ€ &nbsp;&nbsp;&nbsp;&nbsp;å‰å‡ å¤©åœ¨å…¬å¸ç¼–ç , å¤–å±‹å¼ å§, è¿›æ¥è·Ÿæˆ‘è¯´, æ”¹ä¸ªéœ€æ±‚â€¦..å·´æ‹‰å·´æ‹‰çš„è¯´, è¯´äº†ä¸€ä¼š, æˆ‘å‘çŽ°, æˆ‘ç«Ÿä¸èƒ½å¤´æè¿°å‡ºæˆ‘å¯¹åˆšæ‰å¼ å§è¯´çš„éœ€æ±‚çš„ç†è§£, æˆ‘é»˜é»˜çš„æ‰“å¼€äº†çº¿ä¸Šçš„ç³»ç»Ÿ. æŒ‡ç€é‚£ä¸ªåŠŸèƒ½è·Ÿå¥¹æè¿°, æˆ‘çš„ç†è§£. æˆ‘è¯´äº†ä¸€éæˆ‘çš„ç†è§£åŽ, å¼ å§, åˆæŒ‡ç€ç³»ç»Ÿçš„åŠŸèƒ½, è¯´äº†ä¸€é, å¥¹æƒ³è¦çš„æ ·å­. æˆ‘å‘çŽ°, è¿™ä¸ªéœ€æ±‚, ä¸Žä¹‹å‰çš„ä¸šåŠ¡é€»è¾‘æœ‰å†²çªçš„. æˆ‘å°±è¯´è¿™ä¸ªä¸èƒ½åš. &nbsp;&nbsp;&nbsp;&nbsp;æˆ‘å†å›žæƒ³è¿™ä»¶äº‹çš„æ—¶å€™, å‘çŽ°è‡ªå·±å¾ˆå¤šåœ°æ–¹åšçš„ä¸å¦¥. æˆ‘è¿˜æ²¡çš„å¬å®Œ, å¼ å§çš„è¯´çš„å…¨éƒ¨éœ€æ±‚, å°±åŽ»è¯´æˆ‘å¯¹æ–°éœ€æ±‚çš„ç†è§£, ç»™äººä¸€ç§è½»æµ®è‡ªå¤§çš„æ„Ÿè§‰. å…¶æ¬¡, åœ¨äº†è§£åˆ°çœŸå®žéœ€æ±‚åŽ, ç›´æŽ¥å‘å¼ å§, è¯´å‡ºäº†ç»“æžœ, æœ‰ç‚¹æ•·è¡äº†äº‹çš„æ„Ÿè§‰. &nbsp;&nbsp;&nbsp;&nbsp;ä»¥åŽå‘¢, è¦æŠŠè°¦å‘, å¸¸ç•™å¿ƒä¸­. è€å¿ƒçš„åŽ»å¬åˆ«äººè¯´çš„è¯. è€å¿ƒçš„åŽ»ç»™åˆ«äººè§£é‡ŠåŽŸå› . &nbsp;&nbsp;&nbsp;&nbsp;æ˜¨å¤©çœ‹åˆ°ä¸€ç¯‡åšæ–‡ä¸­çš„ä¸€æ®µè¯, ä¹Ÿæ˜¯æ„Ÿè§¦é¢‡å¤š. å¤§æ¦‚æ„æ€æ˜¯è¿™ä¹ˆè¯´çš„ &#39;å†™ä»£ç , æ˜¯ç»™æœªæ¥çš„äºº, è®²æ•…äº‹. å‘Šè¯‰TA, ä½ çš„åœ¨åšä»€ä¹ˆäº‹æƒ…. è¿™ç§è·¨æ—¶ç©ºçš„æ²Ÿé€šäº¤æµ, æ‰æ˜¯ä»£ç ç»™ç¨‹åºå‘˜å¸¦æ¥çš„æœ€å¤§ä¹è¶£.&#39; æˆ‘éžå¸¸è®¤åŒè¿™ä¸ªè¯´æ³•. å®žçŽ°åŠŸèƒ½å¾ˆå®¹æ˜“, ä½†æ˜¯åˆ«å¿˜äº†, å†™ä»£ç ä¸æ˜¯åªä¸ºäº†å®žçŽ°åŠŸèƒ½å‘€, è¿˜è¦æ˜Žç¡®çš„å‘Šè¯‰åŽäºº, æˆ‘çŽ°åœ¨çš„æƒ³æ³•å’Œä¼å›¾. è¿™ä¸€ç‚¹, æˆ‘åœ¨å¹³æ—¶çš„ç¼–ç è¿‡ç¨‹ä¸­, è¿˜å¾ˆæ¬ ç¼º, åªé¡¾ç€åŠŸèƒ½çš„å®žçŽ°, è€Œæ²¡æœ‰è€ƒè™‘ä»£ç çš„æ˜“è¯»æ€§. æˆ‘ä¼šåœ¨æ—¥åŽç¼–ç è¿‡ç¨‹ä¸­, æ³¨æ„ä»£ç çš„æ˜“è¯»æ€§, æ¯•ç«Ÿä»£ç æ˜¯å†™ç»™åŽäººçš„å‘€.]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux ä¸Šå®‰è£…ä¸ªå°å·¥å…·]]></title>
    <url>%2F2018%2F08%2F29%2Fnode%2Flinux%2Fnode-linux_05%2F</url>
    <content type="text"><![CDATA[å®‰è£…ä¸ªæ–‡ä»¶ä¸Šä¼ ä¸‹è½½çš„å·¥å…· å®‰è£…æ–‡ä»¶ä¸Šä¼ ä¸‹è½½å·¥å…· yum install lrzsz szï¼šå°†é€‰å®šçš„æ–‡ä»¶å‘é€ï¼ˆsendï¼‰åˆ°æœ¬åœ°æœºå™¨ rzï¼šè¿è¡Œè¯¥å‘½ä»¤ä¼šå¼¹å‡ºä¸€ä¸ªæ–‡ä»¶é€‰æ‹©çª—å£ï¼Œä»Žæœ¬åœ°é€‰æ‹©æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨(receive)]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„ç™¾åº¦äº‘æœåŠ¡å™¨ä¸Šçš„Docker]]></title>
    <url>%2F2018%2F08%2F29%2Fnode%2Flinux%2Fnode-linux_04%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©é‡Šæ€€äº†æˆ‘çš„æœåŠ¡å™¨ç«¯å£é—®é¢˜ä¹‹åŽ, å¼€å§‹æžä¸€äº›å¸¸ç”¨çš„è½¯ä»¶ 1. å®‰è£…Dockerå› ä¸ºæˆ‘çš„ç³»ç»Ÿæ˜¯CentOS 7, Docker è¦æ±‚ CentOS ç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬é«˜äºŽ 3.10. æ‰€ä»¥å…ˆæŸ¥çœ‹ä¸€ä¸‹å†…æ ¸ç‰ˆæœ¬uname -ræ»¡è¶³æ¡ä»¶åŽ, ç›´æŽ¥å®‰è£…yum -y install docker . å®‰è£…å®ŒåŽ, å¯åŠ¨æœåŠ¡â€¦â€¦.. åœ¨CentOS 7ä¸‹, å¯åŠ¨æœåŠ¡ä¸å†æ˜¯ service docker start è¿™æ ·çš„æ–¹å¼çš„.è€Œæ˜¯: systemctl start docker.service. è®¾ç½®å¼€æœºå¯åŠ¨: systemctl enable docker.service 2. ä¸‹è½½é•œåƒ, åˆ›å»ºå®¹å™¨ä¸‹è½½é•œåƒ: docker pull centos:6.7 åˆ›å»ºå®¹å™¨: docker run --name=linux -d centos:6.7 /bin/bash -c &quot;while true; do echo hello; sleep 1; done&quot; 3. å®¹å™¨é‡Œçš„äº‹æ•…è¿›å…¥å®¹å™¨: docker exec -ti linux /bin/bash è¿›å…¥ä¹‹åŽæœ¬æ¥æ˜¯æƒ³åœ¨å®¹å™¨é‡Œ, å†è¿è¡Œèµ·ä¸€ä¸ªDocker æ¥çŽ©çŽ©çš„, ç»“æžœå‘çŽ°è¿™æ¡è·¯è¡Œä¸é€š.åŽŸå› å’Œè§£å†³åŠžæ³•: http://www.wangtianyi.top/blog/2017/01/29/docker-in-docker/ , æˆ‘åœ¨è¿™æ‰¾åˆ°äº†ç­”æ¡ˆ. çŽ©ä¸äº†, å°±ä¸­è§„ä¸­çŸ©çš„å®‰è£…äº›è½¯ä»¶å§. ä¸‹è½½ä¸ªJDKæ¥çŽ©çŽ©. å…ˆping ä¸‹, ç»“æžœ -bash: ping: command not found æˆ‘åŽ»..å¿ƒé‡Œä¸€ä¸‡åªè‰æ³¥é©¬, åœ¨å¥”è…¾â€¦â€¦.è¿˜è¦å¦å®‰è£… yum -y install iputils çœ‹äº†ä¸€ä¸‹æ—¶é—´, é‚£è¾¹çš„ä»»åŠ¡, ä¼°è®¡å¿«æ‰§è¡Œå®Œäº†, è¿™è¾¹åªèƒ½æ™šä¸Šå›žåŽ»ç»§ç»­æžäº†, å°±å…ˆè®°åˆ°è¿™â€¦..]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„ç™¾åº¦äº‘æœåŠ¡å™¨]]></title>
    <url>%2F2018%2F08%2F27%2Fnode%2Flinux%2Fnode-linux_03%2F</url>
    <content type="text"><![CDATA[å‰å‡ å¤©, ç™¾åº¦æžæ´»åŠ¨, 1æŠ˜ä¿ƒé”€, å°±æŠ¢äº†ä¸ªæœåŠ¡å™¨. 1. é‡åˆ°çš„é—®é¢˜ç”¨å…¬å¸çš„ç½‘, SSH ç™»å½•ä¸äº†. 2. æ¼«é•¿çš„è§£å†³ä¹‹è·¯åˆšä¹°æ—¶, åœ¨å…¬å¸å‘å·¥å•, è¯´è®©æˆ‘é‡å¯è·¯ç”±å’Œç”µè„‘, æ¯•ç«Ÿä¸æ˜¯æˆ‘è‡ªå·±çš„ç½‘ç»œ, å°±æƒ³æ™šä¸Šå›žå®¶å†è¯•è¯•å§. æ™šä¸Šå›žåˆ°å®¶é‡Œ. ç»“æžœç›´æŽ¥å°±è¿žä¸Šäº†. å½“æ—¶å°±æ„Ÿå¹. è¿™ä¹ˆç¥žå¥‡å‘€, æ¢ä¸ªç½‘ç»œçœŸçš„å¯ä»¥å‘€. è¿™ä¸ªå‘¨æœ«ç›¸å®‰æ— äº‹, æˆ‘è£…äº†äº›å¸¸ç”¨çš„è½¯ä»¶. ä»Šå¤©åŽ»åˆ°å…¬å¸, å°è¯•è¿žäº†ä¸€ä¸‹, åˆä¸é€šäº†. çž¬é—´æ„Ÿè§‰æœ‰ç§è¢«å‘çš„æ„Ÿè§‰. æˆ‘å°è¯• ping äº†ä¸‹, æ˜¯é€šçš„. ç„¶åŽ telnet 22 ç«¯å£, å°±ä¸é€šäº†. æˆ‘TMæƒ³å“­çš„å¿ƒ, éƒ½æœ‰äº†. ç”¨ traceroute -d æŸ¥äº†ä¸€ä¸‹è·¯ç”±è·¯å¾„, ä¹Ÿæ˜¯æ­£å¸¸çš„. ä¸å¾—ä¸å‘å·¥å•, é—®ä¸€ä¸‹æƒ…å†µ. å·¥å•é‡Œ, æˆ‘è¯´æ¸…æ¥šæƒ…å†µåŽ, ç»™æˆ‘çš„å›žå¤æ˜¯, è®©æˆ‘ä¿®æ”¹ ssh çš„ç«¯å£. æ”¹äº†ä¹‹åŽ, æžœç„¶å°±å¯ä»¥äº†, ç»§ç»­è¿½é—®â€¦.æ— æžœ 3. åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­, å­¦åˆ°çš„ä¸œè¥¿traceroute -d æŸ¥è¯¢è·¯ç”±è·¯å¾„ ä¿®æ”¹SSHç«¯å£, /etc/ssh/sshd_config æ·»åŠ  Port=22, Port=1048 ä¿å­˜ é‡å¯æœåŠ¡ service sshd restart]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ ä¹‹ HelloWord]]></title>
    <url>%2F2018%2F08%2F22%2Fnode%2Fmq%2Fnode-rabbitmq_01%2F</url>
    <content type="text"><![CDATA[RabbitMQ ä¹‹ HelloWord RabbitMQ åˆ†ä¸º ç”Ÿäº§è€…, æ¶ˆè´¹è€… ç”Ÿäº§è€…: 123456789101112131415161718192021222324252627282930313233343536373839package com.yuchen.demo.hello;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.Connection;import com.rabbitmq.client.Channel;public class Send &#123; // é˜Ÿåˆ—åç§° private final static String QUEUE_NAME = "lsy_hello"; public static void main(String[] args) throws Exception &#123; // åˆ›å»ºè¿žæŽ¥è¿žæŽ¥åˆ°MabbitMQ ConnectionFactory factory = new ConnectionFactory(); factory.setHost("10.13.144.24"); factory.setVirtualHost("/"); factory.setPort(5672); factory.setUsername("admin"); factory.setPassword("admin"); // æ–°å»ºè¿žæŽ¥ Connection connection = factory.newConnection(); // å»ºç«‹é€šé“ Channel channel = connection.createChannel(); // åˆ›å»ºé˜Ÿåˆ— (é˜Ÿåˆ—åç§°, æŒä¹…åŒ–, ä»…æœ‰1ä¸ªconsumer ä¸ŽautoDeleteé…åˆä½¿ç”¨ æ²¡æœ‰consumerè‡ªåŠ¨åˆ é™¤ , è‡ªåŠ¨åˆ é™¤, å…¶ä»–å‚æ•°) channel.queueDeclare(QUEUE_NAME, false, false, false, null); // å‘é€æ¶ˆæ¯ byte[] // ç”¨æˆ·å¯ä»¥æŠŠè‡ªå·±çš„æ¶ˆæ¯åºåˆ—åŒ–æˆJSONç­‰æ ¼å¼åœ¨è½¬æˆbyte[]å‘é€åˆ°é˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯åŽå†ååºåˆ—åŒ–å¾—åˆ°æ¶ˆæ¯å†…å®¹ String message = "Hello World!"; channel.basicPublish("", QUEUE_NAME, null, message.getBytes()); System.out.println("å‘é€æˆåŠŸ: '" + message + "'"); // å…³é—­è¿žæŽ¥ channel.close(); connection.close(); &#125;&#125; ç”Ÿäº§è€…, å‘æŒ‡å®šçš„æ¶ˆæ¯é€šé“(é˜Ÿåˆ—)ä¸­, æ’å…¥æ¶ˆæ¯ æ¶ˆè´¹è€…: 123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.yuchen.demo.hello;import java.io.IOException;import com.rabbitmq.client.AMQP;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.Consumer;import com.rabbitmq.client.DefaultConsumer;import com.rabbitmq.client.Envelope;public class MessageConsumer &#123; // é˜Ÿåˆ—åç§° private final static String QUEUE_NAME = "lsy_hello"; public static void main(String[] args) throws Exception &#123; // åˆ›å»ºè¿žæŽ¥è¿žæŽ¥åˆ°MabbitMQ ConnectionFactory factory = new ConnectionFactory(); factory.setHost("10.13.144.24"); factory.setVirtualHost("/"); factory.setPort(5672); factory.setUsername("admin"); factory.setPassword("admin"); // æ–°å»ºè¿žæŽ¥ Connection connection = factory.newConnection(); // å»ºç«‹é€šé“ Channel channel = connection.createChannel(); // å£°æ˜Žé˜Ÿåˆ—, å¯èƒ½åœ¨å‘é€æ–¹ä¹‹å‰å¯åŠ¨æŽ¥æ”¶æ–¹, ç¡®ä¿é˜Ÿåˆ—å­˜åœ¨ã€‚ channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(" [*] Waiting for messages. To exit press CTRL+C"); Consumer consumer = new DefaultConsumer(channel) &#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; String message = new String(body, "UTF-8"); System.out.println("æŽ¥æ”¶åˆ°è¿œç«¯æ¶ˆæ¯: '" + message + "'"); &#125; &#125;; channel.basicConsume(QUEUE_NAME, true, consumer); &#125;&#125; æ¶ˆè´¹è€…, ä»ŽæŒ‡å®šçš„æ¶ˆæ¯é€šé“(é˜Ÿåˆ—)ä¸­, è¯»å–æ¶ˆæ¯. é˜»å¡žç›‘å¬æŒ‡å®šé˜Ÿåˆ—çš„æ¶ˆæ¯]]></content>
      <categories>
        <category>RabbitMQ</category>
      </categories>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼(å•ä¾‹æ¨¡å¼)]]></title>
    <url>%2F2018%2F08%2F19%2Farticle%2FDesignPattern%2Fdesign-pattern_01%2F</url>
    <content type="text"><![CDATA[è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼ é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼12345678910111213141516171819package pro.yuchen.singleton;/** * é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼ */public class SingletonDemo_01 &#123; private static SingletonDemo_01 instance = new SingletonDemo_01(); private SingletonDemo_01() &#123; if(null != instance) &#123; throw new RuntimeException(); // é˜²åå°„è°ƒç”¨ &#125; &#125; public static SingletonDemo_01 getInstance() &#123; return instance; &#125;&#125; çº¿ç¨‹å®‰å…¨: æ˜¯ å»¶è¿ŸåŠ è½½: å¦ è°ƒç”¨æ•ˆçŽ‡: é«˜ æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼12345678910111213141516171819202122package pro.yuchen.singleton;/** * æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼ */public class SingletonDemo_02 &#123; private static SingletonDemo_02 instance = null; private SingletonDemo_02() &#123; if(null != instance) &#123; throw new RuntimeException(); // é˜²åå°„è°ƒç”¨ &#125; &#125; public static synchronized SingletonDemo_02 getInstance() &#123; if (null == instance) &#123; instance = new SingletonDemo_02(); &#125; return instance; &#125;&#125; çº¿ç¨‹å®‰å…¨: æ˜¯ å»¶è¿ŸåŠ è½½: æ˜¯ è°ƒç”¨æ•ˆçŽ‡: ä½Ž åŒé‡æ£€æŸ¥çå¼å•ä¾‹æ¨¡å¼123456789101112131415161718192021222324252627282930313233package pro.yuchen.singleton;/** * åŒé‡æ£€æŸ¥çå¼å•ä¾‹æ¨¡å¼ */public class SingletonDemo_03 &#123; private static SingletonDemo_03 instance = null; private SingletonDemo_03() &#123; if(null != instance) &#123; throw new RuntimeException(); // é˜²åå°„è°ƒç”¨ &#125; &#125; public static SingletonDemo_03 getInstance() &#123; if (null == instance) &#123; SingletonDemo_03 s; synchronized (SingletonDemo_03.class) &#123; s = instance; if (s == null) &#123; synchronized (SingletonDemo_03.class) &#123; if (s == null) &#123; s = new SingletonDemo_03(); &#125; &#125; instance = s; &#125; &#125; &#125; return instance; &#125;&#125; ç”±äºŽJVMåº•å±‚, ä¸æ”¯æŒ, æ‰€ä»¥ä¸å»ºè®®è¿™ä¹ˆå†™ é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼1234567891011121314151617package pro.yuchen.singleton;/** * é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼ */public class SingletonDemo_04 &#123; private static class SingletonInstance &#123; private static final SingletonDemo_04 instance = new SingletonDemo_04(); &#125; private SingletonDemo_04() &#123; &#125; public static synchronized SingletonDemo_04 getInstance() &#123; return SingletonInstance.instance; &#125;&#125; çº¿ç¨‹å®‰å…¨: æ˜¯ å»¶è¿ŸåŠ è½½: æ˜¯ è°ƒç”¨æ•ˆçŽ‡: é«˜ æžšä¸¾ç±»åž‹å•ä¾‹æ¨¡å¼1234567891011121314package pro.yuchen.singleton;/** * é™æ€å†…éƒ¨ç±»å•ä¾‹æ¨¡å¼ */public enum SingletonDemo_05 &#123; INSTANCE; // è¿”å›žæœ¬èº« public void operation() &#123; System.out.println("......"); &#125;&#125; çº¿ç¨‹å®‰å…¨: æ˜¯ å»¶è¿ŸåŠ è½½: å¦ è°ƒç”¨æ•ˆçŽ‡: é«˜ å…³äºŽåå°„é€šè¿‡åå°„åˆ›å»ºå•ä¾‹å¯¹è±¡123456789101112131415161718192021@org.junit.Testpublic void test_reflection() &#123; // é€šè¿‡åå°„, ç ´å•ä¾‹ try &#123; Class&lt;SingletonDemo_04&gt; clazz = (Class&lt;SingletonDemo_04&gt;) Class.forName("pro.yuchen.singleton.SingletonDemo_04"); Constructor&lt;SingletonDemo_04&gt; constructor = clazz.getDeclaredConstructor(null); constructor.setAccessible(true); // å¿½ç•¥è®¿é—®æƒé™ SingletonDemo_04 s = constructor.newInstance(); System.out.println(s); System.out.println(SingletonDemo_04.getInstance()); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; catch (NoSuchMethodException e) &#123; e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; catch (InstantiationException e) &#123; e.printStackTrace(); &#125; catch (InvocationTargetException e) &#123; e.printStackTrace(); &#125;&#125; åº”å¯¹ä¹‹æ³•12345private SingletonDemo_04() &#123; // åº”å¯¹åå°„åˆ›å»ºå¯¹è±¡ if (SingletonInstance.instance != null) &#123; throw new RuntimeException(); &#125;&#125; å…³äºŽåºåˆ—åŒ–é€šè¿‡ååºåˆ—åŒ–åˆ›å»ºå•ä¾‹å¯¹è±¡12345678910111213141516171819202122232425262728@org.junit.Testpublic void test_serializable() &#123; // æµ‹è¯•åºåˆ—åŒ–, ç ´å•ä¾‹ byte[] bytes = null; try &#123; // å°†å¯¹è±¡åºåˆ—åŒ–åˆ°å†…å­˜ä¸­ SingletonDemo_04 s = SingletonDemo_04.getInstance(); System.out.println(s); ByteArrayOutputStream bos = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(bos); oos.writeObject(s); bytes = bos.toByteArray(); oos.close(); bos.close(); System.out.println(bytes); // å°†å†…å­˜ä¸­çš„åºåˆ—åŒ–æ•°ç»„, ååºåˆ—åŒ–ä¸ºå¯¹è±¡ ByteArrayInputStream bis = new ByteArrayInputStream(bytes); ObjectInputStream ois = new ObjectInputStream(bis); SingletonDemo_04 s1 = (SingletonDemo_04) ois.readObject(); System.out.println(s1); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125;&#125; åº”å¯¹ä¹‹æ³•123private Object readResolve() throws ObjectStreamException &#123; // åº”å¯¹ååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡ return SingletonInstance.instance;&#125; SingletonDemo_04 é‡å†™ readResolve æ–¹æ³• å¤šçº¿ç¨‹çŽ¯å¢ƒä¸‹æµ‹è¯•1234567891011121314151617181920212223@org.junit.Testpublic void test_much_thread() throws InterruptedException &#123; long start = System.currentTimeMillis(); int max = 1000; final CountDownLatch count = new CountDownLatch(max); for (int i = 0; i &lt; max; i++) &#123; new Thread(new Runnable() &#123; public void run() &#123; for (int i = 0; i &lt; 10000; i++) &#123;// Object o = SingletonDemo_01.getInstance(); // 287// Object o = SingletonDemo_02.getInstance(); // 199// Object o = SingletonDemo_03.getInstance(); // 254// Object o = SingletonDemo_04.getInstance(); // 519 Object o = SingletonDemo_05.INSTANCE; // 274 &#125; count.countDown(); &#125; &#125;).start(); &#125; count.await(); long end = System.currentTimeMillis(); System.out.println("æ€»è€—æ—¶: " + (end - start));&#125; CountDownLatch çº¿ç¨‹é˜»å¡ž]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¾è®¡æ¨¡å¼(åˆçª¥)]]></title>
    <url>%2F2018%2F08%2F13%2Farticle%2FDesignPattern%2Fdesign-pattern_00%2F</url>
    <content type="text"><![CDATA[å…³äºŽè®¾è®¡æ¨¡å¼çš„å…­å¤§åŽŸåˆ™ å•ä¸€å€¼å®ˆåŽŸåˆ™é‡Œæ°æ›¿æ¢åŽŸåˆ™ä¾èµ–å€’ç½®åŽŸåˆ™æŽ¥å£éš”ç¦»åŽŸåˆ™è¿ªç±³ç‰¹æ³•åˆ™å¼€é—­åŽŸåˆ™]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³AJAXæäº¤ä¸­æ–‡ä¿¡æ¯ä¹±ç ]]></title>
    <url>%2F2018%2F08%2F08%2Fnode%2Fjava%2Fnode-j2ee_08%2F</url>
    <content type="text"><![CDATA[è§£å†³AJAX æäº¤ä¸­æ–‡ä¿¡æ¯ä¹±ç  è§£å†³AJAX æäº¤ä¸­æ–‡ä¿¡æ¯ä¹±ç HTMLé¡µé¢1234567891011121314151617181920&lt;script type="text/javascript"&gt; // æ‰§è¡Œä¿å­˜ var remark = $("#remark").val(); if(remark == undefined) &#123; remark = ""; &#125; // èŽ·å–éœ€è¦å±•ç¤ºçš„æ•°æ® $.ajax(&#123; type: "post", url: "/erp/order/ajax/OutlayAndIncomesByOrderId", async: true, datatype:"json", contentType: "application/x-www-form-urlencoded; charset=utf-8", data: &#123;"orderId": orderId, "status": status, "id": id, "remark": remark&#125;, success: function(data) &#123; // å°†æ•°æ®å±•ç¤ºåˆ°å¼¹å‡ºå±‚ä¸­ init_review_datas(data, orderId); &#125; &#125;);&lt;/script&gt; type: &quot;post&quot;, ä»¥POSTè¯·æ±‚æ–¹å¼æäº¤ä¸­æ–‡ contentType: &quot;application/x-www-form-urlencoded; charset=utf-8&quot; ä¿®æ”¹è¯·æ±‚ä½“ç±»åž‹å’Œè¯·æ±‚ä½“çš„å­—ç¬¦é›† Controller123456789101112131415161718@RequestMapping(value = "/order/ajax/ApplyForBatchOutlay", method = &#123; RequestMethod.POST &#125;)@ResponseBodypublic Map&lt;String, String&gt; ajaxApplyForBatchOutlay(HttpServletRequest request, Model model, @RequestBody List&lt;Map&lt;String,Object&gt;&gt; datas) &#123; Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;(); if (null == datas) &#123; result.put("msg", "alert-danger"); result.put("data", "è¯·æ­£ç¡®å¡«å†™è¯·æ¬¾ä¿¡æ¯..."); return result; &#125; for (Map&lt;String, Object&gt; map : datas) &#123; System.out.println(map); &#125; result.put("msg", "alert-success"); result.put("data", "è¯·æ¬¾ç”³è¯·æˆåŠŸ, ç­‰å¾…è´¢åŠ¡å®¡æ ¸..."); return result;&#125;]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX ä¸Šä¼ JSONæ•°ç»„]]></title>
    <url>%2F2018%2F07%2F24%2Fnode%2Fjava%2Fnode-j2ee_07%2F</url>
    <content type="text"><![CDATA[AJAX ä¸Šä¼ JSONæ•°ç»„ AJAX ä¸Šä¼ JSONæ•°ç»„HTMLé¡µé¢12345678910111213141516&lt;script type="text/javascript"&gt; $.ajax(&#123; type:"post", url:"/erp/order/ajax/ApplyForBatchOutlay", async:true, datatype:"json", contentType: "application/json; charset=utf-8", data: JSON.stringify(datas), success: function(data) &#123; $("#message").html('&lt;button type="button" class="close" data-dismiss="alert"&gt;&amp;times;&lt;/button&gt;'); $("#message").removeClass("hide"); $("#message").addClass(data.msg); $("#message").html($("#message").html() + data.data); &#125; &#125;);&lt;/script&gt; datatype:&quot;json&quot;, contentType: &quot;application/json; charset=utf-8&quot; å£°æ˜Žæ•°æ®æ ¼å¼ JSON.stringify(datas) å°†JavaScriptå¯¹è±¡è½¬ä¸º JSON å­—ç¬¦ä¸² Controller123456789101112131415161718@RequestMapping(value = "/order/ajax/ApplyForBatchOutlay", method = &#123; RequestMethod.POST &#125;)@ResponseBodypublic Map&lt;String, String&gt; ajaxApplyForBatchOutlay(HttpServletRequest request, Model model, @RequestBody List&lt;Map&lt;String,Object&gt;&gt; datas) &#123; Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;(); if (null == datas) &#123; result.put("msg", "alert-danger"); result.put("data", "è¯·æ­£ç¡®å¡«å†™è¯·æ¬¾ä¿¡æ¯..."); return result; &#125; for (Map&lt;String, Object&gt; map : datas) &#123; System.out.println(map); &#125; result.put("msg", "alert-success"); result.put("data", "è¯·æ¬¾ç”³è¯·æˆåŠŸ, ç­‰å¾…è´¢åŠ¡å®¡æ ¸..."); return result;&#125;]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bootstrap æ’ä»¶(DataTables, DatePicker)]]></title>
    <url>%2F2018%2F07%2F23%2Fnode%2Fjavascript%2Fnode-javascript_18%2F</url>
    <content type="text"><![CDATA[Bootstrap å¸¸ç”¨çš„è¡¨æ ¼æ’ä»¶(DataTables), æ—¥æœŸæ’ä»¶(DatePicker) å’Œ ä¸‹æ‹‰åˆ—è¡¨æŽ§ä»¶(BootStrap-Select) è¡¨æ ¼æ’ä»¶(DataTables) å¼•å…¥ä¾èµ–æ–‡ä»¶ /vendor/datatables/js/jquery.dataTables.min.js /vendor/datatables-plugins/dataTables.bootstrap.min.js /vendor/datatables-responsive/dataTables.responsive.js /vendor/datatables-plugins/dataTables.bootstrap.css /vendor/datatables-responsive/dataTables.responsive.css å®žé™…ä½¿ç”¨ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;table width="100%" class="table table-striped table-bordered table-hover" id="tables"&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;å›½å®¶&lt;/th&gt; &lt;th&gt;ç­¾è¯ç±»åž‹&lt;/th&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;th&gt;æ•°é‡&lt;/th&gt; &lt;th&gt;è¯·æ¬¾é‡‘é¢&lt;/th&gt; &lt;th&gt;æ”¶æ¬¾é‡‘é¢&lt;/th&gt; &lt;th&gt;é€€æ¬¾é‡‘é¢&lt;/th&gt; &lt;th&gt;çŠ¶æ€&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;ç¾Žå›½&lt;/td&gt; &lt;td&gt;ç¾Žå›½å•†åŠ¡ç­¾è¯&lt;/td&gt; &lt;td&gt;æ±Ÿæ³¢æ¶›, æœæ˜Ž, å­™ç¿”, å‘¨æ³½æ¥·&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;650&lt;/td&gt; &lt;td&gt;900&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;å·²å®Œæˆ&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;script type="text/javascript"&gt; $(document).ready(function() &#123; $('#dataTables-example').DataTable(&#123; "oLanguage": &#123; "sLengthMenu": "æ¯é¡µæ˜¾ç¤º _MENU_ æ¡è®°å½•", "sZeroRecords": "å¯¹ä¸èµ·ï¼ŒæŸ¥è¯¢ä¸åˆ°ä»»ä½•ç›¸å…³æ•°æ®", "sInfo": "å½“å‰æ˜¾ç¤º _START_ åˆ° _END_ æ¡ï¼Œå…± _TOTAL_æ¡è®°å½•", "sInfoEmtpy": "æ‰¾ä¸åˆ°ç›¸å…³æ•°æ®", "sInfoFiltered": "æ•°æ®è¡¨ä¸­å…±ä¸º _MAX_ æ¡è®°å½•)", "sProcessing": "æ­£åœ¨åŠ è½½ä¸­...", "sSearch": "æœç´¢", "oPaginate": &#123; "sFirst": "ç¬¬ä¸€é¡µ", "sPrevious": " ä¸Šä¸€é¡µ ", "sNext": " ä¸‹ä¸€é¡µ ", "sLast": " æœ€åŽä¸€é¡µ " &#125; &#125;, responsive: true, "order": [[ 1, "desc" ]], "columnDefs": [ &#123; "orderable": false, "targets": 0 &#125; ], initComplete: function () &#123; var select = $("#sales"); // é¡µé¢ä¸Šçš„selectæŽ§ä»¶ var api = this.api(); // èŽ·å–apiå¯¹è±¡ var column = api.column(2); // èŽ·å–åˆ—å¯¹è±¡ column.data().unique().sort().each(function (d, j) &#123; // éåŽ†åˆ—ä¸­åŽ»é‡åŽçš„æ•°æ® select.append( '&lt;option value="'+d+'"&gt;'+d+'&lt;/option&gt;' ); &#125;); &#125; &#125;); &#125;);&lt;/script&gt; å¸¸ç”¨é…ç½® &quot;order&quot;: [[ 1, &quot;desc&quot; ]] é»˜è®¤ç¬¬äºŒåˆ—é™åºæŽ’åˆ— &quot;columnDefs&quot;: [{ &quot;orderable&quot;: false, &quot;targets&quot;: 0 } ] ç¬¬ä¸€åˆ—ä¸è¿›è¡ŒæŽ’åº &quot;initComplete&quot; : function() {} åˆå§‹åŒ–è¡¨æ ¼æ—¶, æ‰§è¡Œçš„æ–¹æ³• å¸¸ç”¨æ–¹æ³• è‡ªå®šä¹‰æ£€ç´¢æ¡ä»¶ 12345678910111213141516$("#query").on("click", function() &#123; var order_no = isNotNull(document.getElementById("order_no").value); var order_date = isNotNull(document.getElementById("order_date").value); var sales = isNotNull(document.getElementById("sales").value); var name = isNotNull(document.getElementById("name").value); var type = isNotNull($('input[name=type]:checked').val()); var status = isNotNull($('input[name=status]:checked').val()); table.column(0).search(order_no); // æ£€ç´¢åˆ—ä¸­å¯¹å°±çš„å€¼ table.column(1).search(order_date); table.column(2).search(sales); table.column(5).search(name); table.column(10).search(type); table.column(17).search(status); table.draw(); // è¡¨æ ¼é‡ç»˜&#125;); åˆ·æ–°é¡µé¢åŽ, å›žæ˜¾é¡µç  12345678910111213141516171819$("#dataTables-example").on("page.dt", function() &#123; // ç¿»é¡µäº‹ä»¶ // è®¡ç®—é¡µç  var table = $("#dataTables-example").dataTable(); var setings = table.fnSettings(); var length = setings._iDisplayLength; // å½“å‰æ¯é¡µæ˜¾ç¤ºå¤šå°‘ var start = setings._iDisplayStart; // å½“å‰é¡µå¼€å§‹ var page=(start / length); // å¾—åˆ°é¡µæ•°å€¼ console.log(page); // å°†é¡µç å­˜å…¥ Session Storage sessionStorage.setItem("page", page);&#125;).dataTable();$(function() &#123; if(sessionStorage.getItem("page") != null) &#123; var page = sessionStorage.getItem("page"); var table = $("#dataTables-example").dataTable(); table.fnPageChange(Number(page));//åŠ è½½è·³è½¬ &#125;&#125;); æ³¨æ„: DataTablesçš„é…ç½®é¡¹ä¸­, è¦åŠ å…¥ &quot;bDestroy&quot;: true æ—¥æœŸæ’ä»¶(DatePicker) å¼•å…¥ä¾èµ–æ–‡ä»¶ /vendor/bootstrap-datepicker/js/bootstrap-datepicker.js /vendor/bootstrap-datepicker/locales/bootstrap-datepicker.zh-CN.min.js /vendor/bootstrap-datepicker/css/bootstrap-datepicker.css å®žé™…ä½¿ç”¨ 123456789101112131415161718192021222324252627&lt;div class="col-lg-12 "&gt; &lt;div class="col-lg-1 "&gt; &lt;label&gt;å¼€å§‹æ—¥æœŸ:&lt;/label&gt; &lt;/div&gt; &lt;div class="col-lg-2 "&gt; &lt;input type="text" class="form-control datepicker" data-provide="datepicker" id="start" name="start" value="$&#123;param.start &#125;" /&gt; &lt;/div&gt; &lt;div class="col-lg-1 "&gt; &lt;label&gt;ç»“æŸæ—¥æœŸ:&lt;/label&gt; &lt;/div&gt; &lt;div class="col-lg-2 "&gt; &lt;input type="text" class="form-control datepicker" data-provide="datepicker" id="end" name="end" value="$&#123;param.end &#125;" /&gt; &lt;/div&gt;&lt;/div&gt;&lt;script type="text/javascript"&gt; $('.datepicker').datepicker(&#123; format: 'yyyy-mm', startDate: '-12m', endDate: '0d', language: 'zh-CN', autoclose: true, startView: 'months', maxViewMode:'years', minViewMode:'months' &#125;);&lt;/script&gt; å¸¸ç”¨é…ç½® format: &#39;yyyy-mm&#39; é…ç½®æ—¥æœŸæ ¼å¼ startDate: &#39;-12m&#39; é…ç½®å¯é€‰æ‹©çš„å¼€å§‹æ—¥æœŸ endDate: &#39;0d&#39; é…ç½®å¯é€‰æ‹©çš„ç»“æŸæ—¥æœŸ language: &#39;zh-CN&#39; é…ç½®è¯­è¨€ autoclose: true è‡ªåŠ¨å…³é—­ startView: &#39;months&#39; å¼€å§‹è§†å›¾ä¸ºé€‰æ‹©æœˆä»½ maxViewMode:&#39;years&#39; æœ€é«˜å±‚è§†å›¾ä¸º é€‰æ‹©å¹´ä»½ minViewMode:&#39;months&#39; æœ€åº•å±‚è§†å›¾ä¸º é€‰æ‹©æœˆä»½ ä¸‹æ‹‰åˆ—è¡¨æŽ§ä»¶(BootStrap-Select) å¼•å…¥ä¾èµ–æ–‡ä»¶ /vendor/bootstrap-select/dist/js/bootstrap-select.min.js /vendor/bootstrap-select/dist/js/i18n/defaults-zh_CN.min.js /vendor/bootstrap-select/dist/css/bootstrap-select.min.css å®žé™…ä½¿ç”¨ 123456789&lt;input id="_sales" name="sales" type="hidden" /&gt;&lt;select id="select_sales" class="selectpicker" data-live-search="true" title="--è¯·é€‰æ‹©--" multiple onchange="$('#_sales').val($('#select_sales').val().toString())"&gt; &lt;option class="hover-item" value="1"&gt;å¼ ä¸‰&lt;/option&gt; &lt;option class="hover-item" value="2"&gt;æŽå››&lt;/option&gt; &lt;option class="hover-item" value="3"&gt;çŽ‹äº”&lt;/option&gt; &lt;option class="hover-item" value="4"&gt;èµµå…­&lt;/option&gt;&lt;/select&gt; å¸¸ç”¨é…ç½® data-live-search=&quot;true&quot; å¼€å¯æœç´¢ multiple å¼€å¯å¤é€‰ title=&quot;--è¯·é€‰æ‹©--&quot; é»˜è®¤æ˜¾ç¤ºå†…å®¹ æ¶ˆæ¯å›žæ˜¾ 1234var str = '1,2,4';var arr = str.split(',');$('#select_sales').selectpicker('val', arr);document.getElementById("_sales").value = str; â€‹]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Bootstrap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ SpringMVC å®žçŽ°æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½]]></title>
    <url>%2F2018%2F07%2F21%2Fnode%2Fjava%2Fnode-j2ee_06%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ SpringMVC å®žçŽ°æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ 1. æ–‡ä»¶ä¸Šä¼ HTMLé¡µé¢1234567891011121314151617181920212223&lt;form id="submit_form" action="/order/save" method="post" enctype="multipart/form-data" &gt; &lt;div class="row"&gt; &lt;div class="col-lg-2 "&gt;&lt;label&gt;é™„ä»¶:&lt;/label&gt;&lt;/div&gt; &lt;div class="col-lg-4 "&gt; &lt;label class="form-inline"&gt; &lt;input type="button" id="openFile" class="btn btn-success" value="é€‰æ‹©æ–‡ä»¶..." /&gt; &lt;input type="file" class="hide" id="annex" name="annex" /&gt; &lt;/label&gt; &lt;/div&gt; &lt;/div&gt;&lt;/form&gt;&lt;script type="text/javascript"&gt; $("#openFile").on("click", function() &#123; var annex = document.getElementById("annex"); annex.click(); annex.onchange = function() &#123; var filename = annex.value; filename = filename.substring(12); document.getElementById("openFile").value = filename; &#125; &#125;);&lt;/script&gt; è¡¨å•ä¸­æœ‰æ–‡ä»¶è¦ä¸Šä¼ æ—¶, éœ€è¦æ·»åŠ  enctype=&quot;multipart/form-data&quot; å±žæ€§ Controller123456789101112131415@RequestMapping(value = "/order/save", method = &#123; RequestMethod.POST &#125;)public String save(HttpServletRequest request, Model model, @RequestParam MultipartFile annex) &#123; if (null != annex &amp;&amp; annex.getSize() &gt; 0) &#123; // ä¿å­˜é™„ä»¶ String fileName = order.getOrderNo() + "_" + annex.getOriginalFilename(); String annexPath = UploadPath.getOrderAnnexPath() + File.separator + fileName; File file = new File(annexPath); try &#123; annex.transferTo(file); // ä¿å­˜æ–‡ä»¶åˆ°ç£ç›˜ &#125; catch (IllegalStateException | IOException e) &#123; e.printStackTrace(); &#125; &#125; return "redirect:/order";&#125; 2. æ–‡ä»¶ä¸‹è½½Controller12345@RequestMapping(value = "/order/down/annex", method = &#123; RequestMethod.GET &#125;)public void downAnnexByOrderId(HttpServletRequest request, HttpServletResponse response, Integer orderId) &#123; Order order = orderService.get(orderId); ExportUtil.export(order.getAnnexPath(), request, response);&#125; ExportUtil12345678910111213141516171819202122232425262728293031323334353637383940414243public class ExportUtil &#123; private static final Logger logger = Logger.getLogger(ExportUtil.class); public static void export(String filePath, HttpServletRequest request, HttpServletResponse response) &#123; File file = new File(filePath); if(!file.exists())&#123; logger.error("æ–‡ä»¶ä¸å­˜åœ¨"); return; &#125; try &#123; String fileName = file.getName(); String prefix=fileName.substring(fileName.lastIndexOf(".")+1); response.reset(); response.setContentType("application/"+prefix+";charset=UTF-8"); String filenamedisplay = URLEncoder.encode(fileName, "UTF-8"); if (request.getHeader("User-Agent").toLowerCase().indexOf("firefox") &gt; 0) &#123; filenamedisplay = new String(fileName.getBytes("UTF-8"), "ISO8859-1");// firefoxæµè§ˆå™¨ &#125; else if (request.getHeader("User-Agent").toUpperCase().indexOf("MSIE") &gt; 0) &#123; filenamedisplay = URLEncoder.encode(fileName, "UTF-8");// IEæµè§ˆå™¨ &#125; else if (request.getHeader("User-Agent").toUpperCase().indexOf("SAFARI") &gt; 0) &#123; filenamedisplay = new String(fileName.getBytes("UTF-8"), "ISO8859-1");// safari æµè§ˆå™¨ &#125;else if (request.getHeader("User-Agent").toUpperCase().indexOf("CHROME") &gt; 0) &#123; filenamedisplay = new String(fileName.getBytes("UTF-8"), "ISO8859-1");// Chromeæµè§ˆå™¨ &#125; long fileLength = new File(filePath).length(); response.setHeader("Content-Disposition", "attachment;filename=\"" + filenamedisplay +"\""); response.setHeader("Content-Length", String.valueOf(fileLength)); BufferedInputStream br = new BufferedInputStream(new FileInputStream(file)); byte[] buf = new byte[1024]; int len = 0; OutputStream out = response.getOutputStream(); while ((len = br.read(buf)) &gt; 0) &#123; out.write(buf, 0, len); &#125; out.flush(); br.close(); out.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125; HTML1234567&lt;a href="javascript:down_annex(1);"&gt;ä¸‹è½½&lt;/a&gt;&lt;script type="text/javascript"&gt; function down_annex(id) &#123; window.location = "/erp/order/down/annex?orderId=" + id; &#125;&lt;/script&gt;]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaWeb</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hibernate æ‰§è¡ŒåŽŸå§‹SQLè¯­å¥]]></title>
    <url>%2F2018%2F06%2F26%2Fnode%2Fjava%2Fnode-j2ee_05%2F</url>
    <content type="text"><![CDATA[Hibernate æ‰§è¡Œselectè¯­å¥, å¹¶å°†æ‰§è¡Œç»“æžœæ˜ å°„åˆ°beanä¸­ ä¸Šé¢çš„æŸ¥è¯¢éƒ½æ˜¯è¿”å›žæ ‡é‡å€¼çš„ï¼Œä¹Ÿå°±æ˜¯ä»Žresultsetä¸­è¿”å›žçš„â€œè£¸â€æ•°æ®ã€‚ä¸‹é¢å±•ç¤ºå¦‚ä½•é€šè¿‡addEntity()è®©åŽŸç”ŸæŸ¥è¯¢è¿”å›žå®žä½“å¯¹è±¡ã€‚ 12session.createSQLQuery("SELECT * FROM CATS").addEntity(Cat.class);session.createSQLQuery("SELECT ID, NAME, BIRTHDATE FROM CATS").addEntity(Cat.class);]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JPA</tag>
        <tag>Hibernate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¿€æ´» Navicat Premium for Mac]]></title>
    <url>%2F2018%2F06%2F26%2Fnode%2Fnode-navicat-sn%2F</url>
    <content type="text"><![CDATA[æ¿€æ´» Navicat Premium for Mac 1. å‡†å¤‡ â€˜å…¬é’¥/ç§é’¥â€™ 1234567891011121314151617181920212223242526272829303132333435363738-----BEGIN PUBLIC KEY-----MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQB8vXG0ImYhLHvHhpi5FS3gd2QhxSQiU6dQ04F1OHB0yRRQ3NXF5py2NNDw962i4WP1zpUOHh94/mg/KA8KHNJXHtQVLXMRms+chomsQCwkDi2jbgUa4jRFN/6N3QejJ42jHasY3MJfALcnHCY3KDEFh0N89FV4yGLyDLr+TLqpRecg9pkPnOp++UTSsxz/e0ONlPYrra/DiaBjsleAESZSI69sPD9xZRt+EciXVQfybI/2SYeAdXMm1B7tHCcFlOxeUgqYV03VEqiC0jVMwRCd+03NU3wvEmLBvGOmNGudocWIF/y3VOqyW1byXFLeZxl7s+Y/SthxOYXzu3mF+2/pAgMBAAE=-----END PUBLIC KEY----------BEGIN RSA PRIVATE KEY-----MIIEogIBAAKCAQB8vXG0ImYhLHvHhpi5FS3gd2QhxSQiU6dQ04F1OHB0yRRQ3NXF5py2NNDw962i4WP1zpUOHh94/mg/KA8KHNJXHtQVLXMRms+chomsQCwkDi2jbgUa4jRFN/6N3QejJ42jHasY3MJfALcnHCY3KDEFh0N89FV4yGLyDLr+TLqpRecg9pkPnOp++UTSsxz/e0ONlPYrra/DiaBjsleAESZSI69sPD9xZRt+EciXVQfybI/2SYeAdXMm1B7tHCcFlOxeUgqYV03VEqiC0jVMwRCd+03NU3wvEmLBvGOmNGudocWIF/y3VOqyW1byXFLeZxl7s+Y/SthxOYXzu3mF+2/pAgMBAAECggEAK5qZbYt8wenn1uZg6onRwJ5bfUaJjApL+YAFx/ETtm83z9ByVbx4WWT7CNC7fK1nINy20/mJrOTZkgIxx6otiNC4+DIsACJqol+RLoo8I9pk77Ucybn65ZteOz7hVZIU+8j6LzW0KDt6yowXe75r7G/NEpfibNc3Zz81+oDd2x+bHyGbzc9QcePIVuEzkof6jgpbWrQZU14itx9lVxEgj/fbMccvBx8brR/l9ClmDZd9Y6TWsF1rfJpF3+DPeqFkKCiD7PGz3bs4O/ZdZrfV21ZNVusBW49G6bU63gQVKsOf1qGo3efbAW1HVxgTQ/lExVdcMvdenZm+ADKpL4/wUQKBgQDOfBjn3OC2IerUFu18EgCS7pSjTSibXw+TeX3D5zwszLC091G2rGlT5DihBUhMfesNdpoZynrs4YB6Sz9C3wSGAB8AM/tNvPhtSVtbMHmrdT2DEEKCvLkORNBnt+8aTu2hGRanw9aL1189gzwrmXK5ZuuURfgLrB9ihrvjo4VznQKBgQCapx13dEA1MwapBiIa3k8hVBCoGPsEPWqM33RBdUqUsP33f9/PCx00j/akwmjgQNnBlAJoY7LOqPCyiwOkEf40T4IlHdzYntWQQvHhfBwqSgdkTE9tKj43Ddr7JVFRL6yMSbW39qAp5UX/+VzOLGAlfzJ8CBnkXwGrnKPCVbnZvQKBgQCd+iof80jlcCu3GteVrjxMLkcAbb8cqG1FWpVTNe4/JFgqDHKzPVPUgG6nG2CGTWxxv4UFKHpGE/11E28SHYjbcOpHAH5LqsGy84X2za649JkcVmtclUFMXm/Ietxvl2WNdKF1t4rFMQFIEckOXnd8y/Z/Wcz+OTFF82l7L5ehrQKBgFXl9m7v6e3ijpN5LZ5A1jDL0Yicf2fmePUP9DGbZTZbbGR46SXFpY4ZXEQ9GyVbv9dOT1wN7DXvDeoNXpNVzxzdAIt/H7hN2I8NL+4vEjHG9n4WCJO4v9+yWWvfWWA/m5Y8JqusV1+N0iiQJ6T4btrE4JSVp1P6FSJtmWOKW/T9AoGAcMhPMCL+N+AvWcYt4Y4mhelvDG8e/Jj4U+lwS3g7YmuQuYx7h5tjrS33w4o20g/3XudPMJHhA3z+d8b3GaVM3ZtcRM3+Rvk+zSOcGSwn3yDy4NYlv9bdUj/4H+aU1Qu1ZYojFM1Gmbe4HeYDOzRsJ5BhNrrV12h27JWkiRJ4F/Q=-----END RSA PRIVATE KEY----- Ps: RSA æ˜¯ä¸€ç§éžå¯¹ç§°çš„åŠ å¯†æ–¹å¼, ç”¨å…¬é’¥åŠ å¯†çš„æ–‡æœ¬, è¦ç”¨ç§é’¥è§£å¯†. ç”¨ç§é’¥åŠ å¯†çš„æ–‡æœ¬, è¦ç”¨å…¬é’¥è§£å¯†. 2. å®‰è£… Navicat Premiumå®‰è£…åŽä¸è¦ç€æ€¥æ‰“å¼€ Navicat, å…ˆè¿›åˆ° /Applications/Navicat Premium.app/Contents/Resources ç›®å½•, å°†rpkæ–‡ä»¶å†…å®¹, æ¢ä¸ºä¸Šé¢æˆ‘ä»¬è‡ªå·±çš„å…¬é’¥. ç„¶åŽæ–­ç½‘, æ‰‹åŠ¨æ¿€æ´» , è¾“å…¥åºåˆ—å·NAVH-T4PX-WT8W-QBL5 çŽ°åœ¨ä¼šæ‹¿åˆ° è¯·æ±‚ç , ç”¨ç§é’¥è§£å¯†åŽ, ä¼šå¾—åˆ° 12345&#123; "K" : "NAVHT4PXWT8WQBL5", "P" : "Mac 10.13", "DI" : "ODQ2Yjg2ZDBjMTEzMjhh"&#125; â€œKâ€ä»£è¡¨æ¿€æ´»å¯†é’¥ â€œDIâ€ä»£è¡¨è®¾å¤‡ç  è¦æ ¹æ®è¯·æ±‚ç , æ‹¼è£…è‡ªå·±çš„æ¿€æ´»ç  {&quot;K&quot;:&quot;NAVHT4PXWT8WQBL5&quot;, &quot;N&quot;:&quot;Selfimpr&quot;, &quot;O&quot;:&quot;yuchen.pro&quot;, &quot;DI&quot;:&quot;ODQ2Yjg2ZDBjMTEzMjhh&quot;, &quot;T&quot;:1516280990} â€‹ æ¿€æ´»ç çš„â€Kâ€å’Œâ€DIâ€å¿…é¡»å’Œè¯·æ±‚ç ä¸€è‡´. â€‹ â€œNâ€ä»£è¡¨åç§°ï¼Œå¡«å†™ä»»æ„å­—ç¬¦ï¼› â€‹ â€œOâ€ä»£è¡¨ç»„ç»‡ï¼Œå¡«å†™ä»»æ„å­—ç¬¦; â€‹ â€œTâ€ä»£è¡¨æ³¨å†Œæ—¶é—´ï¼Œå¿…é¡»æ˜¯UNIXæ—¶é—´æ ¼å¼çš„æ•´æ•°å½¢å¼; â€‹ æ³¨æ„: ä¸Šé¢çš„æ¿€æ´»ç , å¤šä¸€ä¸ªç©ºæ ¼, éƒ½ä¸è¡Œ ç”¨ç§é’¥åŠ å¯†æ¿€æ´»ç , ç²˜åˆ° Navicatä¸­, å°±å¯æ¿€æ´»äº† é™„: RSAåœ¨çº¿åŠ å¯†è§£å¯†å·¥å…· http://tool.chacuo.net/cryptrsapubkey]]></content>
      <categories>
        <category>ToolsCrack</category>
      </categories>
      <tags>
        <tag>Edraw</tag>
        <tag>ToolsCrack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿œç¨‹æµ‹è¯•mysqlæ•°æ®åº“3306ç«¯å£æŠ¥é”™]]></title>
    <url>%2F2018%2F06%2F26%2Fnode%2Fdatabase%2Fnode-mysql_01%2F</url>
    <content type="text"><![CDATA[è¿œç¨‹æµ‹è¯•mysqlæ•°æ®åº“3306ç«¯å£æŠ¥é”™ é”™è¯¯çŽ°è±¡ï¼š12345[root@localhost ~]# telnet 192.168.10.130 3306Trying 192.168.10.130...Connected to 192.168.10.130.Escape character is '^]'.GHost '192.168.10.120' is not allowed to connect to this MySQL serverConnection closed by foreign host è§£å†³æ–¹æ³•ï¼šå…·ä½“åŽŸå› æ˜¯æƒé™é—®é¢˜ï¼Œéœ€è¦é‡æ–°è®¾ç½®å¤–éƒ¨ç™»é™†ç”¨æˆ·æƒé™12345mysql&gt; grant all privileges on *.* to 'root'@'%' identified by '123456' with grant option;Query OK, 0 rows affected (0.01 sec)mysql&gt; flush privileges; Query OK, 0 rows affected (0.00 sec)mysql&gt; exit]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOSä¸Šä¸€äº›è½¯ä»¶çš„æ¿€æ´»]]></title>
    <url>%2F2018%2F06%2F21%2Fnode%2Fnode-tools-crack%2F</url>
    <content type="text"><![CDATA[MacOSä¸Šä¸€äº›è½¯ä»¶çš„æ¿€æ´» DataGrip:é€‰æ‹©License server License service address: http://xidea.online]]></content>
      <categories>
        <category>ToolsCrack</category>
      </categories>
      <tags>
        <tag>ToolsCrack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Edraw for Mac æ³¨å†Œç ]]></title>
    <url>%2F2018%2F06%2F21%2Fnode%2Fnode-edraw-sn%2F</url>
    <content type="text"><![CDATA[Edraw9.1 for Mac æ³¨å†Œç  æ³¨æ„ï¼š è¯·æ–­ç½‘æƒ…å†µä¸‹æ¿€æ´»ï¼é€‰æ‹© æ‰‹åŠ¨æ¿€æ´» ï¼ ç”¨æˆ·åï¼šGUANTAO2008 äº§å“å¯†é’¥ï¼š0711-8621-3000-8217-5433]]></content>
      <categories>
        <category>ToolsCrack</category>
      </categories>
      <tags>
        <tag>Edraw</tag>
        <tag>ToolsCrack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle æ‰¹é‡æ’å…¥æ•°æ®]]></title>
    <url>%2F2018%2F06%2F20%2Fnode%2Fdatabase%2Fnode-oracle_14%2F</url>
    <content type="text"><![CDATA[Oracle æ‰¹é‡æ’å…¥æ•°æ® 12345INSERT INTO table(column1, column2, ... column_n )SELECT expression1, expression2, ... expression_nFROM source_table[WHERE conditions];]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å•ç‚¹ç™»å½•]]></title>
    <url>%2F2018%2F06%2F19%2Fnode%2Fnode-sso_1%2F</url>
    <content type="text"><![CDATA[å•ç‚¹ç™»å½•çš„åŸºæœ¬æ€è·¯ ç™»å½•çŠ¶æ€ä¿å­˜ï¼ˆredis/mysqlï¼‰ è¯·æ±‚æºå¸¦ç™»å½•çŠ¶æ€è¿”å›žæ ‡è¯†ï¼ˆtokenï¼‰ filteréªŒè¯token]]></content>
      <categories>
        <category>SSO</category>
      </categories>
      <tags>
        <tag>SSO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¿®æ”¹Dockerä¸‹å®‰è£…çš„Redis]]></title>
    <url>%2F2018%2F05%2F27%2Fnode%2Fdatabase%2Fnode-redis_2%2F</url>
    <content type="text"><![CDATA[ä¿®æ”¹Redisçš„å¯†ç  å› ä¸ºRedis, é»˜è®¤æ˜¯æ²¡æœ‰é…ç½®æ–‡ä»¶çš„, æ‰€ä»¥æˆ‘ä»¬è¦å…ˆåˆ›å»ºredis.conf æ–‡ä»¶, æˆ‘ç”¨ docker exec -ti redis /bin/bash å‘½ä»¤è¿›åˆ°Rediså®¹å™¨ä¸­, æƒŠå¥‡çš„å‘çŽ°, æˆ‘ç«Ÿæ²¡åŠžæ³•ç¼–è¾‘æ–‡æœ¬. åŽŸæ¥çš„è·¯èµ°ä¸é€š, åªæœ‰å¦è¾Ÿè¹Šå¾„äº†. åœ¨Mac(å®¿ä¸»æœº)ä¸Šåˆ›å»ºredis.conf æ–‡ä»¶(ä¸‹æ–‡è´´å‡ºäº†æ–‡ä»¶) ä¿®æ”¹é…ç½®æ–‡ä»¶ #requirepass foobared, åŽ»æŽ‰# ä¿®æ”¹è‡ªå·±çš„å¯†ç  åˆ é™¤åŽŸæ¥çš„å®¹å™¨ docker rm redis åˆ›å»ºæ–°çš„å®¹å™¨ docker run --name redis -p 6379:6379 -d redis redis-server /data/redis.conf ä»Žå®¿ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨ä¸­ docker cp redis.conf redis:/data/ é™„:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425# Redisé…ç½®æ–‡ä»¶æ ·ä¾‹# Note on units: when memory size is needed, it is possible to specifiy# it in the usual form of 1k 5GB 4M and so forth:## 1k =&gt; 1000 bytes# 1kb =&gt; 1024 bytes# 1m =&gt; 1000000 bytes# 1mb =&gt; 1024*1024 bytes# 1g =&gt; 1000000000 bytes# 1gb =&gt; 1024*1024*1024 bytes## units are case insensitive so 1GB 1Gb 1gB are all the same.# Redisé»˜è®¤ä¸æ˜¯ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®é¡¹ä¿®æ”¹ï¼Œä½¿ç”¨yeså¯ç”¨å®ˆæŠ¤è¿›ç¨‹# å¯ç”¨å®ˆæŠ¤è¿›ç¨‹åŽï¼ŒRedisä¼šæŠŠpidå†™åˆ°ä¸€ä¸ªpidfileä¸­ï¼Œåœ¨/var/run/redis.piddaemonize no# å½“Redisä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œæ—¶ï¼ŒRedisé»˜è®¤ä¼šæŠŠpidå†™å…¥/var/run/redis.pidæ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡pidfileæŒ‡å®špidfile /var/run/redis.pid# æŒ‡å®šRedisç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º6379# å¦‚æžœæŒ‡å®š0ç«¯å£ï¼Œè¡¨ç¤ºRedisä¸ç›‘å¬TCPè¿žæŽ¥port 6379# ç»‘å®šçš„ä¸»æœºåœ°å€# ä½ å¯ä»¥ç»‘å®šå•ä¸€æŽ¥å£ï¼Œå¦‚æžœæ²¡æœ‰ç»‘å®šï¼Œæ‰€æœ‰æŽ¥å£éƒ½ä¼šç›‘å¬åˆ°æ¥çš„è¿žæŽ¥# bind 127.0.0.1# Specify the path for the unix socket that will be used to listen for# incoming connections. There is no default, so Redis will not listen# on a unix socket when not specified.## unixsocket /tmp/redis.sock# unixsocketperm 755# å½“å®¢æˆ·ç«¯é—²ç½®å¤šé•¿æ—¶é—´åŽå…³é—­è¿žæŽ¥ï¼Œå¦‚æžœæŒ‡å®šä¸º0ï¼Œè¡¨ç¤ºå…³é—­è¯¥åŠŸèƒ½timeout 0# æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedisæ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸ºverbose# debug (å¾ˆå¤šä¿¡æ¯, å¯¹å¼€å‘ï¼æµ‹è¯•æ¯”è¾ƒæœ‰ç”¨)# verbose (many rarely useful info, but not a mess like the debug level)# notice (moderately verbose, what you want in production probably)# warning (only very important / critical messages are logged)loglevel verbose# æ—¥å¿—è®°å½•æ–¹å¼ï¼Œé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºï¼Œå¦‚æžœé…ç½®ä¸ºredisä¸ºå®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè€Œè¿™é‡Œåˆé…ç½®ä¸ºæ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å°†ä¼šå‘é€ç»™/dev/nulllogfile stdout# To enable logging to the system logger, just set &apos;syslog-enabled&apos; to yes,# and optionally update the other syslog parameters to suit your needs.# syslog-enabled no# Specify the syslog identity.# syslog-ident redis# Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.# syslog-facility local0# è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º0ï¼Œå¯ä»¥ä½¿ç”¨select &lt;dbid&gt;å‘½ä»¤åœ¨è¿žæŽ¥ä¸ŠæŒ‡å®šæ•°æ®åº“id# dbidæ˜¯ä»Ž0åˆ°â€˜databasesâ€™-1çš„æ•°ç›®databases 16################################ SNAPSHOTTING ################################## æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ# Save the DB on disk:## save &lt;seconds&gt; &lt;changes&gt;## Will save the DB if both the given number of seconds and the given# number of write operations against the DB occurred.## æ»¡è¶³ä»¥ä¸‹æ¡ä»¶å°†ä¼šåŒæ­¥æ•°æ®:# 900ç§’ï¼ˆ15åˆ†é’Ÿï¼‰å†…æœ‰1ä¸ªæ›´æ”¹# 300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰å†…æœ‰10ä¸ªæ›´æ”¹# 60ç§’å†…æœ‰10000ä¸ªæ›´æ”¹# Note: å¯ä»¥æŠŠæ‰€æœ‰â€œsaveâ€è¡Œæ³¨é‡ŠæŽ‰ï¼Œè¿™æ ·å°±å–æ¶ˆåŒæ­¥æ“ä½œäº†save 900 1save 300 10save 60 10000# æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦åŽ‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸ºyesï¼ŒRedisé‡‡ç”¨LZFåŽ‹ç¼©ï¼Œå¦‚æžœä¸ºäº†èŠ‚çœCPUæ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§rdbcompression yes# æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸ºdump.rdbdbfilename dump.rdb# å·¥ä½œç›®å½•.# æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½•ï¼Œæ–‡ä»¶åç”±ä¸Šä¸€ä¸ªdbfilenameé…ç½®é¡¹æŒ‡å®š# # Also the Append Only File will be created inside this directory.# # æ³¨æ„ï¼Œè¿™é‡Œåªèƒ½æŒ‡å®šä¸€ä¸ªç›®å½•ï¼Œä¸èƒ½æŒ‡å®šæ–‡ä»¶ådir ./################################# REPLICATION ################################## ä¸»ä»Žå¤åˆ¶ã€‚ä½¿ç”¨slaveofä»Ž RedisæœåŠ¡å™¨å¤åˆ¶ä¸€ä¸ªRediså®žä¾‹ã€‚æ³¨æ„ï¼Œè¯¥é…ç½®ä»…é™äºŽå½“å‰slaveæœ‰æ•ˆ# so for example it is possible to configure the slave to save the DB with a# different interval, or to listen to another port, and so on.# è®¾ç½®å½“æœ¬æœºä¸ºslavæœåŠ¡æ—¶ï¼Œè®¾ç½®masteræœåŠ¡çš„ipåœ°å€åŠç«¯å£ï¼Œåœ¨Rediså¯åŠ¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä»Žmasterè¿›è¡Œæ•°æ®åŒæ­¥# slaveof &lt;masterip&gt; &lt;masterport&gt;# å½“masteræœåŠ¡è®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼ŒslavæœåŠ¡è¿žæŽ¥masterçš„å¯†ç # ä¸‹æ–‡çš„â€œrequirepassâ€é…ç½®é¡¹å¯ä»¥æŒ‡å®šå¯†ç # masterauth &lt;master-password&gt;# When a slave lost the connection with the master, or when the replication# is still in progress, the slave can act in two different ways:## 1) if slave-serve-stale-data is set to &apos;yes&apos; (the default) the slave will# still reply to client requests, possibly with out of data data, or the# data set may just be empty if this is the first synchronization.## 2) if slave-serve-stale data is set to &apos;no&apos; the slave will reply with# an error &quot;SYNC with master in progress&quot; to all the kind of commands# but to INFO and SLAVEOF.#slave-serve-stale-data yes# Slaves send PINGs to server in a predefined interval. It&apos;s possible to change# this interval with the repl_ping_slave_period option. The default value is 10# seconds.## repl-ping-slave-period 10# The following option sets a timeout for both Bulk transfer I/O timeout and# master data or ping response timeout. The default value is 60 seconds.## It is important to make sure that this value is greater than the value# specified for repl-ping-slave-period otherwise a timeout will be detected# every time there is low traffic between the master and the slave.## repl-timeout 60################################## SECURITY #################################### Warning: since Redis is pretty fast an outside user can try up to# 150k passwords per second against a good box. This means that you should# use a very strong password otherwise it will be very easy to break.# è®¾ç½®Redisè¿žæŽ¥å¯†ç ï¼Œå¦‚æžœé…ç½®äº†è¿žæŽ¥å¯†ç ï¼Œå®¢æˆ·ç«¯åœ¨è¿žæŽ¥Redisæ—¶éœ€è¦é€šè¿‡auth &lt;password&gt;å‘½ä»¤æä¾›å¯†ç ï¼Œé»˜è®¤å…³é—­requirepass 123456# Command renaming.## It is possilbe to change the name of dangerous commands in a shared# environment. For instance the CONFIG command may be renamed into something# of hard to guess so that it will be still available for internal-use# tools but not available for general clients.## Example:## rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52## It is also possilbe to completely kill a command renaming it into# an empty string:## rename-command CONFIG &quot;&quot;################################### LIMITS ##################################### è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·ç«¯è¿žæŽ¥æ•°ï¼Œé»˜è®¤æ— é™åˆ¶ï¼ŒRediså¯ä»¥åŒæ—¶æ‰“å¼€çš„å®¢æˆ·ç«¯è¿žæŽ¥æ•°ä¸ºRedisè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°ï¼Œ# å¦‚æžœè®¾ç½®maxclients 0ï¼Œè¡¨ç¤ºä¸ä½œé™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿žæŽ¥æ•°åˆ°è¾¾é™åˆ¶æ—¶ï¼ŒRedisä¼šå…³é—­æ–°çš„è¿žæŽ¥å¹¶å‘å®¢æˆ·ç«¯è¿”å›žmax Number of clients reachedé”™è¯¯ä¿¡æ¯# maxclients 128# Don&apos;t use more memory than the specified amount of bytes.# When the memory limit is reached Redis will try to remove keys with an# EXPIRE set. It will try to start freeing keys that are going to expire# in little time and preserve keys with a longer time to live.# Redis will also try to remove objects from free lists if possible.## If all this fails, Redis will start to reply with errors to commands# that will use more memory, like SET, LPUSH, and so on, and will continue# to reply to most read-only commands like GET.## WARNING: maxmemory can be a good idea mainly if you want to use Redis as a# &apos;state&apos; server or cache, not as a real DB. When Redis is used as a real# database the memory usage will grow over the weeks, it will be obvious if# it is going to use too much memory in the long run, and you&apos;ll have the time# to upgrade. With maxmemory after the limit is reached you&apos;ll start to get# errors for write operations, and this may even lead to DB inconsistency.# æŒ‡å®šRedisæœ€å¤§å†…å­˜é™åˆ¶ï¼ŒRedisåœ¨å¯åŠ¨æ—¶ä¼šæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¾¾åˆ°æœ€å¤§å†…å­˜åŽï¼ŒRedisä¼šå…ˆå°è¯•æ¸…é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„Keyï¼Œ# å½“æ­¤æ–¹æ³•å¤„ç†åŽï¼Œä»ç„¶åˆ°è¾¾æœ€å¤§å†…å­˜è®¾ç½®ï¼Œå°†æ— æ³•å†è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†ä»ç„¶å¯ä»¥è¿›è¡Œè¯»å–æ“ä½œã€‚# Redisæ–°çš„vmæœºåˆ¶ï¼Œä¼šæŠŠKeyå­˜æ”¾å†…å­˜ï¼ŒValueä¼šå­˜æ”¾åœ¨swapåŒº# maxmemory &lt;bytes&gt;# MAXMEMORY POLICY: how Redis will select what to remove when maxmemory# is reached? You can select among five behavior:# # volatile-lru -&gt; remove the key with an expire set using an LRU algorithm# allkeys-lru -&gt; remove any key accordingly to the LRU algorithm# volatile-random -&gt; remove a random key with an expire set# allkeys-&gt;random -&gt; remove a random key, any key# volatile-ttl -&gt; remove the key with the nearest expire time (minor TTL)# noeviction -&gt; don&apos;t expire at all, just return an error on write operations# # Note: with all the kind of policies, Redis will return an error on write# operations, when there are not suitable keys for eviction.## At the date of writing this commands are: set setnx setex append# incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd# sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby# zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby# getset mset msetnx exec sort## The default is:## maxmemory-policy volatile-lru# LRU and minimal TTL algorithms are not precise algorithms but approximated# algorithms (in order to save memory), so you can select as well the sample# size to check. For instance for default Redis will check three keys and# pick the one that was used less recently, you can change the sample size# using the following configuration directive.## maxmemory-samples 3############################## APPEND ONLY MODE ################################ # Note that you can have both the async dumps and the append only file if you# like (you have to comment the &quot;save&quot; statements above to disable the dumps).# Still if append only mode is enabled Redis will load the data from the# log file at startup ignoring the dump.rdb file.# æŒ‡å®šæ˜¯å¦åœ¨æ¯æ¬¡æ›´æ–°æ“ä½œåŽè¿›è¡Œæ—¥å¿—è®°å½•ï¼ŒRedisåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„æŠŠæ•°æ®å†™å…¥ç£ç›˜ï¼Œå¦‚æžœä¸å¼€å¯ï¼Œå¯èƒ½ä¼šåœ¨æ–­ç”µæ—¶å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ä¸¢å¤±ã€‚# å› ä¸ºredisæœ¬èº«åŒæ­¥æ•°æ®æ–‡ä»¶æ˜¯æŒ‰ä¸Šé¢saveæ¡ä»¶æ¥åŒæ­¥çš„ï¼Œæ‰€ä»¥æœ‰çš„æ•°æ®ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åªå­˜åœ¨äºŽå†…å­˜ä¸­ã€‚é»˜è®¤ä¸ºno# IMPORTANT: Check the BGREWRITEAOF to check how to rewrite the append# log file in background when it gets too big.appendonly no# æŒ‡å®šæ›´æ–°æ—¥å¿—æ–‡ä»¶åï¼Œé»˜è®¤ä¸ºappendonly.aof# appendfilename appendonly.aof# The fsync() call tells the Operating System to actually write data on disk# instead to wait for more data in the output buffer. Some OS will really flush # data on disk, some other OS will just try to do it ASAP.# æŒ‡å®šæ›´æ–°æ—¥å¿—æ¡ä»¶ï¼Œå…±æœ‰3ä¸ªå¯é€‰å€¼ï¼š# no:è¡¨ç¤ºç­‰æ“ä½œç³»ç»Ÿè¿›è¡Œæ•°æ®ç¼“å­˜åŒæ­¥åˆ°ç£ç›˜ï¼ˆå¿«ï¼‰# always:è¡¨ç¤ºæ¯æ¬¡æ›´æ–°æ“ä½œåŽæ‰‹åŠ¨è°ƒç”¨fsync()å°†æ•°æ®å†™åˆ°ç£ç›˜ï¼ˆæ…¢ï¼Œå®‰å…¨ï¼‰# everysec:è¡¨ç¤ºæ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼ˆæŠ˜è¡·ï¼Œé»˜è®¤å€¼ï¼‰appendfsync everysec# appendfsync no# When the AOF fsync policy is set to always or everysec, and a background# saving process (a background save or AOF log background rewriting) is# performing a lot of I/O against the disk, in some Linux configurations# Redis may block too long on the fsync() call. Note that there is no fix for# this currently, as even performing fsync in a different thread will block# our synchronous write(2) call.## In order to mitigate this problem it&apos;s possible to use the following option# that will prevent fsync() from being called in the main process while a# BGSAVE or BGREWRITEAOF is in progress.## This means that while another child is saving the durability of Redis is# the same as &quot;appendfsync none&quot;, that in pratical terms means that it is# possible to lost up to 30 seconds of log in the worst scenario (with the# default Linux settings).# # If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as# &quot;no&quot; that is the safest pick from the point of view of durability.no-appendfsync-on-rewrite no# Automatic rewrite of the append only file.# Redis is able to automatically rewrite the log file implicitly calling# BGREWRITEAOF when the AOF log size will growth by the specified percentage.# # This is how it works: Redis remembers the size of the AOF file after the# latest rewrite (or if no rewrite happened since the restart, the size of# the AOF at startup is used).## This base size is compared to the current size. If the current size is# bigger than the specified percentage, the rewrite is triggered. Also# you need to specify a minimal size for the AOF file to be rewritten, this# is useful to avoid rewriting the AOF file even if the percentage increase# is reached but it is still pretty small.## Specify a precentage of zero in order to disable the automatic AOF# rewrite feature.auto-aof-rewrite-percentage 100auto-aof-rewrite-min-size 64mb################################## SLOW LOG #################################### The Redis Slow Log is a system to log queries that exceeded a specified# execution time. The execution time does not include the I/O operations# like talking with the client, sending the reply and so forth,# but just the time needed to actually execute the command (this is the only# stage of command execution where the thread is blocked and can not serve# other requests in the meantime).# # You can configure the slow log with two parameters: one tells Redis# what is the execution time, in microseconds, to exceed in order for the# command to get logged, and the other parameter is the length of the# slow log. When a new command is logged the oldest one is removed from the# queue of logged commands.# The following time is expressed in microseconds, so 1000000 is equivalent# to one second. Note that a negative number disables the slow log, while# a value of zero forces the logging of every command.slowlog-log-slower-than 10000# There is no limit to this length. Just be aware that it will consume memory.# You can reclaim memory used by the slow log with SLOWLOG RESET.slowlog-max-len 1024################################ VIRTUAL MEMORY ################################## WARNING! Virtual Memory is deprecated in Redis 2.4### The use of Virtual Memory is strongly discouraged.### WARNING! Virtual Memory is deprecated in Redis 2.4### The use of Virtual Memory is strongly discouraged.# Virtual Memory allows Redis to work with datasets bigger than the actual# amount of RAM needed to hold the whole dataset in memory.# In order to do so very used keys are taken in memory while the other keys# are swapped into a swap file, similarly to what operating systems do# with memory pages.# æŒ‡å®šæ˜¯å¦å¯ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ï¼Œé»˜è®¤å€¼ä¸ºnoï¼Œ# VMæœºåˆ¶å°†æ•°æ®åˆ†é¡µå­˜æ”¾ï¼Œç”±Rediså°†è®¿é—®é‡è¾ƒå°‘çš„é¡µå³å†·æ•°æ®swapåˆ°ç£ç›˜ä¸Šï¼Œè®¿é—®å¤šçš„é¡µé¢ç”±ç£ç›˜è‡ªåŠ¨æ¢å‡ºåˆ°å†…å­˜ä¸­# æŠŠvm-enabledè®¾ç½®ä¸ºyesï¼Œæ ¹æ®éœ€è¦è®¾ç½®å¥½æŽ¥ä¸‹æ¥çš„ä¸‰ä¸ªVMå‚æ•°ï¼Œå°±å¯ä»¥å¯åŠ¨VMäº†# vm-enabled yes# This is the path of the Redis swap file. As you can guess, swap files# can&apos;t be shared by different Redis instances, so make sure to use a swap# file for every redis process you are running. Redis will complain if the# swap file is already in use.## Redisäº¤æ¢æ–‡ä»¶æœ€å¥½çš„å­˜å‚¨æ˜¯SSDï¼ˆå›ºæ€ç¡¬ç›˜ï¼‰# è™šæ‹Ÿå†…å­˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º/tmp/redis.swapï¼Œä¸å¯å¤šä¸ªRediså®žä¾‹å…±äº«# *** WARNING *** if you are using a shared hosting the default of putting# the swap file under /tmp is not secure. Create a dir with access granted# only to Redis user and configure Redis to create the swap file there.# vm-swap-file /tmp/redis.swap# With vm-max-memory 0 the system will swap everything it can. Not a good# default, just specify the max amount of RAM you can in bytes, but it&apos;s# better to leave some margin. For instance specify an amount of RAM# that&apos;s more or less between 60 and 80% of your free RAM.# å°†æ‰€æœ‰å¤§äºŽvm-max-memoryçš„æ•°æ®å­˜å…¥è™šæ‹Ÿå†…å­˜ï¼Œæ— è®ºvm-max-memoryè®¾ç½®å¤šå°‘ï¼Œæ‰€æœ‰ç´¢å¼•æ•°æ®éƒ½æ˜¯å†…å­˜å­˜å‚¨çš„ï¼ˆRedisçš„ç´¢å¼•æ•°æ®å°±æ˜¯keysï¼‰# ä¹Ÿå°±æ˜¯è¯´å½“vm-max-memoryè®¾ç½®ä¸º0çš„æ—¶å€™ï¼Œå…¶å®žæ˜¯æ‰€æœ‰valueéƒ½å­˜åœ¨äºŽç£ç›˜ã€‚é»˜è®¤å€¼ä¸º0# vm-max-memory 0# Redis swapæ–‡ä»¶åˆ†æˆäº†å¾ˆå¤šçš„pageï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥ä¿å­˜åœ¨å¤šä¸ªpageä¸Šé¢ï¼Œä½†ä¸€ä¸ªpageä¸Šä¸èƒ½è¢«å¤šä¸ªå¯¹è±¡å…±äº«ï¼Œvm-page-sizeæ˜¯è¦æ ¹æ®å­˜å‚¨çš„æ•°æ®å¤§å°æ¥è®¾å®šçš„ã€‚# å»ºè®®å¦‚æžœå­˜å‚¨å¾ˆå¤šå°å¯¹è±¡ï¼Œpageå¤§å°æœ€åŽè®¾ç½®ä¸º32æˆ–64bytesï¼›å¦‚æžœå­˜å‚¨å¾ˆå¤§çš„å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ›´å¤§çš„pageï¼Œå¦‚æžœä¸ç¡®å®šï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼# vm-page-size 32# è®¾ç½®swapæ–‡ä»¶ä¸­çš„pageæ•°é‡ç”±äºŽé¡µè¡¨ï¼ˆä¸€ç§è¡¨ç¤ºé¡µé¢ç©ºé—²æˆ–ä½¿ç”¨çš„bitmapï¼‰æ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œåœ¨ç£ç›˜ä¸Šæ¯8ä¸ªpageså°†æ¶ˆè€—1byteçš„å†…å­˜# swapç©ºé—´æ€»å®¹é‡ä¸º vm-page-size * vm-pages## With the default of 32-bytes memory pages and 134217728 pages Redis will# use a 4 GB swap file, that will use 16 MB of RAM for the page table.## It&apos;s better to use the smallest acceptable value for your application,# but the default is large in order to work in most conditions.# vm-pages 134217728# Max number of VM I/O threads running at the same time.# This threads are used to read/write data from/to swap file, since they# also encode and decode objects from disk to memory or the reverse, a bigger# number of threads can help with big objects even if they can&apos;t help with# I/O itself as the physical device may not be able to couple with many# reads/writes operations at the same time.# è®¾ç½®è®¿é—®swapæ–‡ä»¶çš„I/Oçº¿ç¨‹æ•°ï¼Œæœ€åŽä¸è¦è¶…è¿‡æœºå™¨çš„æ ¸æ•°ï¼Œå¦‚æžœè®¾ç½®ä¸º0ï¼Œé‚£ä¹ˆæ‰€æœ‰å¯¹swapæ–‡ä»¶çš„æ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½ä¼šé€ æˆæ¯”è¾ƒé•¿æ—¶é—´çš„å»¶è¿Ÿï¼Œé»˜è®¤å€¼ä¸º4# vm-max-threads 4############################### ADVANCED CONFIG ################################ Hashes are encoded in a special way (much more memory efficient) when they# have at max a given numer of elements, and the biggest element does not# exceed a given threshold. You can configure this limits with the following# configuration directives.# æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³•# hash-max-zipmap-entries 512# hash-max-zipmap-value 64# Similarly to hashes, small lists are also encoded in a special way in order# to save a lot of space. The special representation is only used when# you are under the following limits:# list-max-ziplist-entries 512# list-max-ziplist-value 64# Sets have a special encoding in just one case: when a set is composed# of just strings that happens to be integers in radix 10 in the range# of 64 bit signed integers.# The following configuration setting sets the limit in the size of the# set in order to use this special memory saving encoding.set-max-intset-entries 512# Similarly to hashes and lists, sorted sets are also specially encoded in# order to save a lot of space. This encoding is only used when the length and# elements of a sorted set are below the following limits:# zset-max-ziplist-entries 128# zset-max-ziplist-value 64# Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in# order to help rehashing the main Redis hash table (the one mapping top-level# keys to values). The hash table implementation redis uses (see dict.c)# performs a lazy rehashing: the more operation you run into an hash table# that is rhashing, the more rehashing &quot;steps&quot; are performed, so if the# server is idle the rehashing is never complete and some more memory is used# by the hash table.# # The default is to use this millisecond 10 times every second in order to# active rehashing the main dictionaries, freeing memory when possible.## If unsure:# use &quot;activerehashing no&quot; if you have hard latency requirements and it is# not a good thing in your environment that Redis can reply form time to time# to queries with 2 milliseconds delay.# æŒ‡å®šæ˜¯å¦æ¿€æ´»é‡ç½®å“ˆå¸Œï¼Œé»˜è®¤ä¸ºå¼€å¯activerehashing yes################################## INCLUDES #################################### æŒ‡å®šåŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ªRediså®žä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„å®žä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶# include /path/to/local.conf# include /path/to/other.conf]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML ç¦æ­¢ç¼©æ”¾]]></title>
    <url>%2F2018%2F05%2F22%2Fnode%2Fnode-html_3%2F</url>
    <content type="text"><![CDATA[HTML æ‰‹æœºç«¯æ˜¾ç¤ºç¦æ­¢ç¼©æ”¾ åœ¨HTMLçš„HEADä¸­åŠ å…¥ 1&lt;meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" /&gt;]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOS å®‰è£…ä¸Žé…ç½® Nginx]]></title>
    <url>%2F2018%2F05%2F22%2Fnode%2Fnode-nginx_2%2F</url>
    <content type="text"><![CDATA[MacOS å®‰è£…ä¸Žé…ç½® Nginx Nginx å®‰è£…brew install nginx Nginx æ¶‰åŠåˆ°çš„è·¯å¾„ /usr/local/cellar/nginx/1.13.12 å®‰è£…ç›®å½• /usr/local/etc/nginx é…ç½®æ–‡ä»¶ /usr/local/var/log/nginx æ—¥å¿—æ–‡ä»¶ é…ç½®è™šæ‹Ÿä¸»æœº12345678910111213141516171819202122232425upstream www.yeslx.com &#123; server 127.0.0.1:8880;&#125;server &#123; listen 80; server_name 127.0.0.1 192.168.1.104 www.yeslx.com; charset utf-8; access_log /usr/local/var/log/nginx/access.log; error_log /usr/local/var/log/nginx/error.log; location / &#123; root /Users/smile/development/workspace/nginx/yslx_app; index index.php index.html index.htm; &#125; location ~ ^/(backstage)/ &#123; proxy_pass http://www.yeslx.com; proxy_set_header Host $host; &#125; location ~ ^/(proscenium)/ &#123; proxy_pass http://www.yeslx.com; proxy_set_header Host $host; &#125;&#125; Nginx å¸¸ç”¨å‘½ä»¤ nginx -t æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡® nginx -s reload é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ nginx -s stop ç«‹å³åœæ­¢æœåŠ¡ nginx -s quit ä¼˜é›…çš„åœæ­¢æœåŠ¡ nginx -s reopen é‡æ–°æ‰“å¼€æ—¥å¿— Nginx å¯åŠ¨å¤±è´¥12345SmiledeMacBook-Pro:~ smile$ nginx nginx: [emerg] bind() to 0.0.0.0:80 failed (13: Permission denied)SmiledeMacBook-Pro:~ smile$ sudo nginxPassword:SmiledeMacBook-Pro:~ smile$]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript Image To Base64]]></title>
    <url>%2F2018%2F05%2F22%2Fnode%2Fjavascript%2Fnode-javascript_17%2F</url>
    <content type="text"><![CDATA[JavaScript Image To Base64 1234567891011121314151617181920212223242526272829303132&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;input type="file" name="file" id="file" value="" /&gt; &lt;input type="hidden" name="val" id="val" value="" /&gt; &lt;input type="button" name="button" id="button" value="Click..." /&gt; &lt;script type="text/javascript"&gt; document.getElementById("file").onchange = function() &#123; var reader = new FileReader(); var file = document.getElementById("file"); reader.readAsDataURL(file.files[0]); reader.onload = function() &#123; var base64=reader.result; document.getElementById("val").value = base64; console.log(base64); &#125; &#125; document.getElementById("button").onclick = function() &#123; alert(document.getElementById("val").value); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Base64 è½¬ å›¾ç‰‡]]></title>
    <url>%2F2018%2F05%2F21%2Fnode%2Fjava%2Fnode-j2se_03%2F</url>
    <content type="text"><![CDATA[Base64 è½¬ å›¾ç‰‡ å°‘åºŸè¯, ç›´æŽ¥çœ‹ä»£ç  12345678910111213141516171819202122232425public static boolean base64ToImage(String base64, String url) &#123; if (base64 == null || "".equals(base64)) &#123; // å›¾åƒæ•°æ®ä¸ºç©º return false; &#125; BASE64Decoder decoder = new BASE64Decoder(); try &#123; // Base64è§£ç  byte[] b = decoder.decodeBuffer(base64); for (int i = 0; i &lt; b.length; ++i) &#123; if (b[i] &lt; 0) &#123;// è°ƒæ•´å¼‚å¸¸æ•°æ® b[i] += 256; &#125; &#125; // ç”Ÿæˆjpegå›¾ç‰‡ String imgFilePath = url;// æ–°ç”Ÿæˆçš„å›¾ç‰‡ OutputStream out = new FileOutputStream(imgFilePath); out.write(b); out.flush(); out.close(); return true; &#125; catch (Exception e) &#123; e.printStackTrace(); return false; &#125;&#125; æ³¨æ„: å‰ç«¯ä¼ è¿‡æ¥çš„æ•°æ®ä¸­, å¯èƒ½ä¼šæºå¸¦å›¾ç‰‡çš„å¤´ä¿¡æ¯data:image/jpeg;base64, ,è¦è®°å¾—åˆ æŽ‰]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Base64</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot ä¸­ç”ŸæˆäºŒç»´ç ]]></title>
    <url>%2F2018%2F05%2F07%2Farticle%2FSpringBoot%2Farticle-spring-boot_12%2F</url>
    <content type="text"><![CDATA[åœ¨Webåº”ç”¨ä¸­, ç”ŸæˆäºŒç»´ç  pom.xmlä¸­å¼•å…¥jaråŒ…ä¾èµ–123456&lt;!-- QrCode --&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.binarywang&lt;/groupId&gt; &lt;artifactId&gt;qrcode-utils&lt;/artifactId&gt; &lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt; ç”ŸæˆäºŒç»´ç 12345678910111213141516171819202122232425262728293031package pro.yuchen.demo.spring_demo.web;import com.github.binarywang.utils.qrcode.QrcodeUtils;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.imageio.ImageIO;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.awt.image.BufferedImage;import java.io.ByteArrayInputStream;@RestControllerpublic class QrCodeController &#123; @RequestMapping("/qrcode/&#123;id&#125;") public void image(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; // ç”ŸæˆäºŒç»´ç å›¾ç‰‡ byte[] bytes = QrcodeUtils.createQrcode("å˜¿å˜¿....", 800, null); BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes)); //è®¾ç½®æµè§ˆå™¨ä»¥å›¾ç‰‡æ ¼å¼è¾“å‡º response.setContentType("image/jpeg"); //è®¾ç½®å“åº”å¤´æŽ§åˆ¶æµè§ˆå™¨ä¸è¦ç¼“å­˜ response.setDateHeader("expries", -1); response.setHeader("Cache-Control", "no-cache"); response.setHeader("Pragma", "no-cache"); //å°†å›¾ç‰‡å†™ç»™æµè§ˆå™¨ ImageIO.write(image, "jpg", response.getOutputStream()); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>QrCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot å‘é€Email]]></title>
    <url>%2F2018%2F04%2F22%2Farticle%2FSpringBoot%2Farticle-spring-boot_11%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ SpringBoot å‘é€é‚®ä»¶ é—²è¨€å°‘å™, ç›´æŽ¥ä¸Šä»£ç  é¦–å…ˆå¼•å…¥pom ä¾èµ– 12345&lt;!-- Mail --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;&lt;/dependency&gt; ç„¶åŽå°±æ˜¯åŠŸèƒ½ä»£ç äº† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128package pro.yuchen.demo.spring_demo.mail;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.core.io.FileSystemResource;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.mail.javamail.MimeMessageHelper;import org.springframework.stereotype.Component;import javax.mail.MessagingException;import javax.mail.internet.MimeMessage;import java.io.File;@Componentpublic class MailService &#123; private final Logger log = LoggerFactory.getLogger(this.getClass()); @Autowired private JavaMailSender sender; @Value("$&#123;config.mail.fromMail.addr&#125;") private String from; /** * å‘é€æ–‡æœ¬é‚® * @param to è¦å‘é€çš„é‚®ç®±åœ°å€ * @param subject e-mailä¸»é¢˜ * @param content e-mailå†…å®¹ */ public void sendSimpleMail(String to, String subject, String content) &#123; SimpleMailMessage message = new SimpleMailMessage(); message.setFrom(from); message.setTo(to); message.setSubject(subject); message.setText(content); try &#123; sender.send(message); log.info("ç®€å•é‚®ä»¶å·²ç»å‘é€ã€‚"); &#125; catch (Exception e) &#123; log.error("å‘é€ç®€å•é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼", e); &#125; &#125; /** * å‘é€htmlé‚®ä»¶ * @param to è¦å‘é€çš„é‚®ç®±åœ°å€ * @param subject e-mailä¸»é¢˜ * @param content e-mailå†…å®¹ */ public void sendHtmlMail(String to, String subject, String content) &#123; MimeMessage message = sender.createMimeMessage(); try &#123; //trueè¡¨ç¤ºéœ€è¦åˆ›å»ºä¸€ä¸ªmultipart message MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); sender.send(message); log.info("htmlé‚®ä»¶å‘é€æˆåŠŸ"); &#125; catch (MessagingException e) &#123; log.error("å‘é€htmlé‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼", e); &#125; &#125; /** * å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶ * @param to è¦å‘é€çš„é‚®ç®±åœ°å€ * @param subject e-mailä¸»é¢˜ * @param content e-mailå†…å®¹ * @param filePath é™„ä»¶è·¯å¾„ */ public void sendAttachmentsMail(String to, String subject, String content, String filePath) &#123; MimeMessage message = sender.createMimeMessage(); try &#123; MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); FileSystemResource file = new FileSystemResource(new File(filePath)); String fileName = filePath.substring(filePath.lastIndexOf(File.separator)); helper.addAttachment(fileName, file); sender.send(message); log.info("å¸¦é™„ä»¶çš„é‚®ä»¶å·²ç»å‘é€ã€‚"); &#125; catch (MessagingException e) &#123; log.error("å‘é€å¸¦é™„ä»¶çš„é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼", e); &#125; &#125; /** * å‘é€æ­£æ–‡ä¸­æœ‰é™æ€èµ„æºï¼ˆå›¾ç‰‡ï¼‰çš„é‚®ä»¶ * @param to è¦å‘é€çš„é‚®ç®±åœ°å€ * @param subject e-mailä¸»é¢˜ * @param content e-mailå†…å®¹ * @param rscPath é™æ€å›¾ç‰‡è·¯å¾„ * @param rscId é™æ€å›¾ç‰‡ç¼–å· */ public void sendInlineResourceMail(String to, String subject, String content, String rscPath, String rscId) &#123; MimeMessage message = sender.createMimeMessage(); try &#123; MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); FileSystemResource res = new FileSystemResource(new File(rscPath)); helper.addInline(rscId, res); sender.send(message); log.info("åµŒå…¥é™æ€èµ„æºçš„é‚®ä»¶å·²ç»å‘é€ã€‚"); &#125; catch (MessagingException e) &#123; log.error("å‘é€åµŒå…¥é™æ€èµ„æºçš„é‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼", e); &#125; &#125;&#125; æµ‹è¯•: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package pro.yuchen.demo.spring_demo.mail;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;Application.class&#125;)public class MailServiceTest &#123; @Autowired private MailService mailService; @Test public void testSimpleMail() throws Exception &#123; mailService.sendSimpleMail("yuchen352416@gmail.com", "Test", "hehehehehehehheheheh"); &#125; @Test public void testHtmlMail() throws Exception &#123; StringBuffer content = new StringBuffer(); content.append("&lt;html&gt;").append("\n"); content.append(" &lt;body&gt;").append("\n"); content.append(" &lt;h3&gt;Hello Mail....&lt;/h3&gt;").append("\n"); content.append(" &lt;/body&gt;").append("\n"); content.append("&lt;/html&gt;").append("\n"); mailService.sendHtmlMail("yuchen352416@gmail.com", "HTML Test", content.toString()); &#125; @Test public void testAttachmentsMail() &#123; StringBuffer content = new StringBuffer(); content.append("&lt;html&gt;").append("\n"); content.append(" &lt;body&gt;").append("\n"); content.append(" &lt;h3&gt;Hello Mail....&lt;/h3&gt;").append("\n"); content.append(" &lt;/body&gt;").append("\n"); content.append("&lt;/html&gt;").append("\n"); String filepath = "/Users/smile/Documents/notes/Journal.md"; mailService.sendAttachmentsMail("yuchen352416@gmail.com", "File Test", content.toString(), filepath); &#125; @Test public void testInlineResourceMail() &#123; String rscId = "neo006"; String content="&lt;html&gt;&lt;body&gt;è¿™æ˜¯æœ‰å›¾ç‰‡çš„é‚®ä»¶ï¼š&lt;img src=\'cid:" + rscId + "\' &gt;&lt;/body&gt;&lt;/html&gt;"; String imgPath = "/Users/smile/Pictures/Wechat.jpeg"; mailService.sendInlineResourceMail("yuchen352416@gmail.com", "File Test", content, imgPath, rscId); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx å®‰è£…ä¸Žé…ç½®]]></title>
    <url>%2F2018%2F04%2F17%2Fnode%2Fnode-nginx_1%2F</url>
    <content type="text"><![CDATA[Nginx å®‰è£…ä¸Žé…ç½® Nginx å®‰è£…yum install nginx -y æŸ¥çœ‹ Nginx å®‰è£…è·¯å¾„ps -ef | grep nginx é…ç½®æ–‡ä»¶ /etc/nginx/nginx.conf /etc/nginx/conf.d/*.conf é…ç½®é»˜è®¤æ ¹ç›®å½•è·³è½¬8083ç«¯å£12345678910server &#123; listen 80; server_name localhost; location / &#123; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://127.0.0.1:8083; &#125;&#125; é…ç½®æŒ‡å®šè·¯å¾„è·³è½¬8090ç«¯å£1234567891011121314upstream wechat &#123; server 127.0.0.1:8090; keepalive 2000;&#125;server &#123; listen 80; server_name localhost; location /wechat/ &#123; proxy_pass http://wechat/; proxy_set_header Host $host:$server_port; &#125;&#125;]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker å®‰è£… MySQLå®¹å™¨]]></title>
    <url>%2F2018%2F03%2F31%2Fnode%2Flinux%2Fnode-docker_02%2F</url>
    <content type="text"><![CDATA[Docker å®‰è£… MySQLå®¹å™¨ 1. ä¸‹è½½ MySQLé•œåƒ docker pull mysql/mysql-server 2. å¯åŠ¨å®¹å™¨ docker run -p 3306:3306 --name=mysql -d mysql/mysql-server 3. æŸ¥çœ‹MySQLé»˜è®¤å¯†ç  docker logs mysql 4. ç™»å½•åŽä¿®æ”¹å¯†ç  set password = password(&#39;123456&#39;); 5. è§£å†³ä¸€ä¸‹è¿œç¨‹ç™»å½•çš„é—®é¢˜ update user set host = &#39;%&#39; where user = &#39;root&#39;;]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot RabbitMQ]]></title>
    <url>%2F2018%2F03%2F22%2Farticle%2FSpringBoot%2Farticle-spring-boot_10%2F</url>
    <content type="text"><![CDATA[SpringBoot ä¸­ä½¿ç”¨ æ¶ˆæ¯é˜Ÿåˆ— RabbitMQ å³ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸»è¦æ˜¯ç”¨æ¥å®žçŽ°åº”ç”¨ç¨‹åºçš„å¼‚æ­¥å’Œè§£è€¦ï¼ŒåŒæ—¶ä¹Ÿèƒ½èµ·åˆ°æ¶ˆæ¯ç¼“å†²ï¼Œæ¶ˆæ¯åˆ†å‘çš„ä½œç”¨ã€‚ 1. å®‰è£…RabbitMQ1.1. ä¸‹è½½ RabbitMQ çš„Dockeré•œåƒdocker pull frodenas/rabbitmq 1.2. å¯åŠ¨é•œåƒdocker run -d --name rabbitmq -p 5672:5672 -p 15672:15672 -e RABBITMQ_USERNAME=admin -e RABBITMQ_PASSWORD=admin frodenas/rabbitmq 1.3. å…¶ä»–è¯¦ç»†é…ç½® https://hub.docker.com/r/frodenas/rabbitmq/ 2. æ·»åŠ pom.xmlä¾èµ–, ä»¥åŠåŸºæœ¬é…ç½®2.1. æ·»åŠ pom.xmlä¾èµ–1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;&lt;/dependency&gt; 2.2 application.yml åŸºæœ¬é…ç½®123456spring: rabbitmq: host: 127.0.0.1 port: 5672 username: admin password: admin 3. äº¤æ¢æœº(Exchange)3.1. Topic ExchangeTopic Exchange è½¬å‘æ¶ˆæ¯ä¸»è¦æ˜¯æ ¹æ®é€šé…ç¬¦ã€‚ åœ¨è¿™ç§äº¤æ¢æœºä¸‹ï¼Œé˜Ÿåˆ—å’Œäº¤æ¢æœºçš„ç»‘å®šä¼šå®šä¹‰ä¸€ç§è·¯ç”±æ¨¡å¼ï¼Œé‚£ä¹ˆï¼Œé€šé…ç¬¦å°±è¦åœ¨è¿™ç§è·¯ç”±æ¨¡å¼å’Œè·¯ç”±é”®ä¹‹é—´åŒ¹é…åŽäº¤æ¢æœºæ‰èƒ½è½¬å‘æ¶ˆæ¯ã€‚ åœ¨è¿™ç§äº¤æ¢æœºæ¨¡å¼ä¸‹ï¼š è·¯ç”±é”®(routing_key)å¿…é¡»æ˜¯ä¸€ä¸²å­—ç¬¦ï¼Œç”¨å¥å·ï¼ˆ.ï¼‰ éš”å¼€ï¼Œæ¯”å¦‚è¯´ message.user.jackï¼Œæˆ–è€… message.user.jude ç­‰ã€‚ è·¯ç”±æ¨¡å¼ä¸‹çš„æ¶ˆæ¯åŒ¹é…: å¦‚æžœServerAåªæƒ³æŽ¥æ”¶å‘ç»™judeçš„æ¶ˆæ¯, å°±å¯ä»¥åŒ¹é… message.user.jude, è€ŒServerBæƒ³è¦æŽ¥æ”¶å‘ç»™æ‰€æœ‰ç”¨æˆ·çš„æ¶ˆæ¯, å°±å¯ä»¥åŒ¹é… message.user.*, çŽ°åœ¨æœ‰ServerC è¦æŽ¥æ”¶æ‰€æœ‰æ¶ˆæ¯, å°±å¯ä»¥åŒ¹é…message.# topic å’Œ direct ç±»ä¼¼, åªæ˜¯åŒ¹é…ä¸Šæ”¯æŒäº†â€æ¨¡å¼â€, åœ¨â€ç‚¹åˆ†â€çš„ routing_key å½¢å¼ä¸­, å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªé€šé…ç¬¦: *è¡¨ç¤ºä¸€ä¸ªè¯. #è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªè¯. 3.2. Fanout ExchangeFanout Exchange æ¶ˆæ¯å¹¿æ’­çš„æ¨¡å¼ï¼Œä¸ç®¡è·¯ç”±é”®æˆ–è€…æ˜¯è·¯ç”±æ¨¡å¼ï¼Œä¼šæŠŠæ¶ˆæ¯å‘ç»™ç»‘å®šç»™å®ƒçš„å…¨éƒ¨é˜Ÿåˆ—ï¼Œå¦‚æžœé…ç½®äº†routing_keyä¼šè¢«å¿½ç•¥ã€‚ 4. SpringBootä¸­ä½¿ç”¨RabbitMQ4.1. ä½¿ç”¨ Topic(ä¸»é¢˜) TopicRabbitConfig 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.core.Binding;import org.springframework.amqp.core.BindingBuilder;import org.springframework.amqp.core.Queue;import org.springframework.amqp.core.TopicExchange;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configurationpublic class TopicRabbitConfig &#123; public final static String exchange = "messages"; public final static String mysql = "message.disk.mysql"; public final static String hbase = "message.disk.hbase"; @Bean public Queue queueMySQL() &#123; return new Queue("mysql"); &#125; @Bean public Queue queueHBase() &#123; return new Queue("hbase"); &#125; @Bean public Queue queueDisk() &#123; return new Queue("disk"); &#125; @Bean TopicExchange exchange() &#123; return new TopicExchange(TopicRabbitConfig.exchange, true, true); &#125; @Bean Binding bindingExchangeMySQL(Queue queueMySQL, TopicExchange exchange) &#123; return BindingBuilder.bind(queueMySQL).to(exchange).with(TopicRabbitConfig.mysql); &#125; @Bean Binding bindingExchangeHBase(Queue queueHBase, TopicExchange exchange) &#123; return BindingBuilder.bind(queueHBase).to(exchange).with(TopicRabbitConfig.hbase); &#125; @Bean Binding bindingExchangeDisk(Queue queueDisk, TopicExchange exchange) &#123; return BindingBuilder.bind(queueDisk).to(exchange).with("message.disk.#"); &#125;&#125; TopicSender 12345678910111213141516171819202122package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.core.AmqpTemplate;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;@Componentpublic class TopicSender &#123; @Autowired private AmqpTemplate rabbitTemplate; /** * å‘é€æ¶ˆæ¯ * @param routingKey è·¯ç”±key * @param context æ¶ˆæ¯å†…å®¹ */ public void send(String routingKey, Object context) &#123; System.out.println("Sender : " + context); this.rabbitTemplate.convertAndSend(TopicRabbitConfig.exchange, routingKey, context); &#125;&#125; TopicReceiverQueuesDisk 123456789101112131415package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.rabbit.annotation.RabbitHandler;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Component;@Component@RabbitListener(queues = "disk")public class TopicReceiverQueuesDisk &#123; @RabbitHandler public void process(String message) &#123; System.out.println("Topic Disk : " + message); &#125;&#125; TopicReceiverQueuesHBase 123456789101112131415package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.rabbit.annotation.RabbitHandler;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Component;@Component@RabbitListener(queues = "hbase")public class TopicReceiverQueuesHBase &#123; @RabbitHandler public void process(String message) &#123; System.out.println("Topic HBase : " + message); &#125;&#125; TopicReceiverQueuesMySQL123456789101112131415package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.rabbit.annotation.RabbitHandler;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Component;@Component@RabbitListener(queues = "mysql")public class TopicReceiverQueuesMySQL &#123; @RabbitHandler public void process(String message) &#123; System.out.println("Topic MySQL : " + message); &#125;&#125; ä¸€ä¸ªé˜Ÿåˆ—, å¯ä»¥ç»‘å®šå¤šä¸ª Routing Key , åœ¨å¼€å‘è¿‡ç¨‹ä¸­, è‹¥ä¿®æ”¹äº†åŒ¹é…å…³ç³»(Routing Key), Spring é»˜è®¤æ˜¯å¢žåŠ ä¸€æ¡Routing Key, åŽŸæ¥çš„Routing Keyè¿˜ä¼šè¢«ä¿ç•™. æ‰€ä»¥è¿™é‡Œä¸€å®šè¦è°¨æ…Ž 4.2. ä½¿ç”¨ Fanout(å¹¿æ’­)]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Hibernate]]></title>
    <url>%2F2018%2F03%2F20%2Farticle%2FSpringBoot%2Farticle-spring-boot_09%2F</url>
    <content type="text"><![CDATA[SpringBoot ä¸­ä½¿ç”¨ Hibernateæ“ä½œæ•°æ®åº“ 1. æ·»åŠ pom.xmlä¾èµ–12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;/dependency&gt; 2. ä¿®æ”¹é…ç½®æ–‡ä»¶application.yml123456789101112spring: datasource: # æ•°æ®åº“è¿žæŽ¥å‚æ•° driverClassName: com.mysql.jdbc.Driver url: jdbc:mysql://localhost:3306/base_db?useUnicode=true&amp;characterEncoding=utf-8 username: root password: root jpa: database: MYSQL hibernate: ddl-auto: update dialect: org.hibernate.dialect.MySQL5InnoDBDialect show-sql: true 3. æ–°å»ºè¡¨1234567891011121314USE base_db;CREATE TABLE BLOG ( id INT PRIMARY KEY AUTO_INCREMENT, title VARCHAR(30) NOT NULL, content VARCHAR(4000))ENGINE=InnoDB DEFAULT CHARSET=utf8;ALTER TABLE BLOG COMMENT = 'åšå®¢è¡¨';CREATE TABLE COMMENT ( id BIGINT PRIMARY KEY AUTO_INCREMENT, content VARCHAR(4000), blog_id INT NOT NULL)ENGINE=InnoDB DEFAULT CHARSET=utf8;ALTER TABLE COMMENT COMMENT = 'è¯„è®ºè¡¨'; 4. æ·»åŠ Entityå®žä½“4.1. Blog ç±»123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263package pro.yuchen.demo.spring_demo.entity;import org.hibernate.annotations.Fetch;import org.hibernate.annotations.FetchMode;import java.io.Serializable;import java.util.List;import javax.persistence.*;@Entity@Table(name="blog")public class Blog implements Serializable &#123; @Id @GeneratedValue(strategy=GenerationType.AUTO) private Integer id; @Column private String title; @Column private String content; @OneToMany(targetEntity=Comment.class,cascade=CascadeType.ALL) @Fetch(FetchMode.JOIN) //updatable=falseå¾ˆå…³é”®ï¼Œå¦‚æžœæ²¡æœ‰å®ƒï¼Œåœ¨çº§è”åˆ é™¤çš„æ—¶å€™å°±ä¼šæŠ¥é”™(åè½¬çš„é—®é¢˜) @JoinColumn(name="blog_id",updatable=false) private List&lt;Comment&gt; comments; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getTitle() &#123; return title; &#125; public void setTitle(String title) &#123; this.title = title; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public List&lt;Comment&gt; getComments() &#123; return comments; &#125; public void setComments(List&lt;Comment&gt; comments) &#123; this.comments = comments; &#125;&#125; 4.2. Comment ç±»1234567891011121314151617181920212223242526272829303132333435363738394041424344package pro.yuchen.demo.spring_demo.entity;import javax.persistence.*;@Entity@Table(name="comment")public class Comment &#123; @Id @GeneratedValue(strategy= GenerationType.AUTO) private Integer id; @Column private String content; //å¤šå¯¹ä¸€ï¼Œ@JoinColumnä¸Ž@columnç±»ä¼¼ï¼ŒæŒ‡å®šæ˜ å°„çš„æ•°æ®åº“å­—æ®µ @ManyToOne(targetEntity = Blog.class) @JoinColumn(name="blog_id",updatable=false) private Blog blog; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public Blog getBlog() &#123; return blog; &#125; public void setBlog(Blog blog) &#123; this.blog = blog; &#125;&#125; é™„: â€œä¸€å¯¹å¤šâ€, â€œå¤šå¯¹ä¸€â€ å…³ç³», æ˜¯é’ˆå¯¹ä¸¤ä¸ªå®žä½“è¯´çš„ 5. æ–°å»º JPAæ“ä½œç±»5.1. Blog æ“ä½œç±»12345678package pro.yuchen.demo.spring_demo.dao;import org.springframework.data.jpa.repository.JpaRepository;import pro.yuchen.demo.spring_demo.entity.Blog;public interface BlogRepository extends JpaRepository&lt;Blog, Integer&gt; &#123;&#125; 5.2.Comment æ“ä½œç±»12345678package pro.yuchen.demo.spring_demo.dao;import org.springframework.data.jpa.repository.JpaRepository;import pro.yuchen.demo.spring_demo.entity.Comment;public interface CommentRepository extends JpaRepository&lt;Comment, Integer&gt; &#123;&#125; 6. æµ‹è¯•ç”¨ä¾‹6.1. æµ‹è¯• BlogRepository12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package pro.yuchen.demo.spring_demo.dao;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.data.domain.Sort;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.Blog;import pro.yuchen.demo.spring_demo.entity.Comment;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)@WebAppConfigurationpublic class BlogRepositoryTest &#123; @Autowired private BlogRepository repository; @Test public void insert() throws Exception &#123; Blog blog = new Blog(); String title = "TEST......."; blog.setTitle(title); blog.setContent("jjjjkkkkjjsfjseoijqksahbfgoyhujikldfghjklsdfgesdrtfgzxrdcfvgbnazesxdcfvgbhnjklaWzesxdcfvgbhjklazsdfghjkazesxdcfghj"); repository.save(blog); &#125; @Test public void delete() &#123; repository.delete(10); &#125; @Test public void update() &#123; Blog blog = repository.findOne(12); blog.setTitle("èŠ±ä¸€æ ·çš„äººç”Ÿ...."); repository.save(blog); System.out.println(repository.findOne(12).getTitle()); &#125; @Test public void findOne() &#123; Blog result = repository.findOne(45); System.out.println(result.getTitle()); for (Comment comment:result.getComments()) &#123; System.out.println(comment.getContent()); &#125; &#125; @Test public void findAllByPage() &#123; Sort sort = new Sort(Sort.Direction.DESC, "title"); Pageable pageable = new PageRequest(1,10, sort); Page&lt;Blog&gt; list = repository.findAll(pageable); for (Blog blog : list) &#123; System.out.println(blog.getTitle()); &#125; &#125;&#125; 6.2 æµ‹è¯• CommentRepository123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package pro.yuchen.demo.spring_demo.dao;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.data.domain.Sort;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.Blog;import pro.yuchen.demo.spring_demo.entity.Comment;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;Application.class&#125;)public class CommentRepositoryTest &#123; @Autowired private CommentRepository repository; @Test public void insert() &#123; Blog blog = new Blog(); for (int i = 30; i &lt; 100; i++) &#123; blog.setId(i); for(int j = 0; j &lt; 10; j++) &#123; Comment comment = new Comment(); comment.setBlog(blog); comment.setContent("è¯„è®º...." + j); repository.save(comment); &#125; &#125; &#125; @Test public void delete() &#123; repository.delete(23); &#125; @Test public void update() &#123; Comment comment = repository.findOne(10); comment.setContent("lll"); repository.save(comment); &#125; @Test public void findOne() &#123; Comment comment = repository.findOne(10); System.out.println(comment.getContent()); &#125; @Test public void findAllByPage() &#123; Sort sort = new Sort(Sort.Direction.ASC, "blog_id", "id"); Pageable pageable = new PageRequest(23,10, sort); Page&lt;Comment&gt; list = repository.findAll(pageable); for (Comment comment : list) &#123; System.out.println(comment.getContent() + " " + comment.getId()); &#125; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ProtoBuf å­¦ä¹ (ä¸€)]]></title>
    <url>%2F2018%2F03%2F20%2Fnode%2Fnode-protobuf_1%2F</url>
    <content type="text"><![CDATA[ProtoBuf çŽ¯å¢ƒçš„å®‰è£…ä¸ŽHelloWord 1. å®‰è£… ProtoBuf brew install protobuf@2.5.0 2. æ–°å»º person.proto æ–‡ä»¶1234567891011121314151617181920212223242526272829syntax = "proto2";package tutorial;option java_package = "pro.yuchen.demo.spring_demo.proto";option java_outer_classname = "AddressBookProtos";message Person &#123; required string name = 1; // éžç©ºå±žæ€§ required int32 id = 2; // éžç©ºå±žæ€§ optional string email = 3; // å¯ç©ºå±žæ€§ enum PhoneType &#123; // æžšä¸¾ç±»åž‹ MOBILE = 0; HOME = 1; WORK = 2; &#125; message PhoneNumber &#123; // å­ç±»(å¯å¤šä¸ª, JSONè¡¨çŽ°ä¸ºæ•°ç»„å½¢å¼) required string number = 1; optional PhoneType type = 2 [default = HOME]; &#125; repeated PhoneNumber phones = 4;&#125;message AddressBook &#123; repeated Person people = 1;&#125; 3. ç”Ÿæˆ Javaæºæ–‡ä»¶protoc --java_out . person.proto 4. å¯¼å…¥pom.xmlä¾èµ–12345678910&lt;dependency&gt; &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt; &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt; &lt;version&gt;2.5.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.googlecode.protobuf-java-format&lt;/groupId&gt; &lt;artifactId&gt;protobuf-java-format&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt; ps: å°†åˆšåˆšæ ¹æ®.protoç”Ÿæˆçš„ javaæ–‡ä»¶, å¯¼å…¥é¡¹ç›®ä¸­ 5. æµ‹è¯•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124package pro.yuchen.demo.spring_demo.proto;import com.google.protobuf.ByteString;import com.google.protobuf.Descriptors;import com.google.protobuf.Descriptors.FieldDescriptor;import com.google.protobuf.Message;import com.googlecode.protobuf.format.JsonFormat;import org.junit.Test;import pro.yuchen.demo.spring_demo.proto.Protos.Person;import java.util.Iterator;import java.util.List;import java.util.Map;public class ProtoBufTest &#123; @Test public void testProtoBuf() throws Exception &#123; Person person = Person.newBuilder() .setId(1) .setName("Tom") .setEmail("yuchen352416@163.com") .addPhones(Person.PhoneNumber.newBuilder() .setNumber("18733775865") .setType(Person.PhoneType.MOBILE)) .build(); // ProtoBuf -&gt; JSON String jsonFormat = JsonFormat.printToString(person); System.out.println(jsonFormat); // JSON -&gt; ProtoBuf String json = "&#123;\"name\": \"Tom\", \"id\": 1, \"email\": \"yuchen352416@163.com\", \"phones\": [&#123;\"number\": \"18733775865\", \"type\": 1 &#125;, &#123;\"number\": \"13463170232\", \"type\": 0 &#125; ] &#125;"; Message.Builder message = Person.newBuilder(); JsonFormat.merge(json, message); System.out.println(message.build()); byte[] bytes = person.toByteArray(); // åºåˆ—åŒ– Person result = Person.parseFrom(bytes); // ååºåˆ—åŒ– // éåŽ†è¾“å‡º for (Iterator&lt;Map.Entry&lt;FieldDescriptor, Object&gt;&gt; iter = result.getAllFields().entrySet().iterator(); iter.hasNext();) &#123; Map.Entry&lt;FieldDescriptor, Object&gt; field = iter.next(); System.out.println("Number: " + field.getKey().getNumber()); System.out.println("Type: " + field.getKey().getType()); System.out.println("Name: " + field.getKey().getName()); System.out.println("FullName: " + field.getKey().getFullName()); System.out.println("FileName: " + field.getKey().getFile().getName()); printFieldValue(field); System.out.println("-------------------------------------------"); System.out.println(); &#125; &#125; private void printFieldValue(Map.Entry&lt;FieldDescriptor, Object&gt; field) &#123; switch (field.getKey().getType())&#123; case INT32: case INT64: case SINT32: case SINT64: case SFIXED32: case SFIXED64: case FLOAT: case DOUBLE: case BOOL: // Good old toString() does what we want for these types. System.out.println("Value: " + field.getValue().toString()); break; case UINT32: case FIXED32: System.out.println("Value: " + (Integer) field.getValue()); break; case UINT64: case FIXED64: System.out.println("Value: " + (Long) field.getValue()); break; case STRING: &#123; System.out.println("Value: " + (String) field.getValue()); break; &#125; case BYTES: &#123; System.out.println("Value: " + (ByteString) field.getValue()); break; &#125; case ENUM: &#123; System.out.println("Value: " + ((Descriptors.EnumValueDescriptor) field.getValue()).getName()); break; &#125; case MESSAGE: case GROUP: System.out.println("Size: " + ((List&lt;?&gt;) field.getValue()).size()); System.out.println("Value: ["); List&lt;?&gt; list = (List&lt;?&gt;) field.getValue(); for (Object o : list) &#123; Message message = (Message) o; for (Iterator&lt;Map.Entry&lt;FieldDescriptor, Object&gt;&gt; iters = message.getAllFields().entrySet().iterator(); iters.hasNext();) &#123; Map.Entry&lt;FieldDescriptor, Object&gt; iter = iters.next(); System.out.println("\t-----Number: " + iter.getKey().getNumber()); System.out.println("\t-----Type: " + iter.getKey().getType()); System.out.println("\t-----Name: " + iter.getKey().getName()); System.out.println("\t-----FullName: " + iter.getKey().getFullName()); System.out.println("\t-----FileName: " + iter.getKey().getFile().getName()); System.out.print("\t-----"); printFieldValue(iter); System.out.println("\t--------------------------------------------"); &#125; System.out.println(); &#125; System.out.println("]"); break; &#125; &#125;&#125; è¾“å‡ºç»“æžœ: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&#123;&quot;name&quot;: &quot;Tom&quot;,&quot;id&quot;: 1,&quot;email&quot;: &quot;yuchen352416@163.com&quot;,&quot;phones&quot;: [&#123;&quot;number&quot;: &quot;18733775865&quot;,&quot;type&quot;: &quot;MOBILE&quot;&#125;]&#125;name: &quot;Tom&quot;id: 1email: &quot;yuchen352416@163.com&quot;phones &#123; number: &quot;18733775865&quot; type: HOME&#125;phones &#123; number: &quot;13463170232&quot; type: MOBILE&#125;Number: 1Type: STRINGName: nameFullName: Person.nameFileName: person.protoValue: Tom-------------------------------------------Number: 2Type: INT32Name: idFullName: Person.idFileName: person.protoValue: 1-------------------------------------------Number: 3Type: STRINGName: emailFullName: Person.emailFileName: person.protoValue: yuchen352416@163.com-------------------------------------------Number: 4Type: MESSAGEName: phonesFullName: Person.phonesFileName: person.protoSize: 1Value: [ -----Number: 1 -----Type: STRING -----Name: number -----FullName: Person.PhoneNumber.number -----FileName: person.proto -----Value: 18733775865 -------------------------------------------- -----Number: 2 -----Type: ENUM -----Name: type -----FullName: Person.PhoneNumber.type -----FileName: person.proto -----Value: MOBILE --------------------------------------------]-------------------------------------------]]></content>
      <categories>
        <category>ProtoBuf</category>
      </categories>
      <tags>
        <tag>ProtoBuf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot AOP]]></title>
    <url>%2F2018%2F03%2F19%2Farticle%2FSpringBoot%2Farticle-spring-boot_08%2F</url>
    <content type="text"><![CDATA[SpringBoot ä¸­ä½¿ç”¨ AOP 1. æ·»åŠ pom.xmlä¾èµ–1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt; 2. æ·»åŠ åˆ‡ç‰‡ç±»1234567891011121314151617181920212223242526272829303132package pro.yuchen.demo.spring_demo.aop;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Pointcut;import org.aspectj.lang.reflect.MethodSignature;import org.springframework.stereotype.Component;/** * é€šç”¨AOP */@Aspect@Componentpublic class GlobalAspect &#123; public static final String GET = "execution(* pro.yuchen.demo.spring_demo.mapper.*.get(..))"; @Pointcut(GET) private void get() &#123; &#125; // å£°æ˜ŽçŽ¯ç»•é€šçŸ¥ @Around("get()") public Object doAround(ProceedingJoinPoint pjp) throws Throwable &#123; long startTime = System.currentTimeMillis(); Object o = pjp.proceed(); MethodSignature signature = (MethodSignature) pjp.getSignature(); String methodName = signature.getDeclaringTypeName() + "." + signature.getName(); long endTime = System.currentTimeMillis(); System.out.println(endTime - startTime); return o; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot MyBatis]]></title>
    <url>%2F2018%2F03%2F18%2Farticle%2FSpringBoot%2Farticle-spring-boot_07%2F</url>
    <content type="text"><![CDATA[SpringBoot ä¸ŽMyBatis æ•´åˆ 1. æ·»åŠ pom.xmlä¾èµ–12345678910&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt;&lt;/dependency&gt; 2. ä¿®æ”¹é…ç½®æ–‡ä»¶123456spring: datasource: driverClassName: com.mysql.jdbc.Driver url: jdbc:mysql://localhost:3306/base_db?useUnicode=true&amp;characterEncoding=utf-8 username: root password: root 3. æ–°å»ºå®žä½“ä»¥åŠMapperç±»(æ³¨è§£æ–¹å¼)3.1. å®žä½“12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package pro.yuchen.demo.spring_demo.entity;import java.io.Serializable;import java.util.Date;public class Visitor implements Serializable &#123; /** * ä¸»é”® */ private Integer id; /** * åå­— */ private String name; /** * é‚®ç®±åœ°å€ */ private String email; /** * çŠ¶æ€æ ‡è¯† */ private Integer status; /** * åˆ›å»ºæ—¶é—´ */ private Date createTime; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email; &#125; public Integer getStatus() &#123; return status; &#125; public void setStatus(Integer status) &#123; this.status = status; &#125; public Date getCreateTime() &#123; return createTime; &#125; public void setCreateTime(Date createTime) &#123; this.createTime = createTime; &#125;&#125; 3.2. Mapper ç±»12345678910111213141516171819202122232425262728293031package pro.yuchen.demo.spring_demo.mapper;import org.apache.ibatis.annotations.*;import pro.yuchen.demo.spring_demo.entity.Visitor;import java.util.List;public interface VisitorMapper &#123; @Insert("INSERT INTO visitor(name, email, status, create_time) VALUES(#&#123;name&#125;, #&#123;email&#125;, #&#123;status&#125;, #&#123;createTime&#125;)") void insert(Visitor visitor); @Delete("DELETE FROM visitor WHERE id=#&#123;id&#125;") void delete(Integer id); @Update("UPDATE visitor SET name=#&#123;name&#125;, email=#&#123;email&#125;, status=#&#123;status&#125;, create_time=#&#123;createTime&#125; WHERE id=#&#123;id&#125;") void update(Visitor visitor); @Select("SELECT * FROM visitor") @Results(&#123; @Result(property = "createTime", column = "create_time") &#125;) List&lt;Visitor&gt; getAll(); // æ³¨æ„è¿™é‡Œçš„æ–¹æ³•, æ˜¯ä¸å¯ä»¥é‡è½½çš„ @Select("SELECT * FROM visitor WHERE id=#&#123;id&#125;") @Results(&#123; @Result(property = "createTime", column = "create_time") &#125;) Visitor get(Integer id);&#125; 3.3. æµ‹è¯•ç”¨ä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package pro.yuchen.demo.spring_demo.mapper;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.Visitor;import java.util.Date;import java.util.List;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)public class VisitorMapperTest &#123; @Autowired private VisitorMapper mapper; @Test public void insert() &#123; Visitor visitor = new Visitor(); visitor.setCreateTime(new Date()); visitor.setName("Ws"); visitor.setEmail("ws@163.com"); visitor.setStatus(1); mapper.insert(visitor); &#125; @Test public void delete() &#123; mapper.delete(8); &#125; @Test public void update() &#123; Visitor visitor = mapper.get(2); System.out.println(visitor.getName()); visitor.setName("Mr.Li"); mapper.update(visitor); &#125; @Test public void get() &#123; List&lt;Visitor&gt; list = mapper.getAll(); for (Visitor visitor : list) &#123; System.out.println(visitor.getName()); &#125; Visitor visitor = mapper.get(2); System.out.println(visitor.getName()); &#125;&#125; 4. æ–°å»ºå®žä½“ä»¥åŠmapper.xml(xmlæ–¹å¼)4.1. ä¿®æ”¹application.ymlé…ç½®æ–‡ä»¶1234# mybatis é…ç½®æ–‡ä»¶è·¯å¾„mybatis: config-locations: classpath:mybatis/mybatis-config.xml mapper-locations: classpath:mybatis/mapper/*.xml 4.2. å®žä½“12345678910111213141516171819202122232425262728293031323334353637383940package pro.yuchen.demo.spring_demo.entity;public class User &#123; private Integer id; private String name; private Integer age; private String city; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public String getCity() &#123; return city; &#125; public void setCity(String city) &#123; this.city = city; &#125;&#125; 4.3. æ–°å»ºMapperæŽ¥å£123456789101112131415161718package pro.yuchen.demo.spring_demo.mapper;import pro.yuchen.demo.spring_demo.entity.User;import java.util.List;public interface UserMapper &#123; void insert(User user); void delete(Integer id); void update(User user); List&lt;User&gt; getAll(); // æ³¨æ„è¿™é‡Œçš„æ–¹æ³•, æ˜¯ä¸å¯ä»¥é‡è½½çš„ User get(Integer id);&#125; 4.4. æ–°å»º user-mapper.xmlæ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="pro.yuchen.demo.spring_demo.mapper.UserMapper"&gt; &lt;resultMap id="BaseResultMap" type="pro.yuchen.demo.spring_demo.entity.User" &gt; &lt;id column="id" property="id" jdbcType="BIGINT" /&gt; &lt;result column="name" property="name" jdbcType="VARCHAR" /&gt; &lt;result column="age" property="age" jdbcType="BIGINT" /&gt; &lt;result column="city" property="city" jdbcType="VARCHAR" /&gt; &lt;/resultMap&gt; &lt;sql id="Base_Column_List" &gt; id, name, age, city &lt;/sql&gt; &lt;insert id="insert" parameterType="pro.yuchen.demo.spring_demo.entity.User"&gt; INSERT INTO user(name, age, city) values(#&#123;name&#125;, #&#123;age&#125;, #&#123;city&#125;) &lt;/insert&gt; &lt;delete id="delete" parameterType="Integer"&gt; DELETE FROM user WHERE id =#&#123;id&#125; &lt;/delete&gt; &lt;update id="update" parameterType="pro.yuchen.demo.spring_demo.entity.User"&gt; UPDATE user SET &lt;if test="name != null"&gt;name = #&#123;name&#125;,&lt;/if&gt; &lt;if test="age &gt;= 0"&gt;age = #&#123;age&#125;,&lt;/if&gt; city = #&#123;city&#125; WHERE id = #&#123;id&#125; &lt;/update&gt; &lt;select id="getAll" resultMap="BaseResultMap" &gt; SELECT &lt;include refid="Base_Column_List" /&gt; FROM user &lt;/select&gt; &lt;select id="get" parameterType="Integer" resultMap="BaseResultMap" &gt; SELECT &lt;include refid="Base_Column_List" /&gt; FROM user WHERE id = #&#123;id&#125; &lt;/select&gt; &lt;/mapper&gt; 4.5. æµ‹è¯•ç”¨ä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package pro.yuchen.demo.spring_demo.mapper;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.User;import pro.yuchen.demo.spring_demo.entity.Visitor;import java.util.Date;import java.util.List;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)public class UserMapperTest &#123; @Autowired private UserMapper mapper; @Test public void insert() &#123; User user = new User(); user.setAge(20); user.setName("mmw"); user.setCity("dd"); mapper.insert(user); &#125; @Test public void delete() &#123; mapper.delete(1); &#125; @Test public void update() &#123; User user = mapper.get(2); System.out.println(user.getName()); user.setName("Mr.Li"); mapper.update(user); &#125; @Test public void get() &#123; List&lt;User&gt; list = mapper.getAll(); for (User user : list) &#123; System.out.println(user.getName()); &#125; User user = mapper.get(2); System.out.println(user.getName()); &#125;&#125; 5. é¢è¯•ä¸­é‡åˆ°è¿‡çš„é—®é¢˜5.1 resultType ä¸Ž resultMap çš„åŒºåˆ«ç”¨selectæŸ¥è¯¢æ—¶è¿”å›žå€¼çš„ç±»åž‹å¯ä»¥ä¸ºresultTypeå’ŒresultMapä¸¤ç§ç±»åž‹. resultTypeè¡¨ç¤ºè¿”å›žç±»åž‹ï¼Œæ˜ å°„æˆæˆ‘ä»¬çš„modelå¯¹è±¡ä¸­çš„å®žä½“ï¼Œ resultMapéœ€è¦æå‰å®šä¹‰å¥½æ•°æ®åº“dbå’Œmodelå®žä½“ç±»å¯¹åº”å…³ç³»ï¼Œç„¶åŽåœ¨å¼•ç”¨å®šä¹‰å¥½çš„å¤–éƒ¨resultMap resultMapå’ŒresultTypeæ˜¯ä¸èƒ½åŒæ—¶å­˜åœ¨çš„ 5.2 # ä¸Ž $ çš„åŒºåˆ«åŠ¨æ€ SQL æ˜¯ mybatis çš„å¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å®ƒä¼˜äºŽå…¶ä»– ORM æ¡†æž¶çš„ä¸€ä¸ªé‡è¦åŽŸå› ã€‚mybatis åœ¨å¯¹ sql è¯­å¥è¿›è¡Œé¢„ç¼–è¯‘ä¹‹å‰ï¼Œä¼šå¯¹ sql è¿›è¡ŒåŠ¨æ€è§£æžï¼Œè§£æžä¸ºä¸€ä¸ª BoundSql å¯¹è±¡ï¼Œä¹Ÿæ˜¯åœ¨æ­¤å¤„å¯¹åŠ¨æ€ SQL è¿›è¡Œå¤„ç†çš„ã€‚ åœ¨åŠ¨æ€ SQL è§£æžé˜¶æ®µï¼Œ #{ } å’Œ ${ } ä¼šæœ‰ä¸åŒçš„è¡¨çŽ°ï¼š #{ } è§£æžä¸ºä¸€ä¸ª JDBC é¢„ç¼–è¯‘è¯­å¥ï¼ˆprepared statementï¼‰çš„å‚æ•°æ ‡è®°ç¬¦ã€‚ ä¾‹å¦‚ï¼ŒsqlMap ä¸­å¦‚ä¸‹çš„ sql è¯­å¥ 1select * from user where name = #&#123;name&#125;; è§£æžä¸ºï¼š 1select * from user where name = ?; ä¸€ä¸ª #{ } è¢«è§£æžä¸ºä¸€ä¸ªå‚æ•°å ä½ç¬¦ ? ã€‚ ${ } ä»…ä»…ä¸ºä¸€ä¸ªçº¯ç¢Žçš„ string æ›¿æ¢ï¼Œåœ¨åŠ¨æ€ SQL è§£æžé˜¶æ®µå°†ä¼šè¿›è¡Œå˜é‡æ›¿æ¢ ä¾‹å¦‚ï¼ŒsqlMap ä¸­å¦‚ä¸‹çš„ sql 1select * from user where name = &apos;$&#123;name&#125;&apos;; å½“æˆ‘ä»¬ä¼ é€’çš„å‚æ•°ä¸º â€œruhuaâ€ æ—¶ï¼Œä¸Šè¿° sql çš„è§£æžä¸ºï¼š 1select * from user where name = &quot;ruhua&quot;; é¢„ç¼–è¯‘ä¹‹å‰çš„ SQL è¯­å¥å·²ç»ä¸åŒ…å«å˜é‡ name äº†ã€‚ é™„: JDBC Type Java Type CHAR String VARCHAR String LONGVARCHAR String NUMERIC java.math.BigDecimal DECIMAL java.math.BigDecimal BIT boolean BOOLEAN boolean TINYINT byte SMALLINT short INTEGER int BIGINT long REAL float FLOAT double DOUBLE double BINARY byte[] VARBINARY byte[] LONGVARBINARY byte[] DATE java.sql.Date TIME java.sql.Time TIMESTAMP java.sql.Timestamp CLOB Clob BLOB Blob ARRAY Array DISTINCT mapping of underlying type STRUCT Struct REF Ref DATALINK java.net.URL JAVA_OBJECT underlying Java class]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot IDEAä¸­å®žçŽ°çƒ­éƒ¨ç½²]]></title>
    <url>%2F2018%2F03%2F17%2Farticle%2FSpringBoot%2Farticle-spring-boot_06%2F</url>
    <content type="text"><![CDATA[SpringBoot åœ¨IDEAä¸­å®žçŽ°çƒ­éƒ¨ç½² 1. æ·»åŠ pom.xmlä¾èµ–123456&lt;!-- çƒ­éƒ¨ç½² --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt; 2. åœ¨ Maven çš„æž„å»ºæ’ä»¶ä¸­, æ·»åŠ çƒ­éƒ¨ç½²æ’ä»¶12345678910&lt;!-- çƒ­éƒ¨ç½² --&gt;&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;!--fork : å¦‚æžœæ²¡æœ‰è¯¥é¡¹é…ç½®devtoolsä¸ä¼šèµ·ä½œç”¨ï¼Œå³åº”ç”¨ä¸ä¼šrestart --&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;addResources&gt;true&lt;/addResources&gt;&lt;!--æ”¯æŒé™æ€æ–‡ä»¶çƒ­éƒ¨ç½²--&gt; &lt;/configuration&gt;&lt;/plugin&gt; 3. è®¾ç½®IDEA3.1. Command + , â€“&gt; æŸ¥æ‰¾ Compiler 3.2. Command + Shift + A â€“&gt; æŸ¥æ‰¾make project automatically 3.3. Command + Shift + A â€“&gt; æŸ¥æ‰¾ Registry â€“&gt; æ‰¾åˆ°å¹¶å‹¾é€‰compiler.automake.allow.when.app.running]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Redis]]></title>
    <url>%2F2018%2F03%2F15%2Farticle%2FSpringBoot%2Farticle-spring-boot_05%2F</url>
    <content type="text"><![CDATA[SpringBoot å¯¹ Redisçš„åŸºæœ¬æ“ä½œ Redisä¸€å…±æ”¯æŒ5ç§æ•°æ®ç±»åž‹ï¼Œæ¯ç§æ•°æ®ç±»åž‹å¯¹åº”ä¸åŒçš„æ•°æ®ç»“æž„ï¼Œæœ‰ç®€å•çš„stringã€listã€hashã€set(å­—å…¸)ã€zet(è·³è·ƒè¡¨)ã€‚è·³è·ƒè¡¨æ˜¯æ¯”è¾ƒæ–°åž‹çš„æ•°æ®ç»“æž„ï¼Œå¸¸ç”¨äºŽé«˜æ€§èƒ½çš„æŸ¥æ‰¾ï¼Œå¯ä»¥è¾¾åˆ°log2Nçš„æŸ¥è¯¢é€Ÿåº¦ï¼Œè€Œä¸”è·³è·ƒè¡¨ç›¸å¯¹äºŽçº¢é»‘æ ‘ï¼Œåœ¨æ›´æ–°æ—¶å˜æ›´çš„èŠ‚ç‚¹è¾ƒå°‘ï¼Œæ›´æ˜“äºŽå®žçŽ°å¹¶å‘æ“ä½œã€‚ Redisæä¾›äº†ä¸¤ç§æŒä¹…æœºåˆ¶ï¼ŒåŒ…æ‹¬RDBå’ŒAOFï¼Œå‰è€…æ˜¯å®šæ—¶çš„æŒä¹…æœºåˆ¶ï¼Œä½†åœ¨å‡ºçŽ°å®•æœºæ—¶å¯èƒ½ä¼šå‡ºçŽ°æ•°æ®ä¸¢å¤±ï¼ŒåŽè€…æ˜¯åŸºäºŽæ“ä½œæ—¥å¿—çš„æŒä¹…æœºåˆ¶ã€‚ 1. æ·»åŠ pom.xmlä¾èµ–1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt; 2. æ·»åŠ é…ç½®ä¿¡æ¯1234567891011spring: redis: database: 0 # Redisæ•°æ®åº“ç´¢å¼•ï¼ˆé»˜è®¤ä¸º0ï¼‰ host: 127.0.0.1 # RedisæœåŠ¡å™¨åœ°å€ port: 6379 # RedisæœåŠ¡å™¨è¿žæŽ¥ç«¯å£ password: # RedisæœåŠ¡å™¨è¿žæŽ¥å¯†ç ï¼ˆé»˜è®¤ä¸ºç©ºï¼‰ pool.max-active: 8 # è¿žæŽ¥æ± æœ€å¤§è¿žæŽ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰ pool.max-wait: -1 # è¿žæŽ¥æ± æœ€å¤§é˜»å¡žç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰ pool.max-idle: 8 # è¿žæŽ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿žæŽ¥ pool.min-idle: 0 # è¿žæŽ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿žæŽ¥ timeout: 0 # è¿žæŽ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ 3. æ–°å¢žRedisConfigç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package pro.yuchen.demo.spring_demo.redis;import com.fasterxml.jackson.annotation.JsonAutoDetect;import com.fasterxml.jackson.annotation.PropertyAccessor;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.cache.CacheManager;import org.springframework.cache.annotation.CachingConfigurerSupport;import org.springframework.cache.annotation.EnableCaching;import org.springframework.cache.interceptor.KeyGenerator;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;import java.lang.reflect.Method;@Configuration@EnableCachingpublic class RedisConfig extends CachingConfigurerSupport &#123; @Bean public KeyGenerator keyGenerator() &#123; return new KeyGenerator() &#123; @Override public Object generate(Object target, Method method, Object... params) &#123; StringBuilder sb = new StringBuilder(); sb.append(target.getClass().getName()); sb.append(method.getName()); for (Object obj : params) &#123; sb.append(obj.toString()); &#125; return sb.toString(); &#125; &#125;; &#125; @SuppressWarnings("rawtypes") @Bean public CacheManager cacheManager(RedisTemplate redisTemplate) &#123; RedisCacheManager rcm = new RedisCacheManager(redisTemplate); //è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´// rcm.setDefaultExpiration(60);//ç§’ return rcm; &#125; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate template = new StringRedisTemplate(factory); Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; &#125;&#125; 4. æµ‹è¯•RedisTemplate12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970package pro.yuchen.demo.spring_demo.redis;import com.google.gson.Gson;import com.google.gson.GsonBuilder;import org.junit.Assert;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.core.ValueOperations;import org.springframework.test.context.junit4.SpringRunner;import pro.yuchen.demo.spring_demo.entity.Book;import pro.yuchen.demo.spring_demo.entity.User;import java.util.Date;import java.util.concurrent.TimeUnit;@RunWith(SpringRunner.class)@SpringBootTestpublic class RedisTest &#123; @Autowired private StringRedisTemplate stringRedisTemplate; @Autowired private RedisTemplate redisTemplate; @Test public void test() throws Exception &#123; stringRedisTemplate.opsForValue().set("aaa", "å¼ ä¸‰"); Assert.assertEquals("å¼ ä¸‰", stringRedisTemplate.opsForValue().get("aaa")); &#125; @Test public void testObj() throws Exception &#123; User user=new User(); user.setName("tom"); user.setAge(10); user.setId(1L); User user1 = new User(); user1.setName("Jack"); user1.setAge(48); user1.setId(3L); Book book = new Book(); book.setDate(new Date()); book.setId(1); book.setName("hheehe"); book.setPress("aaa").setPress("bbb").setPress("ccc"); Gson gson = new GsonBuilder().setDateFormat("yyyy-MM-dd HH:mm:ss.SSS").create(); String book_json = gson.toJson(book); ValueOperations&lt;String, Object&gt; operations = redisTemplate.opsForValue(); operations.set("com.neox", user); operations.set("com.neo.f", user1); operations.set("book", book_json); Book book1 = gson.fromJson(operations.get("book").toString(), Book.class); operations.set("com.neo.f", user,99, TimeUnit.SECONDS); Thread.sleep(1000); redisTemplate.delete("com.neo.f"); boolean exists=redisTemplate.hasKey("com.neo.f"); if(exists)&#123; System.out.println("exists is true"); &#125;else&#123; System.out.println("exists is false"); &#125; // Assert.assertEquals("aa", operations.get("com.neo.f").getUserName()); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot ç»Ÿä¸€å¤„ç†é”™è¯¯]]></title>
    <url>%2F2018%2F03%2F13%2Farticle%2FSpringBoot%2Farticle-spring-boot_04%2F</url>
    <content type="text"><![CDATA[SpringBoot ç»Ÿä¸€å¤„ç†é”™è¯¯ä¿¡æ¯ 1. å®šä¹‰å…¬å…±å¼‚å¸¸ç±»123456789101112131415161718192021222324252627282930313233343536373839404142434445package pro.yuchen.demo.spring_demo.pojo;/** * HTTPè¯·æ±‚é€šç”¨é”™è¯¯ä¿¡æ¯ */public class GlobalException extends Exception &#123; /** * é”™è¯¯çš„çŠ¶æ€ç  */ private Integer code; /** * HTTP é”™è¯¯ä¿¡æ¯ */ private String message; /** * HTTP è¿”å›žæ•°æ®(JSON æ ¼å¼) */ private String data; public GlobalException(Integer code, String message) &#123; super(message); this.code = code; &#125; public Integer getCode() &#123; return code; &#125; public void setCode(Integer code) &#123; this.code = code; &#125; public String getData() &#123; return data; &#125; public void setData(String data) &#123; this.data = data; &#125;&#125; 2. å®šä¹‰é¡µé¢å¼‚å¸¸ç±»12345678910111213141516171819202122232425262728293031323334353637383940414243package pro.yuchen.demo.spring_demo.pojo;/** * é¡µé¢é”™è¯¯ä¿¡æ¯ */public class PageException extends Exception &#123; /** * é”™è¯¯çš„çŠ¶æ€ç  */ private Integer code; /** * é”™è¯¯ä¿¡æ¯ */ private String message; /** * è¿”å›žæ•°æ® */ private String data; public PageException(Integer code, String message) &#123; super(message); this.code = code; &#125; public Integer getCode() &#123; return code; &#125; public void setCode(Integer code) &#123; this.code = code; &#125; public String getData() &#123; return data; &#125; public void setData(String data) &#123; this.data = data; &#125;&#125; 3. å®šä¹‰å¼‚å¸¸æ‹¦æˆªç±»12345678910111213141516171819202122232425262728293031323334353637383940414243444546package pro.yuchen.demo.spring_demo.web;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.servlet.ModelAndView;import pro.yuchen.demo.spring_demo.entity.Book;import pro.yuchen.demo.spring_demo.pojo.GlobalException;import pro.yuchen.demo.spring_demo.pojo.PageException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.util.*;@ControllerAdvicepublic class GlobalExceptionHandler &#123; private Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class); @ExceptionHandler(value = GlobalException.class) @ResponseBody public Map&lt;String, Object&gt; defaultErrorHandler(HttpServletResponse response, HttpServletRequest request, GlobalException e) throws Exception &#123; logger.error("", e); Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;(); result.put("code", e.getCode()); result.put("message", e.getMessage()); result.put("data", e.getData()); response.setStatus(e.getCode()); return result; // è¿”å›ž JSON &#125; @ExceptionHandler(value = &#123;PageException.class&#125;) public ModelAndView pageErrorHandler(PageException e) throws Exception &#123; logger.error("", e); ModelAndView m = new ModelAndView(); // è®¾ç½®è¿”å›žæ•°æ® m.addObject("code", e.getCode()); m.addObject("message", e.getMessage()); m.addObject("data", e.getData()); // è®¾ç½®è¿”å›žé¡µé¢ m.setViewName("error/500"); return m; // è¿”å›žthymeleafæ¸²æŸ“çš„é¡µé¢ &#125;&#125; 4. æ–°å»ºErroré¡µé¢1234567891011&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;title th:text="$&#123;code&#125;"&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;span th:text="$&#123;message&#125;"&gt;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt; 4.1. æ–°å»ºerroré¡µé¢è·¯å¾„ 5. æ–°å»ºWebæŽ¥å£, æµ‹è¯•å¼‚å¸¸12345678910111213141516171819202122package pro.yuchen.demo.spring_demo.web;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import pro.yuchen.demo.spring_demo.pojo.GlobalException;import pro.yuchen.demo.spring_demo.pojo.PageException;@RestControllerpublic class ErrorController &#123; @RequestMapping("/error/&#123;id&#125;") public String error(@PathVariable Integer id) throws Exception &#123; if(id &lt; 20) &#123; throw new GlobalException(503, "æµ‹è¯•......."); &#125; else if (id &gt; 50) &#123; throw new PageException(500, "æµ‹è¯•é¡µé¢"); &#125; return "error"; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Thymeleaf]]></title>
    <url>%2F2018%2F03%2F10%2Farticle%2FSpringBoot%2Farticle-spring-boot_03%2F</url>
    <content type="text"><![CDATA[SpringBoot ä½¿ç”¨ Thymeleaf æ¨¡æ¿æ¸²æŸ“é¡µé¢ 1. å¼•å…¥pomæ–‡ä»¶1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt; 2. ä¿®æ”¹é…ç½®æ–‡ä»¶(application.yml)1234567891011121314spring: # æ¨¡æ¿é…ç½® thymeleaf: # è¿™ä¸ªå¼€å‘é…ç½®ä¸ºfalseï¼Œé¿å…æ”¹äº†æ¨¡æ¿è¿˜è¦é‡å¯æœåŠ¡å™¨ cache: false check-template-location: true content-type: text/html enabled: true encoding: utf-8 mode: HTML5 prefix: classpath:/templates/ suffix: .html excluded-view-names: template-resolver-order: 3. æ–°å»ºé™æ€é¡µé¢(Thymeleafæ¸²æŸ“)12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;title&gt;Thymeleaf Demo&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;å˜é‡è¡¨è¾¾å¼&lt;/h2&gt; &lt;span th:text="$&#123;book.name&#125;"&gt;&lt;/span&gt; &lt;h2&gt;é€‰æ‹©(æ˜Ÿå·)è¡¨è¾¾å¼&lt;/h2&gt; &lt;div th:object="$&#123;book&#125;"&gt; ID: &lt;span th:text="*&#123;id&#125;"&gt;&lt;/span&gt;&lt;br/&gt; NAME: &lt;span th:text="*&#123;name&#125;"&gt;&lt;/span&gt;&lt;br/&gt; Date: &lt;span th:text="*&#123;#dates.format(date, 'yyyy-MM-dd HH:mm:ss.SSS')&#125;"&gt;&lt;/span&gt;&lt;br/&gt; Press:&lt;br/&gt; &lt;span th:each="p : *&#123;press&#125;"&gt; &lt;span th:text="$&#123;p&#125;"&gt;&lt;/span&gt;&lt;br/&gt; &lt;/span&gt; &lt;/div&gt; &lt;h2&gt;URLè¡¨è¾¾å¼&lt;/h2&gt; &lt;a href="main.html" th:href="@&#123;./404&#125;"&gt;URL-TEST&lt;/a&gt; &lt;a th:href="@&#123;/hello&#125;"&gt;hello&lt;/a&gt; &lt;h2&gt;å¸¸è§çš„å‡ ç§ç”¨æ³•&lt;/h2&gt; &lt;h4&gt;1. æ‹¼æŽ¥å­—ç¬¦ä¸²&lt;/h4&gt; &lt;span th:text="|Welcome to our application, $&#123;book.name&#125;!|"&gt;&lt;/span&gt; &lt;/body&gt;&lt;/html&gt; 4. æ–°å»ºWebå“åº”æŽ¥å£1234567891011121314151617181920212223package pro.yuchen.demo.spring_demo.thymeleaf;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;@Controller // å¦‚æžœä½¿ç”¨@RestControllerï¼Œé¡µé¢åªè¿”å›žindexè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæ³¨è§£ç­‰åŒäºŽä½¿ç”¨@ResponseBodypublic class ThymeleafController &#123; @RequestMapping(value = &#123;"/", "", "/index.html"&#125;) public String index(ModelMap m) &#123; // åŠ å…¥ä¸€ä¸ªå±žæ€§ï¼Œç”¨æ¥åœ¨æ¨¡æ¿ä¸­è¯»å– Book book = new Book(); book.setId(1); book.setName("Java ç¼–ç¨‹æ€æƒ³"); book.setPress("Bruce").setPress("æŽè¿°æ˜±"); book.setDate(new Date()); m.put("book", book); m.put("url", "404.html"); // returnæ¨¡æ¿æ–‡ä»¶çš„åç§°ï¼Œå¯¹åº”src/main/resources/templates/index.html return "index"; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis åˆä½“éªŒ]]></title>
    <url>%2F2018%2F03%2F06%2Fnode%2Fdatabase%2Fnode-redis_1%2F</url>
    <content type="text"><![CDATA[MacOS ä¸­å®‰è£…å¹¶ä½¿ç”¨Redis å®‰è£… ç”¨docker æ‹‰å–redisé•œåƒæ–‡ä»¶ 1docker pull redis å¯åŠ¨rediså®¹å™¨ 1docker run --name redis -p 6379:6379 -d redis å¯ç”¨æŒä¹…åŒ– 1docker run --name redis -p 6379:6379 -d redis redis-server --appendonly yes æ›´è¯¦ç»†çš„è¯´æ˜Ž 1https://dev.aliyun.com/detail.html?spm=5176.1971733.2.19.OSaOMd&amp;repoId=1259 Redis å¸¸ç”¨å‘½ä»¤ å¯åŠ¨|åœæ­¢ Redis æœåŠ¡ 1redis-server start | stop å¯åŠ¨ Redis å®¢æˆ·ç«¯ 1redis-cli å…³é—­ Redis å®¢æˆ·ç«¯ 1redis-cli shutdown å†™å…¥æ•°æ® 1set foo bar è¯»å–æ•°æ® 1get foo æŸ¥çœ‹æ‰€æœ‰keys 1keys * æŸ¥çœ‹å‰ç¼€ä¸ºâ€prefix_â€çš„æ‰€æœ‰keys 1keys prefix_* æ¸…é™¤å½“å‰æ•°æ®åº“çš„æ‰€æœ‰keys 1flushdb æ¸…é™¤æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰keys 1flushall Java æ“ä½œ Redisâ€‹ ä½¿ç”¨Mavenç®¡ç†jaråŒ… 1234567891011121314151617181920212223242526&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;RedisDemo&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-pool&lt;/groupId&gt; &lt;artifactId&gt;commons-pool&lt;/artifactId&gt; &lt;version&gt;1.5.4&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; â€‹ è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æµ‹è¯•ä¾‹å­. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239package pro.yuchen.dome.dao;import java.util.ArrayList;import java.util.List;import redis.clients.jedis.Jedis;import redis.clients.jedis.JedisPool;import redis.clients.jedis.JedisPoolConfig;import redis.clients.jedis.JedisShardInfo;import redis.clients.jedis.ShardedJedis;import redis.clients.jedis.ShardedJedisPool;/** * redisçš„Javaå®¢æˆ·ç«¯Jedisæµ‹è¯•éªŒè¯ * * @author */public class Test &#123; /** * éžåˆ‡ç‰‡å®¢æˆ·ç«¯é“¾æŽ¥ */ private Jedis jedis; /** * éžåˆ‡ç‰‡é“¾æŽ¥æ±  */ private JedisPool jedisPool; /** * åˆ‡ç‰‡å®¢æˆ·ç«¯é“¾æŽ¥ */ private ShardedJedis shardedJedis; /** * åˆ‡ç‰‡é“¾æŽ¥æ±  */ private ShardedJedisPool shardedJedisPool; private String ip = "127.0.0.1"; /** * æž„é€ å‡½æ•° */ public Test() &#123; initialPool(); initialShardedPool(); shardedJedis = shardedJedisPool.getResource(); jedis = jedisPool.getResource(); &#125; private void initialPool() &#123; // æ± åŸºæœ¬é…ç½® JedisPoolConfig config = new JedisPoolConfig(); config.setMaxActive(20); config.setMaxIdle(5); config.setMaxWait(-1); config.setTestOnBorrow(false); jedisPool = new JedisPool(config, ip, 6379); &#125; /** * åˆå§‹åŒ–åˆ‡ç‰‡æ±  */ private void initialShardedPool() &#123; // æ± åŸºæœ¬é…ç½® JedisPoolConfig config = new JedisPoolConfig(); config.setMaxActive(20); config.setMaxIdle(5); config.setMaxWait(-1); config.setTestOnBorrow(false); // slaveé“¾æŽ¥ List&lt;JedisShardInfo&gt; shards = new ArrayList&lt;JedisShardInfo&gt;(); shards.add(new JedisShardInfo(ip, 6379, "master")); // æž„é€ æ±  shardedJedisPool = new ShardedJedisPool(config, shards); &#125; public void show() &#123; // keyæ£€æµ‹ testKey(); // stringæ£€æµ‹ testString(); // listæ£€æµ‹ testList(); // setæ£€æµ‹ testSet(); // sortedSetæ£€æµ‹ testSortedSet(); // hashæ£€æµ‹ testHash(); shardedJedisPool.returnResource(shardedJedis); &#125; private void testKey() &#123; System.out.println("=============key=========================="); // æ¸…ç©ºæ•°æ® System.out.println(jedis.flushDB()); System.out.println(jedis.echo("foo")); // åˆ¤æ–­keyå¦å­˜åœ¨ System.out.println(shardedJedis.exists("foo")); shardedJedis.set("key", "values"); System.out.println(shardedJedis.exists("key")); &#125; private void testString() &#123; System.out.println("=============String=========================="); // æ¸…ç©ºæ•°æ® System.out.println(jedis.flushDB()); // å­˜å‚¨æ•°æ® shardedJedis.set("foo", "bar"); System.out.println(shardedJedis.get("foo")); // è‹¥keyä¸å­˜åœ¨ï¼Œåˆ™å­˜å‚¨ shardedJedis.setnx("foo", "foo not exits"); System.out.println(shardedJedis.get("foo")); // è¦†ç›–æ•°æ® shardedJedis.set("foo", "foo update"); System.out.println(shardedJedis.get("foo")); // è¿½åŠ æ•°æ® shardedJedis.append("foo", " hello, world"); System.out.println(shardedJedis.get("foo")); // è®¾ç½®keyçš„æœ‰æ•ˆæœŸï¼Œå¹¶å­˜å‚¨æ•°æ® shardedJedis.setex("foo", 2, "foo not exits"); System.out.println(shardedJedis.get("foo")); try &#123; Thread.sleep(3000); &#125; catch (InterruptedException e) &#123; &#125; System.out.println(shardedJedis.get("foo")); // èŽ·å–å¹¶æ›´æ”¹æ•°æ® shardedJedis.set("foo", "foo update"); // è¿”å›žä¿®æ”¹å‰çš„æ•°æ® System.out.println(shardedJedis.getSet("foo", "foo modify")); System.out.println(shardedJedis.get("foo")); // æˆªå–valueçš„å€¼ System.out.println(shardedJedis.getrange("foo", 1, 3)); // å­˜å‚¨å¤šç»„key-value System.out.println(jedis.mset("mset1", "mvalue1", "mset2", "mvalue2", "mset3", "mvalue3", "mset4", "mvalue4")); // èŽ·å–å¤šä¸ªkeyçš„value, è¿”å›žæ•°ç»„ System.out.println(jedis.mget("mset1", "mset2", "mset3", "mset4")); // åˆ é™¤å¤šä¸ªkey, ä¸å­˜åœ¨çš„key, ä¸ä¼šæŠ¥é”™, è¿”å›žåˆ é™¤æ•° System.out.println(jedis.del(new String[] &#123; "foo", "foo1", "foo3" &#125;)); &#125; private void testList() &#123; System.out.println("=============list=========================="); // æ¸…ç©ºæ•°æ® System.out.println(jedis.flushDB()); // æ·»åŠ æ•°æ® shardedJedis.lpush("lists", "23"); shardedJedis.lpush("lists", "77"); shardedJedis.lpush("lists", "58"); // æ•°ç»„é•¿åº¦ System.out.println(shardedJedis.llen("lists")); // æŽ’åº System.out.println(shardedJedis.sort("lists")); // Listçš„å­—ç¬¦ä¸²æ•°ç»„ System.out.println(shardedJedis.lrange("lists", 0, 3)); // ä¿®æ”¹åˆ—è¡¨ä¸­å•ä¸ªå€¼ shardedJedis.lset("lists", 0, "9"); // èŽ·å–åˆ—è¡¨æŒ‡å®šä¸‹æ ‡çš„å€¼ System.out.println(shardedJedis.lindex("lists", 1)); // å‡ºæ ˆåˆ—è¡¨æŒ‡å®šæ•°é‡çš„æŒ‡å®šå€¼, è¿”å›žå®žé™…å‡ºæ ˆæ•°é‡ System.out.println(shardedJedis.lrem("lists", 1, "58")); // åˆ é™¤åŒºé—´ä»¥å¤–çš„æ•°æ® System.out.println(shardedJedis.ltrim("lists", 0, 2)); // åˆ—è¡¨å‡ºæ ˆ(è¿”å›žå¹¶åˆ é™¤åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ) System.out.println(shardedJedis.lpop("lists")); // æ•´ä¸ªåˆ—è¡¨å€¼ System.out.println(shardedJedis.lrange("lists", 0, -1)); &#125; private void testSet() &#123; System.out.println("=============set=========================="); // æ¸…ç©ºæ•°æ® System.out.println(jedis.flushDB()); // æ·»åŠ æ•°æ® shardedJedis.sadd("sets", "HashSet"); shardedJedis.sadd("sets", "SortedSet"); shardedJedis.sadd("sets", "TreeSet"); // åˆ¤æ–­valueæ˜¯å¦åœ¨åˆ—è¡¨ä¸­ System.out.println(shardedJedis.sismember("sets", "TreeSet")); // æ•´ä¸ªåˆ—è¡¨å€¼ System.out.println(shardedJedis.smembers("sets")); // åˆ é™¤æŒ‡å®šå…ƒç´  System.out.println(shardedJedis.srem("sets", "SortedSet")); // å‡ºæ ˆ System.out.println(shardedJedis.spop("sets")); System.out.println(shardedJedis.smembers("sets")); shardedJedis.sadd("sets1", "HashSet1"); shardedJedis.sadd("sets1", "SortedSet1"); shardedJedis.sadd("sets1", "TreeSet"); shardedJedis.sadd("sets2", "HashSet2"); shardedJedis.sadd("sets2", "SortedSet1"); shardedJedis.sadd("sets2", "TreeSet1"); // äº¤é›† System.out.println(jedis.sinter("sets1", "sets2")); // [SortedSet1] // å¹¶é›† System.out.println(jedis.sunion("sets1", "sets2")); // [HashSet2, HashSet1, TreeSet1, TreeSet, SortedSet1] // å·®é›† System.out.println(jedis.sdiff("sets1", "sets2")); // [TreeSet, HashSet1] &#125; private void testSortedSet() &#123; System.out.println("=============zset=========================="); // æ¸…ç©ºæ•°æ® System.out.println(jedis.flushDB()); // æ·»åŠ æ•°æ® shardedJedis.zadd("zset", 10.1, "hello"); shardedJedis.zadd("zset", 10.0, ":"); shardedJedis.zadd("zset", 9.0, "zset"); shardedJedis.zadd("zset", 11.0, "zset!"); // å…ƒç´ ä¸ªæ•° System.out.println(shardedJedis.zcard("zset")); // å…ƒç´ ä¸‹æ ‡ System.out.println(shardedJedis.zscore("zset", "zset")); // é›†åˆå­é›† System.out.println(shardedJedis.zrange("zset", 0, -1)); // åˆ é™¤å…ƒç´  System.out.println(shardedJedis.zrem("zset", "zset!")); System.out.println(shardedJedis.zcount("zset", 9.5, 10.5)); // æ•´ä¸ªé›†åˆå€¼ System.out.println(shardedJedis.zrange("zset", 0, -1)); &#125; private void testHash() &#123; System.out.println("=============hash=========================="); // æ¸…ç©ºæ•°æ® System.out.println(jedis.flushDB()); // æ·»åŠ æ•°æ® shardedJedis.hset("hashs", "entryKey", "entryValue"); shardedJedis.hset("hashs", "entryKey1", "entryValue1"); shardedJedis.hset("hashs", "entryKey2", "entryValue2"); // åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦å­˜åœ¨ System.out.println(shardedJedis.hexists("hashs", "entryKey")); // èŽ·å–æŒ‡å®šçš„å€¼ System.out.println(shardedJedis.hget("hashs", "entryKey")); // æ‰¹é‡èŽ·å–æŒ‡å®šçš„å€¼ System.out.println(shardedJedis.hmget("hashs", "entryKey", "entryKey1")); // åˆ é™¤æŒ‡å®šçš„å€¼ System.out.println(shardedJedis.hdel("hashs", "entryKey")); // ä¸ºkeyä¸­çš„åŸŸ field çš„å€¼åŠ ä¸Šå¢žé‡ increment System.out.println(shardedJedis.hincrBy("hashs", "entryKey", 123l)); // èŽ·å–æ‰€æœ‰çš„keys System.out.println(shardedJedis.hkeys("hashs")); // èŽ·å–æ‰€æœ‰çš„values System.out.println(shardedJedis.hvals("hashs")); &#125; public static void main(String[] args) &#123; new Test().show(); &#125;&#125; æ³¨: æ‰€è°“ åˆ‡ç‰‡ å°±æ˜¯åœ¨åˆ†å¸ƒå¼åº”ç”¨ä¸­ä½¿ç”¨çš„. Python æ“ä½œ Redis12]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot é…ç½®è‡ªå®šä¹‰å±žæ€§ä¸Žå¤šçŽ¯å¢ƒå¼€å‘]]></title>
    <url>%2F2018%2F03%2F05%2Farticle%2FSpringBoot%2Farticle-spring-boot_02%2F</url>
    <content type="text"><![CDATA[SpringBoot ä¸­é…ç½®è‡ªå®šä¹‰å±žæ€§, ä¸Žå¤šçŽ¯å¢ƒå¼€å‘. è‡ªå®šä¹‰çš„é…ç½®å±žæ€§è¿™é‡Œæˆ‘ç”¨çš„æ˜¯ application.yml æ–‡ä»¶. 123456config: user: name: Mr.Li age: 27 sex: ç”· application: å–®è»Š å®žä½“Beané€šè¿‡ @ConfigurationProperties é…ç½®æ³¨å…¥çš„å†…å®¹. 12345678910111213141516171819202122232425262728293031323334353637383940package pro.yuchen.demo.spring_demo.pojo;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.stereotype.Component;/** * æä¾›ç³»ç»Ÿçš„ä¸€äº›é…ç½®ä¿¡æ¯ */@Component@ConfigurationProperties(prefix="config.user")public class ConfigBean &#123; private String name; private Integer age; private String sex; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public String getSex() &#123; return sex; &#125; public void setSex(String sex) &#123; this.sex = sex; &#125;&#125; æµ‹è¯•è‡ªåŠ¨æ³¨å…¥ConfigBean 123456789101112131415161718192021222324252627282930313233343536373839404142package pro.yuchen.demo.spring_demo;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.http.MediaType;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import org.springframework.test.web.servlet.MockMvc;import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;import org.springframework.test.web.servlet.setup.MockMvcBuilders;import pro.yuchen.demo.spring_demo.pojo.ConfigBean;import pro.yuchen.demo.spring_demo.web.HelloController;import static org.hamcrest.Matchers.equalTo;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)@WebAppConfigurationpublic class ApplicationTests &#123; @Autowired private ConfigBean config; @Value("$&#123;config.application&#125;") // èŽ·å–é…ç½®æ–‡ä»¶ä¸­çš„å•ç‹¬key private String application; @Test public void testConfigBean() &#123; System.out.println(config.getName()); System.out.println(config.getAge()); System.out.println(config.getSex()); System.out.println(application); &#125; &#125; å¤šçŽ¯å¢ƒå¼€å‘å¾ˆå¤šæ—¶å€™, åœ¨å®žé™…å¼€å‘è¿‡ç¨‹ä¸­, æˆ‘ä»¬çš„å¼€å‘çŽ¯å¢ƒå’Œçº¿ä¸Šçš„éƒ¨ç½²çŽ¯å¢ƒ, æ˜¯æœ‰å·®å¼‚çš„. è®©é…ç½®æ–‡ä»¶ä¸­å±žæ€§çš„å€¼, éšç€ç¼–è¯‘çŽ¯å¢ƒçš„æ”¹å˜è€Œæ”¹å˜, å°±å¯ä»¥äº†. åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ : 1234567891011121314151617181920&lt;profiles&gt; &lt;profile&gt; &lt;id&gt;dev&lt;/id&gt; &lt;properties&gt; &lt;config.key&gt;call&lt;/config.key&gt; &lt;config.value&gt;123456&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;profile&gt; &lt;id&gt;localhost&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;!-- é»˜è®¤æœ‰æ•ˆ --&gt; &lt;/activation&gt; &lt;properties&gt; &lt;config.key&gt;password&lt;/config.key&gt; &lt;config.value&gt;18733775865&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;/profiles&gt; ä¿®æ”¹ application.yml æ–‡ä»¶: 12345678config: user: name: Mr.Li age: 27 sex: ç”· key: @config.key@ value: @config.value@ application: å–®è»Š ä¿®æ”¹ ConfigBean 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package pro.yuchen.demo.spring_demo.pojo;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.stereotype.Component;/** * æä¾›ç³»ç»Ÿçš„ä¸€äº›é…ç½®ä¿¡æ¯ */@Component@ConfigurationProperties(prefix="config.user")public class ConfigBean &#123; private String name; private Integer age; private String sex; private String key; private String value; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public String getSex() &#123; return sex; &#125; public void setSex(String sex) &#123; this.sex = sex; &#125; public String getKey() &#123; return key; &#125; public void setKey(String key) &#123; this.key = key; &#125; public String getValue() &#123; return value; &#125; public void setValue(String value) &#123; this.value = value; &#125;&#125; ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹: 1234567891011121314151617181920212223242526272829303132333435363738394041import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.http.MediaType;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import org.springframework.test.web.servlet.MockMvc;import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;import org.springframework.test.web.servlet.setup.MockMvcBuilders;import pro.yuchen.demo.spring_demo.pojo.ConfigBean;import pro.yuchen.demo.spring_demo.web.HelloController;import static org.hamcrest.Matchers.equalTo;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)@WebAppConfigurationpublic class ApplicationTests &#123; @Autowired private ConfigBean config; @Value("$&#123;config.application&#125;") // èŽ·å–é…ç½®æ–‡ä»¶ä¸­çš„å•ç‹¬key private String application; @Test public void testConfigBean() &#123; System.out.println(config.getName()); System.out.println(config.getAge()); System.out.println(config.getSex()); System.out.println(config.getKey()); // é»˜è®¤è¾“å‡º password System.out.println(config.getValue()); // é»˜è®¤è¾“å‡º 18733775865 System.out.println(application); &#125; &#125; ä½¿ç”¨ dev åˆ†æ”¯è¿›è¡Œç¼–è¯‘ mvn clean install -P dev]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot HelloWorldä»¥åŠå•å…ƒæµ‹è¯•]]></title>
    <url>%2F2018%2F02%2F25%2Farticle%2FSpringBoot%2Farticle-spring-boot_01%2F</url>
    <content type="text"><![CDATA[SpringBoot çš„HelloWorldä»¥åŠå•å…ƒæµ‹è¯• pom.xmlæ–‡ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;pro.yuchen.deom&lt;/groupId&gt; &lt;artifactId&gt;spring-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;spring-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;!-- å¼•ç”¨çˆ¶é¡¹ç›®pom--&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.8.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;!-- è‡ªå®šä¹‰å±žæ€§ --&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;!-- Maven æž„å»ºæ’ä»¶ --&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; å¯åŠ¨ç±»12345678910111213package pro.yuchen.demo.spring_demo;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(Application.class, args); &#125;&#125; application.yml(é…ç½®æ–‡ä»¶)123# webserver: port: 8081 Controller(WebæŽ¥å£)1234567891011121314151617package pro.yuchen.demo.spring_demo.web;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import pro.yuchen.demo.spring_demo.pojo.ConfigBean;@RestControllerpublic class HelloController &#123; @RequestMapping("/hello") public String hello() &#123; return "Hello World"; &#125;&#125; Webè®¿é—®æŽ¥å£http://localhost:8081/hello TestController(æµ‹è¯•WebæŽ¥å£)123456789101112131415161718192021222324252627282930313233343536import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.http.MediaType;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import org.springframework.test.web.servlet.MockMvc;import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;import org.springframework.test.web.servlet.setup.MockMvcBuilders;import pro.yuchen.demo.spring_demo.web.HelloController;import static org.hamcrest.Matchers.equalTo;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class&#125;)@WebAppConfigurationpublic class ApplicationTests &#123; private MockMvc mvc; @Before public void setup() throws Exception &#123; mvc = MockMvcBuilders.standaloneSetup(new HelloController()).build(); &#125; @Test public void testHello() throws Exception &#123; mvc.perform(MockMvcRequestBuilders.get("/hello").accept(MediaType.APPLICATION_JSON)) .andExpect(status().isOk()) .andExpect(content().string(equalTo("Hello World"))); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTP ä¸­å¸¸ç”¨çš„çŠ¶æ€ç ]]></title>
    <url>%2F2018%2F02%2F24%2Fnode%2Fnode-httpcode_1%2F</url>
    <content type="text"><![CDATA[HTTP ä¸­å¸¸ç”¨çš„çŠ¶æ€ç  HTTP ä¸­å¸¸ç”¨çš„çŠ¶æ€ç å¸¸è§çš„çŠ¶æ€ç : HTTP: Status 200 â€“ æœåŠ¡å™¨æˆåŠŸè¿”å›žç½‘é¡µHTTP: Status 404 â€“ è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨HTTP: Status 503 â€“ æœåŠ¡ä¸å¯ç”¨ ### HTTP: Status 1xx (ä¸´æ—¶å“åº”) è¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ä»£ç ã€‚ è¯¦ç»†ä»£ç åŠè¯´æ˜Ž : HTTP: Status 100 (ç»§ç»­) -&gt; è¯·æ±‚è€…åº”å½“ç»§ç»­æå‡ºè¯·æ±‚ã€‚ æœåŠ¡å™¨è¿”å›žæ­¤ä»£ç è¡¨ç¤ºå·²æ”¶åˆ°è¯·æ±‚çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œæ­£åœ¨ç­‰å¾…å…¶ä½™éƒ¨åˆ†ã€‚ HTTP: Status 101 (åˆ‡æ¢åè®®) -&gt; è¯·æ±‚è€…å·²è¦æ±‚æœåŠ¡å™¨åˆ‡æ¢åè®®ï¼ŒæœåŠ¡å™¨å·²ç¡®è®¤å¹¶å‡†å¤‡åˆ‡æ¢ã€‚ HTTP Status 2xx (æˆåŠŸ) è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ä»£ç ã€‚ è¯¦ç»†ä»£ç åŠè¯´æ˜Ž : HTTP Status 200 (æˆåŠŸ) -&gt; æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚ é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µã€‚ HTTP Status 201 (å·²åˆ›å»º) -&gt; è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æºã€‚ HTTP Status 202 (å·²æŽ¥å—) -&gt; æœåŠ¡å™¨å·²æŽ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†ã€‚ HTTP Status 203 (éžæŽˆæƒä¿¡æ¯) -&gt; æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›žçš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€æ¥æºã€‚ HTTP Status 204 (æ— å†…å®¹) -&gt; æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›žä»»ä½•å†…å®¹ã€‚ HTTP Status 205 (é‡ç½®å†…å®¹) -&gt; æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›žä»»ä½•å†…å®¹ã€‚ HTTP Status 206 (éƒ¨åˆ†å†…å®¹) -&gt; æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ† GET è¯·æ±‚ã€‚ HTTP Status 4xx (è¯·æ±‚é”™è¯¯) è¿™äº›çŠ¶æ€ä»£ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚ è¯¦ç»†ä»£ç è¯´æ˜Ž : HTTP Status 400 ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰ -&gt; æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚ HTTP Status 401 ï¼ˆæœªæŽˆæƒï¼‰ -&gt; è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚ å¯¹äºŽéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›žæ­¤å“åº”ã€‚ HTTP Status 403 ï¼ˆç¦æ­¢ï¼‰ -&gt; æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚ HTTP Status 404 ï¼ˆæœªæ‰¾åˆ°ï¼‰ -&gt; æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µã€‚ HTTP Status 405 ï¼ˆæ–¹æ³•ç¦ç”¨ï¼‰ -&gt; ç¦ç”¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•ã€‚ HTTP Status 406 ï¼ˆä¸æŽ¥å—ï¼‰ -&gt; æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µã€‚ HTTP Status 407 ï¼ˆéœ€è¦ä»£ç†æŽˆæƒï¼‰ -&gt; æ­¤çŠ¶æ€ä»£ç ä¸Ž 401ï¼ˆæœªæŽˆæƒï¼‰ç±»ä¼¼ï¼Œä½†æŒ‡å®šè¯·æ±‚è€…åº”å½“æŽˆæƒä½¿ç”¨ä»£ç†ã€‚ HTTP Status 408 ï¼ˆè¯·æ±‚è¶…æ—¶ï¼‰ -&gt; æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶ã€‚ HTTP Status 409 ï¼ˆå†²çªï¼‰ -&gt; æœåŠ¡å™¨åœ¨å®Œæˆè¯·æ±‚æ—¶å‘ç”Ÿå†²çªã€‚ æœåŠ¡å™¨å¿…é¡»åœ¨å“åº”ä¸­åŒ…å«æœ‰å…³å†²çªçš„ä¿¡æ¯ã€‚ HTTP Status 410 ï¼ˆå·²åˆ é™¤ï¼‰ -&gt; å¦‚æžœè¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿”å›žæ­¤å“åº”ã€‚ HTTP Status 411 ï¼ˆéœ€è¦æœ‰æ•ˆé•¿åº¦ï¼‰ -&gt; æœåŠ¡å™¨ä¸æŽ¥å—ä¸å«æœ‰æ•ˆå†…å®¹é•¿åº¦æ ‡å¤´å­—æ®µçš„è¯·æ±‚ã€‚ HTTP Status 412 ï¼ˆæœªæ»¡è¶³å‰ææ¡ä»¶ï¼‰ -&gt; æœåŠ¡å™¨æœªæ»¡è¶³è¯·æ±‚è€…åœ¨è¯·æ±‚ä¸­è®¾ç½®çš„å…¶ä¸­ä¸€ä¸ªå‰ææ¡ä»¶ã€‚ HTTP Status 413 ï¼ˆè¯·æ±‚å®žä½“è¿‡å¤§ï¼‰ -&gt; æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºè¯·æ±‚å®žä½“è¿‡å¤§ï¼Œè¶…å‡ºæœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›ã€‚ HTTP Status 414 ï¼ˆè¯·æ±‚çš„ URI è¿‡é•¿ï¼‰ -&gt; è¯·æ±‚çš„ URIï¼ˆé€šå¸¸ä¸ºç½‘å€ï¼‰è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ã€‚ HTTP Status 415 ï¼ˆä¸æ”¯æŒçš„åª’ä½“ç±»åž‹ï¼‰ -&gt; è¯·æ±‚çš„æ ¼å¼ä¸å—è¯·æ±‚é¡µé¢çš„æ”¯æŒã€‚ HTTP Status 416 ï¼ˆè¯·æ±‚èŒƒå›´ä¸ç¬¦åˆè¦æ±‚ï¼‰ -&gt; å¦‚æžœé¡µé¢æ— æ³•æä¾›è¯·æ±‚çš„èŒƒå›´ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å›žæ­¤çŠ¶æ€ä»£ç ã€‚ HTTP Status 417 ï¼ˆæœªæ»¡è¶³æœŸæœ›å€¼ï¼‰ -&gt; æœåŠ¡å™¨æœªæ»¡è¶³â€æœŸæœ›â€è¯·æ±‚æ ‡å¤´å­—æ®µçš„è¦æ±‚ã€‚ HTTP Status 5xx ï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ è¿™äº›çŠ¶æ€ä»£ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚ è¿™äº›é”™è¯¯å¯èƒ½æ˜¯æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯è¯·æ±‚å‡ºé”™ã€‚ ä»£ç è¯¦ç»†åŠè¯´æ˜Ž : HTTP Status 500 ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ -&gt; æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚ HTTP Status 501 ï¼ˆå°šæœªå®žæ–½ï¼‰ -&gt; æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›žæ­¤ä»£ç ã€‚ ####HTTP Status 502 ï¼ˆé”™è¯¯ç½‘å…³ï¼‰ -&gt; æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»Žä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚ HTTP Status 503 ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ -&gt; æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºŽè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚ é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚ HTTP Status 504 ï¼ˆç½‘å…³è¶…æ—¶ï¼‰ -&gt; æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»Žä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚ HTTP Status 505 ï¼ˆHTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼‰ -&gt; æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚]]></content>
      <categories>
        <category>HTTP</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven åˆä½“éªŒ]]></title>
    <url>%2F2018%2F02%2F23%2Fnode%2Fnode-maven_1%2F</url>
    <content type="text"><![CDATA[Maven ä¸­å¸¸ç”¨çš„å‘½ä»¤ä»¥åŠä¸€äº›åŸºç¡€é…ç½® Mavené¡¹ç›®æ‰“åŒ… mvn package é¡¹ç›®ç¼–è¯‘ mvn compile ç¼–è¯‘æµ‹è¯•ç¨‹åº mvn test-compile è¿è¡Œæµ‹è¯• mvn test æ¸…ç†é¡¹ç›® mvn clean ç”Ÿæˆç«™ç‚¹ç›®å½• mvn site ç”Ÿæˆç«™ç‚¹ç›®å½•å¹¶å‘å¸ƒ mvn site-deploy å®‰è£…å½“å‰å·¥ç¨‹çš„è¾“å‡ºæ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“ mvn install æ ¹æ®pomä¸­çš„é…ç½®ä¿¡æ¯å°†é¡¹ç›®å‘å¸ƒåˆ°è¿œç¨‹ä»“åº“ä¸­ mvn clean deploy è·³è¿‡æµ‹è¯•è¾“å‡ºåˆ°æœ¬åœ°ä»“åº“ mvn -Dmaven.test.skip=true clean install æ‰“åŒ…æœ¬åœ°å·¥ç¨‹å¹¶ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ mvn clean deploy æ¸…ç†ç¼–è¯‘ mvn clean compile æ¸…ç†æµ‹è¯• mvn clean test æ¸…ç†æ‰“åŒ… mvn clean package ä½¿ç”¨Archetypeç”Ÿæˆé¡¹ç›®éª¨æž¶ mvn archetype:generate é€‰æ‹©é…ç½®å‚æ•°, æž„å»ºMavené¡¹ç›® 1234567891011121314151617181920&lt;profiles&gt; &lt;profile&gt; &lt;id&gt;dev&lt;/id&gt; &lt;properties&gt; &lt;config.key&gt;call&lt;/config.key&gt; &lt;config.value&gt;123456&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;profile&gt; &lt;id&gt;localhost&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;/activation&gt; &lt;properties&gt; &lt;config.key&gt;password&lt;/config.key&gt; &lt;config.value&gt;654321&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt;&lt;/profiles&gt; mvn clean install -P dev åœ¨ settings.xml æ–‡ä»¶ä¸­, é…ç½®è¿œç¨‹ä»“åº“çš„è®¿é—®æƒé™ 12345678910111213&lt;servers&gt; &lt;server&gt; &lt;id&gt;releases&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt; &lt;server&gt; &lt;id&gt;snapshots&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt;&lt;/servers&gt; æˆ‘ä»¬éœ€è¦é…ç½®POMçš„distributionManagementæ¥æŒ‡å®šMavenè¿œç¨‹ä»“åº“çš„åœ°å€ 1234567891011121314&lt;distributionManagement&gt; &lt;repository&gt; &lt;id&gt;releases&lt;/id&gt; &lt;name&gt;Nexus Release Repository&lt;/name&gt; &lt;url&gt;http://mvnlib.jk24h.cn:8081/nexus/content/repositories/releases&lt;/url&gt; &lt;/repository&gt; &lt;snapshotRepository&gt; &lt;id&gt;snapshots&lt;/id&gt; &lt;name&gt;Nexus Snapshot Repository&lt;/name&gt; &lt;url&gt;http://mvnlib.jk24h.cn:8081/nexus/content/repositories/snapshots&lt;/url&gt; &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt; &lt;/snapshotRepository&gt;&lt;/distributionManagement&gt;]]></content>
      <categories>
        <category>Maven</category>
      </categories>
      <tags>
        <tag>Mavenkk</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git åˆä½“éªŒ]]></title>
    <url>%2F2018%2F02%2F22%2Fnode%2Fnode-git_01%2F</url>
    <content type="text"><![CDATA[Git ä¸­å¸¸ç”¨çš„å‘½ä»¤ä»¥åŠä¸€äº›åŸºç¡€é…ç½® Git å¸¸ç”¨çš„å‘½ä»¤ ä¸‹é¢æ˜¯æˆ‘æ•´ç†çš„å¸¸ç”¨ Git å‘½ä»¤æ¸…å•ã€‚å‡ ä¸ªä¸“ç”¨åè¯çš„è¯‘åå¦‚ä¸‹ã€‚ Workspaceï¼šå·¥ä½œåŒº Index / Stageï¼šæš‚å­˜åŒº Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ Remoteï¼šè¿œç¨‹ä»“åº“ ä¸€ã€æ–°å»ºä»£ç åº“ åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“ $ git init æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“ $ git init [project-name] ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç åŽ†å² $ git clone [url] äºŒã€é…ç½®Gitçš„è®¾ç½®æ–‡ä»¶ä¸º.gitconfigï¼Œå®ƒå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚ æ˜¾ç¤ºå½“å‰çš„Gité…ç½® $ git config â€“list ç¼–è¾‘Gité…ç½®æ–‡ä»¶ $ git config -e [â€“global] è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯ $ git config [â€“global] user.name â€œ[name]â€ $ git config [â€“global] user.email â€œ[email address]â€ ä¸‰ã€å¢žåŠ /åˆ é™¤æ–‡ä»¶ æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº $ git add [file1] [file2] â€¦ æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½• $ git add [dir] æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº $ git add . æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤ å¯¹äºŽåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®žçŽ°åˆ†æ¬¡æäº¤ $ git add -p åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº $ git rm [file1] [file2] â€¦ åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº $ git rm â€“cached [file] æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº $ git mv [file-original] [file-renamed] å››ã€ä»£ç æäº¤ æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº $ git commit -m [message] æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº $ git commit [file1] [file2] â€¦ -m [message] æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åŽçš„å˜åŒ–ï¼Œç›´æŽ¥åˆ°ä»“åº“åŒº $ git commit -a æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯ $ git commit -v ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤ å¦‚æžœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯ $ git commit â€“amend -m [message] é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ– $ git commit â€“amend [file1] [file2] â€¦ äº”ã€åˆ†æ”¯ åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ $ git branch åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ $ git branch -r åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ $ git branch -a æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯ $ git branch [branch-name] æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ $ git checkout -b [branch] æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit $ git branch [branch] [commit] æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸ŽæŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³» $ git branch â€“track [branch] [remote-branch] åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº $ git checkout [branch-name] åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯ $ git checkout - å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨çŽ°æœ‰åˆ†æ”¯ä¸ŽæŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´ $ git branch â€“set-upstream [branch] [remote-branch] åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ $ git merge [branch] é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯ $ git cherry-pick [commit] åˆ é™¤åˆ†æ”¯ $ git branch -d [branch-name] åˆ é™¤è¿œç¨‹åˆ†æ”¯ $ git push origin â€“delete [branch-name] $ git branch -dr [remote/branch] å…­ã€æ ‡ç­¾ åˆ—å‡ºæ‰€æœ‰tag $ git tag æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit $ git tag [tag] æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit $ git tag [tag] [commit] åˆ é™¤æœ¬åœ°tag $ git tag -d [tag] åˆ é™¤è¿œç¨‹tag $ git push origin :refs/tags/[tagName] æŸ¥çœ‹tagä¿¡æ¯ $ git show [tag] æäº¤æŒ‡å®štag $ git push [remote] [tag] æäº¤æ‰€æœ‰tag $ git push [remote] â€“tags æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag $ git checkout -b [branch] [tag] ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯ æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ $ git status æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬åŽ†å² $ git log æ˜¾ç¤ºcommitåŽ†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶ $ git log â€“stat æœç´¢æäº¤åŽ†å²ï¼Œæ ¹æ®å…³é”®è¯ $ git log -S [keyword] æ˜¾ç¤ºæŸä¸ªcommitä¹‹åŽçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ $ git log [tag] HEAD â€“pretty=format:%s æ˜¾ç¤ºæŸä¸ªcommitä¹‹åŽçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶â€æäº¤è¯´æ˜Žâ€å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶ $ git log [tag] HEAD â€“grep feature æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬åŽ†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å $ git log â€“follow [file] $ git whatchanged [file] æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff $ git log -p [file] æ˜¾ç¤ºè¿‡åŽ»5æ¬¡æäº¤ $ git log -5 â€“pretty â€“oneline æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æŽ’åº $ git shortlog -sn æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡ $ git blame [file] æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚ $ git diff æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚ $ git diff â€“cached [file] æ˜¾ç¤ºå·¥ä½œåŒºä¸Žå½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚ $ git diff HEAD æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚ $ git diff [first-branch]â€¦[second-branch] æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç  $ git diff â€“shortstat â€œ@{0 day ago}â€ æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ– $ git show [commit] æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ $ git show â€“name-only [commit] æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹ $ git show [commit]:[filename] æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤ $ git reflog å…«ã€è¿œç¨‹åŒæ­¥ ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨ $ git fetch [remote] æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“ $ git remote -v æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯ $ git remote show [remote] å¢žåŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å $ git remote add [shortname] [url] å–å›žè¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸Žæœ¬åœ°åˆ†æ”¯åˆå¹¶ $ git pull [remote] [branch] ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ $ git push [remote] [branch] å¼ºè¡ŒæŽ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª $ git push [remote] â€“force æŽ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ $ git push [remote] â€“all ä¹ã€æ’¤é”€ æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº $ git checkout [file] æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº $ git checkout [commit] [file] æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº $ git checkout . é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸Žä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜ $ git reset [file] é‡ç½®æš‚å­˜åŒºä¸Žå·¥ä½œåŒºï¼Œä¸Žä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ $ git reset â€“hard é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜ $ git reset [commit] é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸ŽæŒ‡å®šcommitä¸€è‡´ $ git reset â€“hard [commit] é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜ $ git reset â€“keep [commit] æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit åŽè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ $ git revert [commit] æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åŽå†ç§»å…¥ $ git stash $ git stash pop åã€å…¶ä»– ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„åŽ‹ç¼©åŒ… $ git archive é…ç½®å…¨å±€çš„è¿‡æ»¤æ–‡ä»¶ $ git config --global core.excludesfile ~/development/workspace/.gitignore 123456*.classtarget/*.iml.settings/bin/.idea/]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker ç¬”è®°]]></title>
    <url>%2F2018%2F02%2F13%2Fnode%2Flinux%2Fnode-docker_01%2F</url>
    <content type="text"><![CDATA[Docker æ—¥å¸¸ä½¿ç”¨å‘½ä»¤ Docker å¸¸ç”¨å‘½ä»¤ä¸‹è½½é•œåƒ docker pull centos æŸ¥çœ‹é•œåƒ docker images åˆ é™¤é•œåƒ docker rmi å¤‡ä»½é•œåƒ docker commit -p 36b7b593a0e2 hbase-backup 36b7b593a0e2 ä¸ºå®¹å™¨id, hbase-backup ä¸º å¤‡ä»½å å¤‡ä»½é•œåƒåˆ°æ–‡ä»¶ docker save -o ~/hbase-backup.tar hbase-backup æ¢å¤é•œåƒæ–‡ä»¶ docker load -i ~/Downloads/hbase-backup.tar åˆ›å»ºå¹¶å¯åŠ¨äº¤äº’åž‹å®¹å™¨ docker run -ti â€“name=docker_centos centos:latest /bin/bash t: å‘Šè¯‰dockerä¸ºå®¹å™¨å»ºç«‹ä¸€ä¸ªå‘½ä»¤è¡Œç»ˆç«¯ i: æ‰“å¼€å®¹å™¨çš„æ ‡å‡†è¾“å…¥ name: æŒ‡å®šå®¹å™¨åç§°ï¼Œå¯ä»¥ä¸å¡«(éšæœº)ï¼Œå»ºè®®æ ¹æ®å…·ä½“ä½¿ç”¨åŠŸèƒ½å‘½åï¼Œä¾¿äºŽç®¡ç† /bin/bash:å‘Šè¯‰dockerè¦åœ¨å®¹å™¨é‡Œé¢æ‰§è¡Œæ­¤å‘½ä»¤ åˆ›å»ºå¹¶å¯åŠ¨åŽå°åž‹å®¹å™¨ docker run â€“name linux -d centos /bin/bash -c â€œwhile true; do echo hello; sleep 1; doneâ€ d:ä½¿ç”¨-då‚æ•°ï¼Œä½¿å®¹å™¨åœ¨åŽå°è¿è¡Œ c: é€šè¿‡-cå¯ä»¥è°ƒæ•´å®¹å™¨çš„CPUä¼˜å…ˆçº§ -cåŽçš„å‘½ä»¤æ˜¯å¾ªçŽ¯ï¼Œä»Žè€Œä¿æŒå®¹å™¨çš„è¿è¡Œ è¿›å…¥å®¹å™¨ docker exec -ti CentOS /bin/bash é€€å‡ºå®¹å™¨ å…ˆæŒ‰ï¼Œctrl+p; å†æŒ‰ï¼Œctrl+q å¹³æ—¶è¿›å…¥HBaseçš„å‘½ä»¤ $ docker start hbase $ docker exec -ti hbase /bin/bash]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HBase å¸¸ç”¨å‘½ä»¤]]></title>
    <url>%2F2018%2F02%2F13%2Fnode%2Fdatabase%2Fnode-hbase_2%2F</url>
    <content type="text"><![CDATA[HBase æ—¥å¸¸ä½¿ç”¨å‘½ä»¤ æŸ¥çœ‹æ‰€åœ¨ç»„ whoami æŸ¥çœ‹æ‰€åœ¨ç»„ä¸­çš„è¡¨list åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨exists &#39;lishuyu&#39; å°†è¡¨è®¾ä¸ºå¤±æ•ˆçŠ¶æ€disable &#39;lishuyu&#39; åˆ¤æ–­è¡¨çš„çŠ¶æ€is_enabled &#39;lishuyu&#39; å°†è¡¨è®¾ä¸ºæ­£å¸¸çŠ¶æ€ enable &#39;lishuyu&#39; åˆ é™¤è¡¨drop &#39;lishuyu&#39; åˆ›å»ºè¡¨(lishuyu â€“&gt; è¡¨å, cluster1,cluster2 â€“&gt; ç°‡å, æ²¡æœ‰å…·ä½“çš„åˆ—å)create &#39;lishuyu&#39;,{NAME =&gt; &#39;cluster1&#39;, VERSIONS =&gt; 2},{NAME =&gt; &#39;cluster2&#39;, VERSIONS =&gt; 2} æŸ¥çœ‹è¡¨ç»“æž„ describe &#39;lishuyu&#39; æ’å…¥æ•°æ®(ä¸€æ¬¡åªå¯ä»¥æ’å…¥ä¸€ä¸ªå•å…ƒæ ¼çš„å€¼)put &#39;lishuyu&#39;,&#39;rowkey001&#39;,&#39;cluster1:col1&#39;,&#39;col1-value-001&#39; æŸ¥è¯¢æ•°æ®(lishuyu â€“&gt; è¡¨å, cluster2 â€“&gt; ç°‡å, col2 â€“&gt; åˆ—å), æŸ¥è¯¢ rowkey001 è¡Œ, cluster2 ç°‡, col2 åˆ— çš„æ•°æ®get &#39;lishuyu&#39;,&#39;rowkey001&#39;, &#39;cluster2:col2&#39; æŸ¥è¯¢ rowkey001 è¡Œ çš„æ•°æ®get &#39;lishuyu&#39;,&#39;rowkey001&#39; æ‰«æè¡¨scan &#39;lishuyu&#39;,{LIMIT=&gt;1}scan &#39;lishuyu&#39;, {COLUMNS=&#39;cluster2:col1&#39;, LIMIT = 1} è®¡ç®—lishuyuè¡¨åˆè®¡count &#39;lishuyu&#39; æ˜¾ç¤ºRowKeycount &#39;lishuyu&#39;, {INTERVAL =&gt; 1, CACHE =&gt; 5} åˆ é™¤è¡¨ä¸­å•å…ƒæ ¼ä¸­çš„å†…å®¹delete &#39;lishuyu&#39;,&#39;rowkey001&#39;,&#39;cluster2:col1&#39;]]></content>
      <categories>
        <category>HBase</category>
      </categories>
      <tags>
        <tag>HBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HBase ç¬”è®°]]></title>
    <url>%2F2018%2F02%2F12%2Fnode%2Fdatabase%2Fnode-hbase_1%2F</url>
    <content type="text"><![CDATA[HBase æ—¥å¸¸ä½¿ç”¨å‘½ä»¤ HBase åˆä½“éªŒå®‰è£… HBasedocker pull harisekhon/hbase åˆ›å»ºHBaseå®¹å™¨docker run -d --name=hbase -p 2181:2181 -p 8080:8080 -p 8085:8085 -p 9090:9090 -p 9095:9095 -p 16000:16000 -p 16010:16010 -p 16201:16201 -p 16301:16301 harisekhon/hbase å¯åŠ¨ HBase æœåŠ¡docker start hbase åœæ­¢ HBase æœåŠ¡docker stop hbase å¯åŠ¨ HBase å‘½ä»¤è¡Œdocker exec -ti hbase /bin/bash è¿›å…¥ shell hbase shell é€€å‡º shell exit å»ºè¡¨ create â€˜SCOREâ€™, {NAME =&gt; â€˜Fâ€™, VERSIONS =&gt; 1}, {NAME =&gt; â€˜Mâ€™, VERSIONS =&gt; 1} åˆ é™¤è¡¨ disable â€˜SCOREâ€™drop â€˜SCOREâ€™ æ–°å¢žè®°å½• put &#39;&lt;table&gt;&#39;, &#39;&lt;row_key&gt;&#39;, &#39;&lt;column_family:column_qualifier&gt;&#39;, &#39;&lt;cell_value&gt;&#39;, [&lt;timestamp&gt;] ä¾‹å­ put â€˜SCOREâ€™, â€˜row_key_1â€™, â€˜M:1â€™, â€˜1â€™ åˆ é™¤å•å…ƒæ ¼ delete &#39;&lt;table&gt;&#39;, &#39;&lt;row_key&gt;&#39;, &#39;&lt;column_family:column_qualifier&gt;&#39; [, &lt;timestamp&gt;] ä¾‹å­ delete â€˜SCOREâ€™, â€˜row_key_1â€™, â€˜M:1â€™ åˆ é™¤è¡Œ deleteall &#39;&lt;table&gt;&#39;, &#39;&lt;row_key&gt;&#39; [, &#39;&lt;column_family:column_qualifier&gt;&#39;, &lt;timestamp&gt;] ä¾‹å­ deleteall â€˜SCOREâ€™, â€˜row_key_1â€™ æ¸…ç©ºè¡¨ä¸­æ•°æ® truncate &lt;table&gt; ä¾‹å­ truncate â€˜SCOREâ€™ æ‰«æè¡¨ scan &lt;table&gt;, {COLUMNS =&gt; [ &lt;family:column&gt;,.... ], LIMIT =&gt; num} ä¾‹å­ scan â€˜SCOREâ€™, {LIMIT=&gt;2} æŸ¥è¯¢æŸè¡Œè®°å½• get &lt;table&gt;,&lt;rowkey&gt;,[&lt;family:column&gt;,....] æ³¨: table è¡¨ row_key è¡Œ column_family åˆ—ç°‡ column_qualifier åˆ—]]></content>
      <categories>
        <category>HBase</category>
      </categories>
      <tags>
        <tag>HBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python æ“ä½œXML]]></title>
    <url>%2F2018%2F01%2F25%2Farticle%2Fpython%2Farticle-python_12%2F</url>
    <content type="text"><![CDATA[Python ä¸­çš„XMLæ“ä½œ Python XMLæ“ä½œXMLï¼ˆå¯æ‰©å±•æ€§æ ‡è®°è¯­è¨€ï¼‰æ˜¯ä¸€ç§éžå¸¸å¸¸ç”¨çš„æ–‡ä»¶ç±»åž‹ï¼Œä¸»è¦ç”¨äºŽå­˜å‚¨å’Œä¼ è¾“æ•°æ®ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œå¯¹XMLçš„æ“ä½œä¹Ÿéžå¸¸å¸¸è§ã€‚ XMLæ ¼å¼é¦–å…ˆï¼Œæ¥çœ‹ä¸€ä¸‹XMLæ‰€åŒ…å«çš„å…ƒç´ ç±»åž‹ æ ‡ç­¾ &lt;tag&gt; å±žæ€§ &lt;tag name=&quot;attribute&quot;&gt; æ•°æ® &lt;data&gt;1&lt;data&gt; ä¾‹å­1234567891011121314151617181920212223&lt;?xml version="1.0"?&gt;&lt;data&gt; &lt;country name="Liechtenstein"&gt; &lt;rank&gt;1&lt;/rank&gt; &lt;year&gt;2008&lt;/year&gt; &lt;gdppc&gt;141100&lt;/gdppc&gt; &lt;neighbor name="Austria" direction="E"/&gt; &lt;neighbor name="Switzerland" direction="W"/&gt; &lt;/country&gt; &lt;country name="Singapore"&gt; &lt;rank&gt;4&lt;/rank&gt; &lt;year&gt;2011&lt;/year&gt; &lt;gdppc&gt;59900&lt;/gdppc&gt; &lt;neighbor name="Malaysia" direction="N"/&gt; &lt;/country&gt; &lt;country name="Panama"&gt; &lt;rank&gt;68&lt;/rank&gt; &lt;year&gt;2011&lt;/year&gt; &lt;gdppc&gt;13600&lt;/gdppc&gt; &lt;neighbor name="Costa Rica" direction="W"/&gt; &lt;neighbor name="Colombia" direction="E"/&gt; &lt;/country&gt;&lt;/data&gt; Pythonæ“ä½œXML123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228#!/usr/bin/env python3# -*- coding: utf-8 -*-import tracebackfrom xml.etree import ElementTree as etclass XMLUtils(object): def __init__(self, file_path): self.__path = file_path self.tree = None def read(self): ''' è¯»å–å¹¶è§£æžxmlæ–‡ä»¶ return: True or False ''' try: tree = et.ElementTree() tree.parse(self.__path) self.tree = tree return True except Exception as e: print("è¯»å–XMLå¤±è´¥...") # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def wite(self, path): """ å†™å…¥XMLåˆ°æ–‡ä»¶ :param path: æ–‡ä»¶çš„è·¯å¾„ :return: True or False """ try: self.tree.write(path, encoding="utf-8", xml_declaration=True) return True except Exception as e: print("å†™å…¥XMLå¤±è´¥...") # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def if_match(self, node, kv_map): """ åˆ¤æ–­æŸä¸ªèŠ‚ç‚¹æ˜¯å¦åŒ…å«æ‰€æœ‰ä¼ å…¥å‚æ•°å±žæ€§ :param node: èŠ‚ç‚¹ :param kv_map: å±žæ€§åŠå±žæ€§å€¼ç»„æˆçš„map :return: True or False """ for key in kv_map: if node.get(key) != kv_map.get(key): return False return True def find_nodes(self, path): """ æŸ¥æ‰¾æŸä¸ªè·¯å¾„åŒ¹é…çš„æ‰€æœ‰èŠ‚ç‚¹(æ³¨æ„: è·¯å¾„ä¸­ä¸èƒ½æœ‰&lt;æ ¹èŠ‚ç‚¹&gt;) :param path: è·¯å¾„ :return: åŒ¹é…çš„æ‰€æœ‰èŠ‚ç‚¹ """ try: return self.tree.findall(path) except Exception as e: print("å†™å…¥XMLå¤±è´¥...") # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return None def get_node_by_key_value(self, nodes, kv_map): """ æ ¹æ®å±žæ€§åŠå±žæ€§å€¼å®šä½ç¬¦åˆçš„èŠ‚ç‚¹ï¼Œè¿”å›žèŠ‚ç‚¹ :param nodes: æ‰€è¦æŸ¥æ‰¾çš„èŠ‚ç‚¹é›†åˆ :param kv_map: æŸ¥æ‰¾å±žæ€§æ¡ä»¶ :return: ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹é›†åˆ """ result_nodes = [] for node in nodes: if self.if_match(node, kv_map): result_nodes.append(node) return result_nodes def change_node_properties(self, nodes, kv_map, is_delete=False): """ ä¿®æ”¹/å¢žåŠ  /åˆ é™¤ èŠ‚ç‚¹çš„å±žæ€§åŠå±žæ€§å€¼ :param nodes: éœ€è¦æ“ä½œå±žæ€§çš„èŠ‚ç‚¹é›†åˆ :param kv_map: è¦æ–°å¢ž, ä¿®æ”¹æˆ–åˆ é™¤çš„å±žæ€§map :param is_delete: æ˜¯å¦åˆ é™¤å±žæ€§ :return: True or False """ try: for node in nodes: for key in kv_map: if is_delete: if key in node.attrib: del node.attrib[key] else: node.set(key, kv_map.get(key)) return True except Exception as e: print("æ“ä½œèŠ‚ç‚¹å±žæ€§å¤±è´¥...") # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def change_node_text(self, nodes, text, is_add=False, is_delete=False): """ æ”¹å˜/å¢žåŠ /åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹çš„æ–‡æœ¬ :param nodes: èŠ‚ç‚¹é›†åˆ :param text: æ–‡æœ¬ :param is_add: æ˜¯å¦æ–°å¢ž :param is_delete: æ˜¯å¦åˆ é™¤ :return: True or False """ try: for node in nodes: if is_add: node.text += text elif is_delete: node.text = "" else: node.text = text return True except Exception as e: print("æ“ä½œèŠ‚ç‚¹æ–‡æœ¬å¤±è´¥...") # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def create_node(self, tag, property_map, content): """ æ–°å»ºèŠ‚ç‚¹ :param tag: èŠ‚ç‚¹å :param property_map: èŠ‚ç‚¹å±žæ€§ :param content: èŠ‚ç‚¹æ–‡æœ¬ :return: æ–°èŠ‚ç‚¹ """ element = et.Element(tag, property_map) element.text = content return element def add_child_node(self, node, element): """ ç»™æŒ‡å®šèŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹ :param node: æŒ‡å®šæ“ä½œèŠ‚ç‚¹ :param element: :return: True or False """ try: node.append(element) return True except Exception as e: print("æ·»åŠ æ–°èŠ‚ç‚¹å¤±è´¥...") # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def del_node_by_tag_key_value(self, nodes, tag, kv_map): """ åŒè¿‡å±žæ€§åŠå±žæ€§å€¼å®šä½ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶åˆ é™¤ä¹‹ :param nodes: çˆ¶èŠ‚ç‚¹åˆ—è¡¨ :param tag: å­èŠ‚ç‚¹æ ‡ç­¾ :param kv_map: å±žæ€§åŠå±žæ€§å€¼åˆ—è¡¨ :return: True or False """ try: for parent in nodes: childs = parent.getchildren() for child in childs: if child.tag == tag and self.if_match(child, kv_map): parent.remove(child) return True except Exception as e: print("æ“ä½œèŠ‚ç‚¹å¤±è´¥...") # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def list(self): """ è¿”å›žxmlæ–‡ä»¶ä¸­æ‰€æœ‰èŠ‚ç‚¹æ•°ç»„ :return: """ result = [] for node in self.tree.iter(): # "Tag": node.tag # "Attributes": node.attrib # "Data":, node.text result.append(node) return resultpath = "/Users/smile/test.xml"xml = XMLUtils(path)result = xml.read() # è¯»å–print(result)## éåŽ†èŠ‚ç‚¹# xml.list()# æŸ¥è¯¢èŠ‚ç‚¹# nodes = xml.find_nodes("country/neighbor")# print(nodes)# nodes = xml.get_node_by_key_value(xml.tree.iter(), &#123;"direction": "W", "name": "Switzerland"&#125;)# nodes = xml.get_node_by_key_value(xml.tree.iter(), &#123;"direction": "W", "name": "Mr.Li"&#125;)# print(nodes)# xml.change_node_properties(nodes, &#123;"directions": "F"&#125;, is_delete=True)# nodes = xml.find_nodes("country/year")# xml.change_node_text(nodes, "å¹´", is_add=True)# nodes = xml.get_node_by_key_value(xml.tree.iter(), &#123;"direction": "W", "name": "Mr.Li"&#125;)# print(nodes)# new_node = xml.create_node("xxx", &#123;"x": "1", "xx": "2"&#125;, "XXXX")# xml.add_child_node(nodes[0], new_node)nodes = xml.find_nodes("country/neighbor")xml.del_node_by_tag_key_value(nodes, "xxx", &#123;"x": "1", "xx": "2"&#125;)result = xml.wite(path) # å†™å…¥print(result)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python æ•°æ®åº“æ“ä½œ(MySQL, HBase)]]></title>
    <url>%2F2018%2F01%2F24%2Farticle%2Fpython%2Farticle-python_11%2F</url>
    <content type="text"><![CDATA[Python ä¸­çš„æ•°æ®åº“æ“ä½œ Python æ•°æ®åº“æ“ä½œPythonæ“ä½œMySQL123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122#!/usr/bin/env python3# -*- coding: utf-8 -*-import pymysqlimport tracebackfrom functools import reduceclass BaseDao: def __exec(self, sql): flag = False # ä½¿ç”¨cursor()æ–¹æ³•èŽ·å–æ“ä½œæ¸¸æ ‡ cursor = self.db_connect.cursor() try: # æ‰§è¡Œsqlè¯­å¥ cursor.execute(sql) # æäº¤ self.db_connect.commit() flag = True except Exception as e: # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) # å¦‚æžœå‘ç”Ÿé”™è¯¯åˆ™å›žæ»š self.db_connect.rollback() # å…³é—­æ•°æ®åº“è¿žæŽ¥ self.db_connect.close() return flag def __init__(self, user, passwd, host, db, port=3306): # æ‰“å¼€æ•°æ®åº“è¿žæŽ¥ self.db_connect = pymysql.connect(host=host, port=port, user=user, passwd=passwd, db=db, charset="utf8") def insert(self, table, **kw): ''' :param table: tablename :param kw: &#123;"insert_field":"insert_value"&#125; :return: True or False ''' # SQL æ’å…¥è¯­å¥ fieds = reduce(lambda x, y: "&#123;0&#125;, &#123;1&#125;".format(x, y), kw.keys()) values = reduce(lambda x, y: "&#123;0&#125;, &#123;1&#125;".format("\"%s\"" % x if type(x) == str else x, "\"%s\"" % y if type(y) == str else y), kw.values()) sql = "INSERT INTO &#123;0&#125; (&#123;1&#125;) VALUES(&#123;2&#125;)".format(table, fieds, values) return self.__exec(sql) def delete(self, table, id): ''' :param table: tablename :param id: Primary Key :return: True or False ''' sql = "DELETE FROM &#123;0&#125; WHERE ID = &#123;1&#125;".format(table, id) return self.__exec(sql) def update(self, table, id, **kw): ''' :param table: tablename :param id: Primary Key :param kw: &#123;"update_fields": "update_value"&#125; :return: ''' # æ‹¼è£… SQL fields = "" for k, v in kw.items(): fields += k fields += "=" fields += "\"%s\"" % v if type(v) == str else str(v) fields += "," fields = fields[:-1] sql = "UPDATE &#123;0&#125; SET &#123;1&#125; WHERE id = &#123;2&#125;".format(table, fields, id) return self.__exec(sql) def query(self, table, **kw): """ :param table: table_name :param kw: query_condition :return: [&#123;&#125;, &#123;&#125;] """ # æ‹¼è£… SQL condition = "" if kw: condition = "WHERE " for k, v in kw.items(): condition += k condition += "=" condition += "\"%s\"" % v if type(v) == str else str(v) condition += " AND " condition = condition[:-5] sql = "SELECT * FROM &#123;0&#125; &#123;1&#125;".format(table, condition) # ä½¿ç”¨cursor()æ–¹æ³•èŽ·å–æ“ä½œæ¸¸æ ‡ # pymysql.cursors.DictCursor è®¾ç½®æŸ¥è¯¢ç»“æžœä¸º dictç±»åž‹ cursor = self.db_connect.cursor(pymysql.cursors.DictCursor) try: # æ‰§è¡ŒSQLè¯­å¥ cursor.execute(sql) # èŽ·å–æ‰€æœ‰è®°å½•åˆ—è¡¨ rows = cursor.fetchall() return rows except Exception as e: # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) # å¦‚æžœå‘ç”Ÿé”™è¯¯åˆ™å›žæ»š self.db_connect.rollback() # å…³é—­æ•°æ®åº“è¿žæŽ¥ self.db_connect.close()dao = BaseDao("root", "root", "127.0.0.1", "Test")# result = dao.insert("USER", id="2", name="Jack", age=17, city="Shanghai")# print(result)# result = dao.delete("USER", 2)# print(result)# result = dao.update("USER", 1, name="å°çº¢", age=23, city="Shanghai")# print(result)result = dao.query("USER")print(result) Pythonæ“ä½œHBase123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136#!/usr/bin/env python3# -*- coding: utf-8 -*-import tracebackimport happybase as hbclass HBaseDao: def __convert(self, dict): result = &#123;&#125; for k, v in dict.items(): result[k.decode("utf-8")] = v.decode("utf-8") return result def __init__(self, table, host="localhost", port=9090): """ :param table: table name :param host: h-base host :param port: h-base port """ try: self.__connection = hb.Connection(host, port) self.__connection.open() self.__table = self.__connection.table(table) except Exception as e: print("è¿žæŽ¥ HBase &#123;0&#125;:&#123;1&#125; å¤±è´¥...".format(host, port)) # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) def insert(self, rowkey, columns): # å°†å­—ç¬¦ç¼–ç æˆ2è¿›åˆ¶ """ :param rowkey: row key :param columns: &#123;"column_family:column_qualifier":"value"&#125; :return: True or False """ try: rowkey = rowkey.encode(encoding='utf-8') columnsByte = &#123;&#125; for k, v in columns.items(): columnsByte[k.encode(encoding='utf-8')] = v.encode(encoding='utf-8') self.__table.put(rowkey, columnsByte) # æ’å…¥æ•°æ® return True except Exception as e: print("æ’å…¥ HBase å¤±è´¥, row_key:&#123;0&#125;, data:&#123;1&#125;".format(rowkey, columns)) # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def insert_all(self, data): """ :param data: &#123;"row_key":&#123;"column_family:column_qualifier":"value"&#125;&#125; :return: True or False """ try: # ä½¿ç”¨batchä¸€æ¬¡æ’å…¥å¤šè¡Œæ•°æ® bat = self.__table.batch() for row_key, columns in data.items(): columnsByte = &#123;&#125; for k, v in columns.items(): columnsByte[k.encode(encoding='utf-8')] = v.encode(encoding='utf-8') bat.put(row_key.encode(encoding='utf-8'), columnsByte) bat.send() return True except Exception as e: print("æ’å…¥ HBase å¤±è´¥ data:&#123;0&#125;".format(data)) # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def delete_row(self, row_key): try: bat = self.__table.batch() bat.delete(row_key) bat.send() return True except Exception as e: print("åˆ é™¤ HBase å¤±è´¥ row_key:&#123;0&#125;".format(row_key)) # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def delete_columns(self, row_key, *columns): try: if len(columns) == 0: raise AttributeError("ç¼ºå¤±è¦åˆ é™¤çš„åˆ—") self.__table.delete(row_key, columns) return True except Exception as e: print("åˆ é™¤ HBase å¤±è´¥ row_key:&#123;0&#125;".format(row_key)) # æ‰“å°é”™è¯¯çš„å †æ ˆä¿¡æ¯ info = traceback.format_exc() print(info) return False def query(self, *row_keys): ''' :param row_keys: :return: &#123;"row_key":&#123;"column_family:column_qualifier":"value"&#125;&#125; ''' result = None if len(row_keys) == 1: result = self.__table.row(row_keys[0]) result = self.__convert(result) result = &#123;row_keys[0]:result&#125; elif len(row_keys) &gt; 1: result = &#123;&#125; items = self.__table.rows(row_keys) for item in items: result[item[0].decode("utf-8")] = self.__convert(item[1]) return result def query_all(self): items = self.__table.scan() result = &#123;&#125; for k, v in items: result[k.decode("utf-8")] = self.__convert(v) return resultdao = HBaseDao("SCORE")# result = dao.insert("row_key_5", &#123;"F:1": "æŽ", "F:2": "è¿°", "F:3": "æ˜±"&#125;)# result = dao.insert("row_key_5", &#123;"F:1": "A", "F:2": "B", "F:3": "C"&#125;)# result = dao.insert_all(&#123;"row_key_6":&#123;"F:1":"Z", "F:2":"Y", "F:3":"X"&#125;, "row_key_7":&#123;"F:1":"Q", "F:2":"W", "F:3":"E", "F:4":"R"&#125; &#125;)# result = dao.delete_row("row_key_5")result = dao.delete_columns("row_key_4", "M:1")# result = dao.query("row_key_5")# result = dao.query("row_key_5", "row_key_6", "row_key_7")# result = dao.query_all()print(result) æ›´æœ‰ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨æ¥ç®¡ç†batchï¼Œè¿™æ ·å°±ä¸ç”¨æ‰‹åŠ¨å‘é€æ•°æ®äº†ï¼Œå³ä¸å†éœ€è¦bat.send() 12345# ä½¿ç”¨withæ¥ç®¡ç†batchwith table.batch() as bat: bat.put("row_key_5", &#123;"F:1": "A", "F:2": "B", "F:3": "C"&#125;) bat.put("row_key_6", &#123;"F:1": "æŽ", "F:2": "è¿°", "F:3": "æ˜±"&#125;) bat.put("row_key_7", &#123;"F:1":"Q", "F:2":"W", "F:3":"E", "F:4":"R"&#125;) è¿˜å¯ä»¥åˆ é™¤æ•°æ® 123456# åœ¨batchä¸­åˆ é™¤æ•°æ®with table.batch() as bat: bat.put("row_key_5", &#123;"F:1": "A", "F:2": "B", "F:3": "C"&#125;) bat.put("row_key_6", &#123;"F:1": "æŽ", "F:2": "è¿°", "F:3": "æ˜±"&#125;) bat.put("row_key_7", &#123;"F:1":"Q", "F:2":"W", "F:3":"E", "F:4":"R"&#125;) bat.delete("row_key_4") batchå°†æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼ŒçŸ¥é“æ•°æ®è¢«sendï¼Œç¬¬ä¸€ç§sendæ•°æ®çš„æ–¹æ³•æ˜¯æ˜¾ç¤ºåœ°å‘é€ï¼Œå³bat.send()ï¼Œç¬¬äºŒç§sendæ•°æ®çš„æ–¹æ³•æ˜¯åˆ°è¾¾withä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„ç»“å°¾è‡ªåŠ¨å‘é€ã€‚è¿™æ ·å°±å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œä¸‡ä¸€æ•°æ®é‡å¾ˆå¤§ï¼Œå°±ä¼šå ç”¨å¤ªå¤šçš„å†…å­˜ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨table.batch()çš„æ—¶å€™è¦é€šè¿‡batch_sizeå‚æ•°æ¥è®¾ç½®batchçš„å¤§å° 1234# é€šè¿‡batch_sizeå‚æ•°æ¥è®¾ç½®batchçš„å¤§å°with table.batch(batch_size=10) as bat: for i in range(16): bat.put('www.test&#123;&#125;.com'.format(i), &#123;'cf1:price': '&#123;&#125;'.format(i)&#125;)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python I/O]]></title>
    <url>%2F2018%2F01%2F23%2Farticle%2Fpython%2Farticle-python_10%2F</url>
    <content type="text"><![CDATA[Python ä¸­çš„ I/Oè¾“å…¥ä¸Žè¾“å‡º Python I/Oè¾“å‡ºæ–‡ä»¶çš„è¯»å†™123456789101112131415161718192021222324252627282930313233343536373839404142434445#!/usr/bin/env python3# -*- coding: utf-8 -*-import osclass FileUtils(object): def __init__(self, **args): super(FileUtils, self).__init__() def read(self, file_name, mode='r'): """ :param file_name: file_path and file_name :param mode: open mode :return: file content lines array """ result = [] if not os.path.exists(file_name): print("æ²¡æœ‰ \"&#123;0&#125;\" æ­¤æ–‡ä»¶...".format(file_name)) return None with open(file_name, mode, encoding="UTF-8") as f: for line in f.readlines(): result.append(line.strip()) return result def write(self, file_name, content, mode='w'): result = False with open(file_name, mode, encoding="UTF-8") as f: for line in content: f.write(line + "\r\n") result = True return result def truncate(self, file_name): with open(file_name, "w", encoding="UTF-8") as f: f.write("") return Truefu = FileUtils()# result = fu.read("/Users/smile/example.log")# result = fu.write("/Users/smile/example1.log", result, "a")result = fu.truncate("/Users/smile/example1.log")print(result) æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ æ¨¡å¼ æè¿° r ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ rb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ r+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ rb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ w æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºŽå†™å…¥ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™å°†å…¶è¦†ç›–ã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ wb ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºŽå†™å…¥ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™å°†å…¶è¦†ç›–ã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ w+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¯»å†™ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™å°†å…¶è¦†ç›–ã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ wb+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¯»å†™ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™å°†å…¶è¦†ç›–ã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ a æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¿½åŠ ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åŽã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸ ab ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¿½åŠ ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åŽã€‚ a+ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¯»å†™ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼ã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºŽ ab+ ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºŽè¿½åŠ ã€‚å¦‚æžœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æžœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºŽè¯»å†™ã€‚ æ–‡ä»¶å¯¹è±¡çš„å±žæ€§ æ–‡ä»¶å¯¹è±¡å±žæ€§ æ è¿° file.closed è¡¨ç¤ºæ–‡ä»¶å·²ç»è¢«å…³é—­ï¼Œå¦åˆ™ä¸ºFalse file.mode Accessæ–‡ä»¶æ‰“å¼€æ—¶ä½¿ç”¨çš„è®¿é—®æ¨¡å¼ file.encoding æ–‡ä»¶æ‰€ä½¿ç”¨çš„ç¼–ç  file.name æ–‡ä»¶å file.newlines æœªè¯»å–åˆ°è¡Œåˆ†éš”ç¬¦æ—¶ä¸ºNoneï¼Œåªæœ‰ä¸€ç§è¡Œåˆ†éš”ç¬¦æ—¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“æ–‡ä»¶æœ‰å¤šç§ç±»åž‹çš„è¡Œç»“æŸç¬¦æ—¶ï¼Œåˆ™ä¸ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å½“å‰æ‰€é‡åˆ°çš„è¡Œç»“æŸçš„åˆ—è¡¨ file.softspace ä¸º0è¡¨ç¤ºåœ¨è¾“å‡ºä¸€æ•°æ®åŽï¼Œè¦åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ç¬¦ï¼Œ1è¡¨ç¤ºä¸åŠ ã€‚è¿™ä¸ªå±žæ€§ä¸€èˆ¬ç¨‹åºå‘˜ç”¨ä¸ç€ï¼Œç”±ç¨‹åºå†…éƒ¨ä½¿ç”¨]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python å¼‚å¸¸å¤„ç†]]></title>
    <url>%2F2017%2F12%2F31%2Farticle%2Fpython%2Farticle-python_09%2F</url>
    <content type="text"><![CDATA[Python ä¸­çš„å¼‚å¸¸å¤„ç† Pythonä¸­çš„å¼‚å¸¸å¤„ç†try çš„åŸºæœ¬è¯­æ³•12345678910111213141516171819202122#!/usr/bin/env python3# -*- coding: utf-8 -*-import loggingdef division(x, y): if y == 0: raise ValueError("é™¤æ•°ä¸èƒ½ä¸º 0") return x / ytry: print(division(4, 0))except ValueError as e: # raise print("é™¤æ•°ä¸º0, è®¡ç®—ç»ˆæ­¢....", e) logging.exception(e)else: print("è®¡ç®—æ­£å¸¸ç»“æŸ....")finally: print("ä¸€åˆ‡ç»ˆå½’äºŽå¹³é™....") â€‹ try: æ˜¯å¯èƒ½ä¼šå‡ºçŽ°å¼‚å¸¸çš„ä»£ç  â€‹ except: æ˜¯å¤„ç†å¼‚å¸¸çš„ä»£ç  â€‹ else: æ˜¯æ²¡æœ‰å‡ºçŽ°å¼‚å¸¸æ‰§è¡Œçš„ä»£ç  â€‹ finally: æ˜¯æ— è®ºå¦‚ä½•éƒ½æ‰§è¡Œçš„ä»£ç  â€‹ raise: æ˜¯æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ â€‹ logging: æ‰“å°å¼‚å¸¸çš„å †æ ˆä¿¡æ¯ æ‰€è°“å¼‚å¸¸å¤„ç†, åˆ†ä¸ºä¸¤éƒ¨åˆ†: 1. goto(è·³è½¬), 2. treat(åº”å¯¹) Pythonå•å…ƒæµ‹è¯•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#!/usr/bin/env python3# -*- coding: utf-8 -*-import loggingclass MyDict(dict): def __init__(self, **kw): logging.info("init params ==&gt; %s" % str(kw)) super(MyDict, self).__init__(**kw) def __getattr__(self, item): try: return self[item] except KeyError: logging.error(r"MyDict no found [%s]" % item) raise KeyError(r"MyDict no found [%s]" % item) def __setattr__(self, key, value): self[key] = value#!/usr/bin/env python3# -*- coding: utf-8 -*-import logging, unittestfrom learn.MyDict import MyDictclass TestMyDict(unittest.TestCase): def setUp(self): # æµ‹è¯•æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œ, ä¸€èˆ¬ç”¨æ¥åˆå§‹åŒ–çŽ¯å¢ƒ(æ¯”å¦‚: åˆ›å»ºæ•°æ®åº“è¿žæŽ¥) print('setUp...') def tearDown(self): # æµ‹è¯•æ–¹æ³•æ‰§è¡ŒåŽæ‰§è¡Œ, ä¸€èˆ¬ç”¨æ¥GC(æ¯”å¦‚: å…³é—­æ•°æ®åº“è¿žæŽ¥) print('tearDown...') def test_init(self): d = MyDict(a=1, b='test') # assert æ–­è¨€ self.assertEqual(d.a, 1) self.assertEqual(d.b, 'test') self.assertTrue(isinstance(d, dict)) def test_key(self): d = MyDict() d['key'] = 'value' self.assertEqual(d.key, 'value') def test_attr(self): d = MyDict() d.key = 'value' self.assertTrue('key' in d) self.assertEqual(d['key'], 'value') def test_keyerror(self): d = MyDict() with self.assertRaises(KeyError): # åˆ¤æ–­æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ KeyError value = d['empty'] def test_attrerror(self): d = MyDict() with self.assertRaises(AttributeError): # æµ‹è¯•æœªé€šè¿‡, å› ä¸ºè¿™é‡ŒæŠ›å‡ºçš„æ˜¯KeyError value = d.empty å•å…ƒæµ‹è¯•: è¦æ±‚æ¯ä¸€ä¸ªåˆ†æ”¯éƒ½è¦è¦†ç›–åˆ°.]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python é¢å‘å¯¹è±¡]]></title>
    <url>%2F2017%2F12%2F30%2Farticle%2Fpython%2Farticle-python_08%2F</url>
    <content type="text"><![CDATA[Python é¢å‘å¯¹è±¡ç¼–ç¨‹ é¢å‘å¯¹è±¡OOP ç±»(Class) å¯¹è±¡(Object) å®žä¾‹(Instance) ç±»: æ˜¯ä¸€ä¸ªæŠ½è±¡çš„å­˜åœ¨ å®žä¾‹: æ˜¯çœŸå®žå­˜åœ¨çš„ç±» å¯¹è±¡: æ˜¯ç±»çš„å®žä¾‹ å¥½æ¯”è¯´ é—¨ å°±æ˜¯ä¸€ä¸ªç±», æˆ‘çš„ å±‹é—¨ å°±æ˜¯é—¨çš„ä¸€ä¸ªå®žä¾‹. æˆ‘çš„å±‹é—¨æ˜¯ç™½é¢œè‰²çš„, è€Œä¸”æ‰“å¼€å’Œå…³é—­æ—¶ä¼šå‘å‡ºå£°å“. ä¸ç®¡æ˜¯ é¢œè‰², è¿˜æ˜¯æ‰“å¼€å’Œå…³é—­ éƒ½æ˜¯ç±»èµ‹äºˆçš„å±žæ€§å’Œè¡Œä¸º. è‡³äºŽç™½é¢œè‰²å’Œæ‰“å¼€å’Œå…³é—­æ—¶å‘å‡ºçš„å£°å“æ˜¯è¿™ä¸ªå®žä¾‹çš„å…·ä½“è¡¨çŽ°. å¯¹è±¡: åŒ…æ‹¬äº† ç±»çš„å±žæ€§å’Œè¡Œä¸º, è¿˜æœ‰å®žä¾‹æ‰€éƒ½æœ‰çš„å…·ä½“è¡¨çŽ°å½¢å¼(æ¯”å¦‚: ç™½é¢œè‰², æ‰“å¼€å’Œå…³é—­æ—¶å‘å‡ºå£°å“) åœ¨é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡ä¸­, é¦–å…ˆè¦æŠ½ç¦»å‡ºå®žä½“, ä»¥åŠè¿™ä¸ªå®žä½“æ‰€æ‹¥æœ‰çš„å±žæ€§å’Œè¡Œä¸º(æ–¹æ³•). é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹ç‚¹: å°è£…, ç»§æ‰¿, å¤šæ€ å°è£…123456789101112131415161718192021222324252627282930class Animal(object): def __init__(self, args): super(Animal, self).__init__() self.__name = args.get("name") self.age = args.get("age") def call(self): print("Animal(name:&#123;0&#125;, age:&#123;1&#125;) Call....".format(self.__name, self.age)); def setAnimalInfo(self, *, name, age): self.__name = name self.age = age def getAnimalInfo(self): return &#123;"name": self.__name, "age": self.age&#125; def __str__(self): # é‡å†™çˆ¶ç±»æ–¹æ³• return "Animal(name:&#123;0&#125;, age:&#123;1&#125;)".format(self.__name, self.age)pig = Animal(&#123;&#125;)pig.setAnimalInfo(name="tom", age=2)pig.call()pig.age = 3print(pig.age)print(pig._Animal__name) # ä¸å»ºè®®è¿™æ ·è®¿é—®# print(pig.__name) # AttributeError: 'Animal' object has no attribute '__name'pig.__name = "jack" # è¿™ä¹ˆå†™æ˜¯é”™è¯¯çš„, è™½ç„¶Pythonæ²¡æœ‰é™åˆ¶print(pig.__name) # å®žé™…ä¸Šå°±æ˜¯ç»™ pig ç»‘äº†ä¸€ä¸ªæ–°çš„å±žæ€§pig.call() æ‰€è°“å°è£…, å°±æ˜¯å°†ç±»çš„å±žæ€§è®¾ä¸ºç§æœ‰, ç„¶åŽå¼€æ”¾å±žæ€§çš„get, setæ–¹æ³•. è¿™æ ·ä¼šæé«˜ç¨‹åºçš„å¥å£®æ€§(æ¯”å¦‚setæ—¶, éªŒè¯å®žå‚æ˜¯å¦åˆæ³•) å› ä¸ºæž„é€ æ–¹æ³•(init(self, args))ä¸­, å­˜åœ¨å¿…é€‰å‚æ•°, æ‰€ä»¥åœ¨åˆå§‹åŒ–å®žä¾‹æ—¶ pig = Animal({}) å®žé™…ä¸Šç§æœ‰å±žæ€§, åœ¨å®žä¾‹åŒ–å¯¹è±¡æ—¶, å°±å·²ç»æ”¹äº†å˜é‡å, æ‰€ä»¥æ‰æœ‰çš„ AttributeError: &#39;Animal&#39; object has no attribute &#39;__name&#39; çš„é”™è¯¯ä¿¡æ¯ pig.__name = &quot;jack&quot; å°±åƒå½“äºŽç»™pigå®žä¾‹, é‡æ–°ç»‘å®šäº†æ–°çš„å±žæ€§(è¿™æ ·å†™è™½ç„¶è¯­æ³•æ²¡æœ‰é”™, ä½†ä¸å»ºè®®è¿™æ ·å†™. å°±åƒæŸä»¶äº‹, æ²¡æœ‰è§¦çŠ¯æ³•å¾‹, ä½†å—åˆ°é“å¾·çš„è°´è´£.) ç»§æ‰¿class Animal(object) Animal ç»§æ‰¿è‡ª object, 1234567891011121314151617181920212223242526272829303132333435363738394041class Dog(Animal): def __init__(self, args): super(Dog, self).__init__(args) def call(self): # print("Dog(name:&#123;0&#125;, age:&#123;1&#125;) wang....".format(super().__name, super.age)); print("Dog(name:&#123;0&#125;, age:&#123;1&#125;) wang....".format(super(Dog, self).getAnimalInfo().get("name"), super(Dog, self).getAnimalInfo().get("age"))); def __str__(self): # é‡å†™çˆ¶ç±»æ–¹æ³• # return "Dog(name:&#123;0&#125;, age:&#123;1&#125;)".format(super().__name, super.age) return "Dog(name:&#123;0&#125;, age:&#123;1&#125;)".format(super(Dog, self).getAnimalInfo().get("name"), super(Dog, self).getAnimalInfo().get("age"))class Cat(Animal): def __init__(self, args): super(Cat, self).__init__(args) def call(self): # print("Cat(name:&#123;0&#125;, age:&#123;1&#125;) miao....".format(self.__name, self.age)); print("Cat(name:&#123;0&#125;, age:&#123;1&#125;) miao....".format(super(Cat, self).getAnimalInfo().get("name"), super(Cat, self).getAnimalInfo().get("age"))); def __str__(self): # é‡å†™çˆ¶ç±»æ–¹æ³• # return "Cat(name:&#123;0&#125;, age:&#123;1&#125;)".format(self.__name, self.age) return "Cat(name:&#123;0&#125;, age:&#123;1&#125;)".format(super(Cat, self).getAnimalInfo().get("name"), super(Cat, self).getAnimalInfo().get("age"))dog = Dog(&#123;"name": "lucy", "age": 2&#125;)cat = Cat(&#123;"name":"lola", "age":1&#125;)dog.call()cat.call()print("pig is Animal", isinstance(pig, Animal))print("dog is Dog", isinstance(dog, Dog))print("cat is Cat", isinstance(cat, Cat))print("dog is Animal", isinstance(dog, Animal))print("cat is Animal", isinstance(cat, Animal)) åœ¨å­ç±»ä¸­, èŽ·å–çˆ¶ç±»çš„å¼•ç”¨ super(Dog, self). è€Œåœ¨å­ç±»ä¸­è¦æƒ³æ‹¿åˆ°çˆ¶ç±»çš„å±žæ€§, åªèƒ½é€šè¿‡çˆ¶ç±»ä¸­æä¾›çš„å¼€æ”¾æŽ¥å£, æ¥å®žçŽ°äº†. å¤šæ€ä»Žä¸Šé¢çš„ç¨‹åºä¸­å¯ä»¥çœ‹å‡º, Animalé‡å†™äº†ä»–çš„çˆ¶ç±»çš„stræ–¹æ³•, Catå’ŒDogä¹Ÿé‡å†™äº†è¿™ä¸ªæ–¹æ³•. æœ‰ç»§æ‰¿å’Œæ–¹æ³•é‡å†™, è‡ªç„¶å°±æœ‰å¤šæ€äº†. 1234567891011def getAnimal(animal): print(animal)getAnimal(pig)getAnimal(dog)getAnimal(cat)# Animal(name:tom, age:3)# Dog(name:lucy, age:2)# Cat(name:lola, age:1) è™½ä¼ å…¥çš„éƒ½æ˜¯ Animalç±», ä½†æ‰§è¡Œçš„å´æœ‰ç€ä¸åŒçš„è¡Œä¸º. è¿™å°±æ˜¯å¤šæ€(^_^) åˆ¤æ–­å¯¹è±¡ç±»åž‹1234567891011121314&gt;&gt;&gt; type(123) == type(456)True&gt;&gt;&gt; type("123") == 'str'False&gt;&gt;&gt; type("123") == strTrue&gt;&gt;&gt; isinstance(1, (str, int))True&gt;&gt;&gt; isinstance(1, (str, int, float))True&gt;&gt;&gt; isinstance(1.0, (str, int, float))True&gt;&gt;&gt; isinstance('1.0', (str, int, float))True èŽ·å–å¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•åŠå±žæ€§12345print(dir(pig))print(dir(dog))# ['_Animal__name', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__name', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'call', 'getAnimalInfo', 'setAnimalInfo']# ['_Animal__name', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__int__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'call', 'getAnimalInfo', 'setAnimalInfo'] ç±»ä¼¼åå°„çš„ä¸œè¥¿123456789101112131415161718192021# hasattr() åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦æœ‰æŒ‡å®šå±žæ€§æˆ–æ–¹æ³•# getattr() èŽ·å–å¯¹è±¡ä¸­æŒ‡å®šçš„å±žæ€§æˆ–æ–¹æ³•çš„å¼•ç”¨# setattr() å‘å¯¹è±¡ä¸­æ·»åŠ æŒ‡å®šçš„å±žæ€§æˆ–æ–¹æ³•print(getattr(pig, "__name") if hasattr(pig, "__name") else "404")print(getattr(dog, "__name") if hasattr(dog, "__name") else "404")if hasattr(cat, "__name"): # åˆ¤æ–­catå¯¹è±¡ä¸­, æ˜¯å¦æœ‰'__name'å±žæ€§ print(cat.__name)else: setattr(cat, "__name", "tom") # å‘catå¯¹è±¡ç»‘å®š'__name'å±žæ€§, å¹¶å‘è¯¥å±žæ€§èµ‹å€¼print(cat.__name) # è¾“å‡ºåˆšåˆšç»‘å®šçš„'__name'å±žæ€§çš„å€¼getattr(cat, "call")() # èŽ·å–catå¯¹è±¡çš„callæ–¹æ³•, è¿›è¡Œè°ƒç”¨def eat(): print("eat.... ing.....")setattr(cat, "eat", eat) # æ˜¯å°†æ–¹æ³•ç»‘å®šåˆ°äº†catè¿™ä¸ªå¯¹è±¡ä¸Š, è€Œéžç±»ä¸Š. æ‰€ä»¥æ–°åˆ›å»ºçš„ç±», æ²¡æœ‰eatæ–¹æ³•cat.eat() å®žä¾‹å±žæ€§å’Œç±»å±žæ€§å®žä¾‹å±žæ€§: å°±ç›¸å½“äºŽJavaç±»ä¸­çš„æ™®é€šå±žæ€§ ç±»å±žæ€§: å°±ç›¸å½“äºŽæ˜¯Javaä¸­çš„é™æ€å±žæ€§ 1234567891011121314151617class Plant(object): name = "æ¤ç‰©" def __init__(self, *args): super(Plant, self).__init__() if len(args) &gt; 0: self.name = args[0] def __str__(self): return Plant.name;pl = Plant("ç»¿è")print(pl) # ç±»å±žæ€§: æ¤ç‰©print(pl.name) # å®žä¾‹å±žæ€§çš„ä¼˜å…ˆçº§é«˜äºŽç±»å±žæ€§, æ‰€ä»¥è¾“å‡ºå®žä¾‹å±žæ€§: ç»¿èdelattr(pl, "name") # åˆ é™¤å®žä¾‹å±žæ€§print(pl.name) # å› ä¸ºå®žä¾‹å±žæ€§ä¸­æ²¡æœ‰ name äº†, æ‰€ä»¥è¾“å‡ºç±»å±žæ€§: æ¤ç‰© Pythonå†…ç½®çš„@propertyè£…é¥°å™¨å°±æ˜¯è´Ÿè´£æŠŠä¸€ä¸ªæ–¹æ³•å˜æˆå±žæ€§è°ƒç”¨. æŠŠä¸€ä¸ªgetteræ–¹æ³•å˜æˆå±žæ€§ï¼Œåªéœ€è¦åŠ ä¸Š@propertyå°±å¯ä»¥äº†, æ­¤æ—¶ï¼Œ@propertyæœ¬èº«åˆåˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨@score.setterï¼Œè´Ÿè´£æŠŠä¸€ä¸ªsetteræ–¹æ³•å˜æˆå±žæ€§èµ‹å€¼ 12345678910111213141516171819202122232425262728class Lotus(Plant): @property def colour(self): # éšè— _colour å±žæ€§, å¯¹å¤–çœ‹åˆ°çš„åªæ˜¯ colour return self._colour @colour.setter def colour(self, value): print("Assignment ing...") self._colour = value @property def age(self): return 54lotus = Lotus()lotus.colour = "æ©™çº¢è‰²" # è°ƒç”¨äº† colour setæ–¹æ³•print(lotus.colour)print(lotus.age)print(dir(lotus))print(getattr(lotus, "colour"))setattr(lotus, "colour", "ç²‰çº¢è‰²") # è°ƒç”¨äº† colour setæ–¹æ³•print(getattr(lotus, "_colour"))setattr(lotus, "_colour", "è‰³çº¢è‰²") # æ²¡æœ‰è°ƒç”¨colour setæ–¹æ³•print(lotus.colour) åœ¨æµ‹è¯•çŽ¯å¢ƒä¸‹, æˆ‘ä»¬å¯ä»¥çœ‹åˆ° lotus å¯¹è±¡ä¸­æœ‰colour å’Œ _colour ä¸¤ä¸ªå±žæ€§, ä½†å®žé™…æˆ‘ä»¬å®šä¹‰çš„_colourå±žæ€§, åœ¨é¢å‘å…¶ä»–å¯¹è±¡æ—¶, æ˜¯è¢«éšè—çš„, æ‰€ä»¥åœ¨å¯¹@propertyçš„å®žä¾‹å±žæ€§æ“ä½œçš„æ—¶å€™, å±žæ€§å¾ˆå¯èƒ½ä¸æ˜¯ç›´æŽ¥æš´éœ²çš„ï¼Œè€Œæ˜¯é€šè¿‡getterå’Œsetteræ–¹æ³•æ¥å®žçŽ°çš„ ä¸Šé¢çš„colouræ˜¯å¯è¯»å†™å±žæ€§ï¼Œè€Œageå°±æ˜¯ä¸€ä¸ªåªè¯»å±žæ€§ Pythonçš„å¤šé‡ç»§æ‰¿12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849class Book(object): def __init__(self, name): # super(Book, self).__init__() self.name = name def getName(self): return self.nameclass Literature(object): def __init__(self, author): # super(Literature, self).__init__() self.author = author def getAuthor(self): return self.authorclass Biography(object): def __init__(self, heroName): # super(Biography, self).__init__() self.heroName = heroName def getHeroName(self): return self.heroNameclass Youth(Book, Literature, Biography): def __init__(self, name, author, heroName): Book.__init__(self, name) Literature.__init__(self, author) Biography.__init__(self, heroName) def getInfo(self): return "ä¹¦å: &#123;0&#125;, ä½œè€…: &#123;1&#125;, ä¸»äººå…¬: &#123;2&#125;".format( self.getName(), self.getAuthor(), self.getHeroName())book = Youth("é’æ˜¥", "J.M.åº“åˆ‡", "çº¦ç¿°")print(book.getName())print(book.getAuthor())print(book.getHeroName())print(book.getInfo())# é’æ˜¥# J.M.åº“åˆ‡# çº¦ç¿°# ä¹¦å: é’æ˜¥, ä½œè€…: J.M.åº“åˆ‡, ä¸»äººå…¬: çº¦ç¿° Objectä¸­å¸¸ç”¨åˆ°çš„ç±»__str__() å’Œ__repr__()__str__()æœ‰ç‚¹ç±»ä¼¼Javaé‡Œçš„toStringæ–¹æ³•, å°±æ˜¯åœ¨ str(object) æ—¶è°ƒç”¨çš„æ–¹æ³• __repr__() å’Œ __str__()çš„åŠŸèƒ½å·®ä¸å¤š, åœ¨æŽ§åˆ¶å°ç›´æŽ¥è°ƒç”¨å¯¹è±¡æ—¶, ä¼šè°ƒç”¨__repr__()æ–¹æ³• ä¸¤è€…çš„åŒºåˆ«æ˜¯__str__()è¿”å›žç”¨æˆ·çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œè€Œ__repr__()è¿”å›žç¨‹åºå¼€å‘è€…çœ‹åˆ°çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ__repr__()æ˜¯ä¸ºè°ƒè¯•æœåŠ¡çš„ã€‚ 1234567891011121314class CustomMade(object): def __str__(self): return "æˆ‘è¢«ä¸»äººæ”¹äº†toStringæ–¹æ³•" def __repr__(self): return "æˆ‘ä¹Ÿè¢«ä¸»äººæ”¹äº†toStringæ–¹æ³•" cm = CustomMade()print(cm) # æˆ‘è¢«ä¸»äººæ”¹äº†toStringæ–¹æ³•&gt;&gt;&gt; cm = CustomMade()&gt;&gt;&gt; cmæˆ‘ä¹Ÿè¢«ä¸»äººæ”¹äº†toStringæ–¹æ³• __item__() å’Œ __next__()__item__() è¿”å›žä¸€ä¸ªè¿­ä»£å¯¹è±¡ --next__() è¿­ä»£è¿™ä¸ªå¯¹è±¡æ—¶, æ‰€æ‰§è¡Œçš„æ–¹æ³•(æœ‰ç‚¹åƒç”Ÿæˆå¼) 1234567891011121314151617181920class CustomMade(object): def __init__(self): super(CustomMade, self).__init__() self.index = 0 def __iter__(self): return self def __next__(self): self.index += 1 if self.index &gt; 100: raise StopIteration() return self.indexcm = CustomMade()for x in cm: print(x)# 1 2 3 4 ... 100 __getitem__()__getitem__() æ˜¯è®©æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç±», æ‹¥æœ‰ç´¢å¼•å’Œåˆ‡ç‰‡çš„åŠŸèƒ½ 123456789101112131415161718192021222324252627282930313233343536373839404142434445class CustomMade(object): def __getitem__(self, item): if isinstance(item, int): if item &gt; 50 or item &lt; -50: raise IndexError() else: if item &lt; 0: item = 50 + item index = 2 for x in range(item): index += 2 return index if isinstance(item, slice): start = item.start stop = item.stop step = item.step if start is None: start = 0 if step is None: step = 1 if start &lt; 0: start = 50 + start if stop &lt; 0: stop = 50 + stop result = [] index = 2 skip = -1 for x in range(stop): if x &gt;= start: skip += 1 if skip % step == 0: result.append(index) index += 2 return resultcm = CustomMade()print(cm)for x in cm: print(x)print(cm[1]) # 4print(cm[:10:2]) # [2, 6, 10, 14, 18] __getattr__()__getattr__() ç»™æœªç»‘å®šçš„å±žæ€§æˆ–æ–¹æ³•ä¸€ä¸ªé»˜è®¤çš„è¿”å›žå€¼ 1234567891011121314151617class Chain(object): def __init__(self, method='GET', path=''): super(Chain, self).__init__() self._path = path self._method = method def __str__(self): return "&#123;0&#125; &#123;1&#125;".format(self._method, self._path) def __getattr__(self, path): if path == "user": return lambda x: Chain(self._method, "&#123;0&#125;/&#123;1&#125;/&#123;2&#125;".format(self._path, path, x)) return Chain(self._method, "&#123;0&#125;/&#123;1&#125;".format(self._path, path))print(Chain("POST").status.user("yuchen352416").timeline.list)# POST /status/user/yuchen352416/timeline/list __call__()__call__() æ˜¯å®žä¾‹é»˜è®¤è°ƒç”¨çš„æ–¹æ³• 1234567891011class Student(object): def __init__(self, name): super(Student, self).__init__() self._name = name def __call__(self, *args, **kw): print("Student name is %s" % self._name)s = Student('Jack')s() # Student name is Jack æžšä¸¾ä¸Žå•ä¾‹12345678910111213141516171819202122232425262728293031323334353637383940414243#!/usr/bin/env python3# -*- coding: utf-8 -*-from enum import Enum, uniqueMonth = Enum('Month', ('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'))# è¿™æ ·æˆ‘ä»¬å°±èŽ·å¾—äº†Monthç±»åž‹çš„æžšä¸¾ç±»ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨Month.Janæ¥å¼•ç”¨ä¸€ä¸ªå¸¸é‡for k, v in Month.member_map_.items(): print(k, v, v.value)# valueå±žæ€§åˆ™æ˜¯è‡ªåŠ¨èµ‹ç»™æˆå‘˜çš„intå¸¸é‡ï¼Œé»˜è®¤ä»Ž1å¼€å§‹è®¡æ•°ã€‚print(Month.Jan.value)print(Month(2))@uniqueclass Weekday(Enum): Sun = 0 Mon = 1 Tue = 2 Wed = 3 Thu = 4 Fri = 5 Sat = 6print(Weekday(2))# è‡ªå®šä¹‰value# @uniqueè£…é¥°å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥ä¿è¯æ²¡æœ‰é‡å¤å€¼ã€‚# å•ä¾‹class DateUtil(Enum): class DateUtil(object): def __str__(self): return "å•ä¾‹...." instance = DateUtil()print(DateUtil.instance.value) åŠ¨æ€ç”Ÿæˆç±»ä¸Žå®žä¾‹type()12345678910111213# type()å‡½æ•°æ—¢å¯ä»¥è¿”å›žä¸€ä¸ªå¯¹è±¡çš„ç±»åž‹ï¼Œåˆå¯ä»¥åˆ›å»ºå‡ºæ–°çš„ç±»åž‹ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡type()å‡½æ•°åˆ›å»ºå‡ºHelloç±»def fn(self, name): self._name = namedef hell(self): print("Hello %s" % self._name)Hello = type("Hello", (object,), &#123;"hello": hell, "setName": fn&#125;)hello = Hello()hello.setName("Jack")hello.hello() # Hello Jack# é€šè¿‡type()å‡½æ•°åˆ›å»ºçš„ç±»å’Œç›´æŽ¥å†™classæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œå› ä¸ºPythonè§£é‡Šå™¨é‡åˆ°classå®šä¹‰æ—¶ï¼Œä»…ä»…æ˜¯æ‰«æä¸€ä¸‹classå®šä¹‰çš„è¯­æ³•ï¼Œç„¶åŽè°ƒç”¨type()å‡½æ•°åˆ›å»ºå‡ºclass metaclass123456789101112131415# é™¤äº†ä½¿ç”¨type()åŠ¨æ€åˆ›å»ºç±»ä»¥å¤–ï¼Œè¦æŽ§åˆ¶ç±»çš„åˆ›å»ºè¡Œä¸ºï¼Œè¿˜å¯ä»¥ä½¿ç”¨metaclass# metaclassæ˜¯ç±»çš„æ¨¡æ¿ï¼Œæ‰€ä»¥å¿…é¡»ä»Ž`type`ç±»åž‹æ´¾ç”Ÿï¼šclass ListMetaclass(type): def __new__(cls, name, bases, attrs): attrs['add'] = lambda self, value: self.append(value) return type.__new__(cls, name, bases, attrs)class MyList(list, metaclass=ListMetaclass): pass# å½“æˆ‘ä»¬ä¼ å…¥å…³é”®å­—å‚æ•°metaclassæ—¶ï¼Œé­”æœ¯å°±ç”Ÿæ•ˆäº†ï¼Œå®ƒæŒ‡ç¤ºPythonè§£é‡Šå™¨åœ¨åˆ›å»ºMyListæ—¶ï¼Œè¦é€šè¿‡ListMetaclass.__new__()æ¥åˆ›å»ºL = MyList()L.add(1)print(L) # [1] __new__()æ–¹æ³•æŽ¥æ”¶åˆ°çš„å‚æ•°ä¾æ¬¡æ˜¯ï¼š å½“å‰å‡†å¤‡åˆ›å»ºçš„ç±»çš„å¯¹è±¡ï¼› ç±»çš„åå­—ï¼› ç±»ç»§æ‰¿çš„çˆ¶ç±»é›†åˆï¼› ç±»çš„æ–¹æ³•å’Œå±žæ€§çš„é›†åˆã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python é«˜çº§å‡½æ•°]]></title>
    <url>%2F2017%2F12%2F29%2Farticle%2Fpython%2Farticle-python_07%2F</url>
    <content type="text"><![CDATA[Python ä¸­å‡½æ•°çš„ä¸€äº›é«˜çº§ç”¨æ³• åœ¨ç†Ÿæ‚‰äº†è‡ªå®šä¹‰å‡½æ•°å’Œå‡½æ•°ä¸­ä½¿ç”¨åˆ°çš„å‚æ•°(å¿…é€‰å‚æ•°, é»˜è®¤å‚æ•°, å¯å˜å‚æ•°, å…³é”®å­—å‚æ•°, å‘½åå…³é”®å­—å‚æ•°), ä»¥åŠç”±å‡½æ•°è¿”å›žå€¼å¼•ä¼¸å‡ºçš„é€’å½’å’Œè£…é¥°å™¨åŽ, è®©æˆ‘ä»¬ç»§ç»­å‰è¡Œ. Python é«˜é˜¶å‡½æ•°mapmap()å‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯Iterableï¼Œmapå°†ä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨åˆ°åºåˆ—çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æŠŠç»“æžœä½œä¸ºæ–°çš„Iteratorè¿”å›ž123456def func(x): return x * xm = map(func, [2, 3])print(m)for x in m: print(x) mapå‡½æ•°, å°±æœ‰ç‚¹ç±»ä¼¼ä¸€ä¸ªåŠ å·¥åŽ‚, func å°±åƒæ˜¯åŠ å·¥è§„åˆ™, [2, 3] å°±åƒæ˜¯åŠ å·¥åŽŸæ–™, æ¯ä¸ªåŽŸæ–™åŠ å·¥åŽ, å°±æˆäº†mapçš„è¿”å›žå€¼[4, 9] reducereduceæŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªåºåˆ—[x1, x2, x3, â€¦]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ŒreduceæŠŠç»“æžœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—123456from functools import reducedef func(x, y): return x + ys = reduce(func, [1, 2, 3, 4, 5]) # 15# s = func(func(func(func(1, 2), 3), 4), 5) # 15 reduceå‡½æ•°, å°±åƒæ˜¯ä¸ªé¢åŒ…æœº, [1, 2, 3, 4, 5] å°±åƒæ˜¯äº‹å…ˆè¦å‡†å¤‡çš„åŽŸæ–™ [é¢ç²‰,é¸¡è›‹, ç‰›å¥¶, ç³–] è€Œfunc, å°±åƒæ˜¯å‘é¢åŒ…æœºé‡ŒåŠ çš„åŠ¨ä½œ æœ€åŽçš„é¢åŒ…æœºä¸­çš„çƒ­è…¾è…¾çš„é¢åŒ…, å°±æ˜¯è¿”å›žç»“æžœäº†.^_^ filterfilter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºŽæ¯ä¸ªå…ƒç´ ï¼Œç„¶åŽæ ¹æ®è¿”å›žå€¼æ˜¯Trueè¿˜æ˜¯Falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚12345678910111213def remove_ood(x): if x % 2 == 0: return True else: return Falsearr = list(range(1, 10))envn = filter(remove_ood, arr)print(even) # &lt;filter object at 0x10a444630&gt;for x in envn: print(x)# 2 4 6 8 filterå‡½æ•° å°±æ˜¯æŠŠä¼ å…¥é›†åˆä¸­çš„å…ƒç´ , æŒ‰ç…§æŒ‡å®šè§„åˆ™åˆ†ç¦». æœ‰ç‚¹åƒæ˜¯åšå¥¶æ²¹å‰è¦ä»Žé¸¡è›‹ä¸­åŽ»å‡ºè›‹é»„, ç•™ä¸‹è›‹æ¸…. (^_^) sortedsorted()å‡½æ•°å°±å¯ä»¥å¯¹listè¿›è¡ŒæŽ’åº12&gt;&gt;&gt; sorted([36, 5, -12, 9, -21])[-21, -12, 5, 9, 36] sorted()å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒè¿˜å¯ä»¥æŽ¥æ”¶ä¸€ä¸ªkeyå‡½æ•°æ¥å®žçŽ°è‡ªå®šä¹‰çš„æŽ’åºï¼Œä¾‹å¦‚:12&gt;&gt;&gt; sorted([36, 5, -12, 9, -21], key=abs)[5, 9, -12, -21, 36] å…¶å®žè¿˜å¯ä»¥è¿™æ ·çŽ©12&gt;&gt;&gt; sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower)['about', 'bob', 'Credit', 'Zoo'] è¿™æ · æŽ’åºå°±å¿½ç•¥äº†æ•°ç»„ä¸­çš„å­—ç¬¦çš„å¤§å°å†™ 12&gt;&gt;&gt; sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower, reverse=True)['Zoo', 'Credit', 'bob', 'about'] æ•°ç»„çš„åè½¬ åŒ¿åå‡½æ•°å…³é”®å­—lambdaè¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå†’å·å‰é¢çš„xè¡¨ç¤ºå‡½æ•°å‚æ•°ã€‚1print(reduce(lambda x, y: x + y, [1, 2, 3, 4, 5])) # 15 lambda ä¸Ž : ä¹‹é—´æ˜¯åŒ¿åå‡½æ•°çš„å…¥å‚ åå‡½æ•°æ‰€è°“åå‡½æ•°ï¼Œå…¶å®žå°±æ˜¯å°†ä¸€ä¸ªå·²çŸ¥å‚æ•°å’Œå‡½æ•°è¿›è¡Œç»‘å®šï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•° å‡è®¾è¦è½¬æ¢å¤§é‡çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡éƒ½ä¼ å…¥int(x, base=2)éžå¸¸éº»çƒ¦ï¼ŒäºŽæ˜¯ï¼Œæˆ‘ä»¬æƒ³åˆ°ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªint2()çš„å‡½æ•°ï¼Œé»˜è®¤æŠŠbase=2ä¼ è¿›åŽ»12def int2(x, base=2): return int(x, base) è¿™æ ·ï¼Œæˆ‘ä»¬è½¬æ¢äºŒè¿›åˆ¶å°±éžå¸¸æ–¹ä¾¿äº†ï¼š1234&gt;&gt;&gt; int2('1000000')64&gt;&gt;&gt; int2('1010101')85 functools.partial å°±æ˜¯å¸®åŠ©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåå‡½æ•°çš„ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å®šä¹‰int2()ï¼Œå¯ä»¥ç›´æŽ¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°int2ï¼š 123456&gt;&gt;&gt; import functools&gt;&gt;&gt; int2 = functools.partial(int, base=2)&gt;&gt;&gt; int2('1000000')64&gt;&gt;&gt; int2('1010101')85 Python é«˜çº§ç‰¹æ€§åˆ‡ç‰‡åˆ‡ç‰‡æ˜¯Pythonæä¾›å¤„ç†Iterableç±»åž‹æ•°æ®çš„ä¸€ä¸ªå·¥å…·.1234567891011121314151617181920&gt;&gt;&gt; L = list(range(100))# å‰10ä¸ªå…ƒç´ &gt;&gt;&gt; L[:10] # [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]# åŽ10ä¸ªå…ƒç´ &gt;&gt;&gt; L[-10:] # [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]# å‰11-20ä¸ªå…ƒç´ &gt;&gt;&gt; L[10:20] # [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]# å‰10ä¸ªæ•°ï¼Œæ¯ä¸¤ä¸ªå–ä¸€ä¸ª&gt;&gt;&gt; L[:10:2] # [0, 2, 4, 6, 8]# å€’æ•°ç¬¬3ä¸ª~å€’æ•°ç¬¬5ä¸ª&gt;&gt;&gt; L[-5:-2][::-1] # [97, 96, 95]&gt;&gt;&gt; 'ABCDEFG'[:3] # 'ABC'&gt;&gt;&gt; 'ABCDEFG'[::2] # 'ACEG'&gt;&gt;&gt; 'ABC'[::-1] # 'CBA' Iterable[èµ·å§‹ä½ç½®=0:æˆªè‡³ä½ç½®=len(Iterable):æ­¥é•¿=1] è¿­ä»£æˆ‘ä»¬å¯ä»¥é€šè¿‡forå¾ªçŽ¯æ¥éåŽ†è¿™ä¸ªlistæˆ–tupleï¼Œè¿™ç§éåŽ†æˆ‘ä»¬ç§°ä¸ºè¿­ä»£ï¼ˆIterationï¼‰ 12345678910111213d = &#123;'a': 1, 'b': 2, 'c': 3&#125;for k in d: print(k) # a b cfor v in d.values(): print(v)# 1 2 3for k, v in d.items(): print(k, '-', v)# a - 1 b - 2 c - 3 å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿ1234567&gt;&gt;&gt; from collections import Iterable&gt;&gt;&gt; isinstance('abc', Iterable) # stræ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance([1,2,3], Iterable) # listæ˜¯å¦å¯è¿­ä»£True&gt;&gt;&gt; isinstance(123, Iterable) # æ•´æ•°æ˜¯å¦å¯è¿­ä»£False è¿­ä»£tuple123for x, y in [(1, 1), (2, 4), (3, 9)]: print('&#123;0&#125;-&#123;1&#125;'.format(x, y))# 1-1 2-4 3-9 åˆ—è¡¨ç”Ÿæˆå¼ä»Žä¸€å®šæ„ä¹‰ä¸Šæ¥è¯´, åˆ—è¡¨ç”Ÿæˆå¼å¯ä»¥åšåˆ°çš„, ç”¨map()å‡½æ•°ä¹Ÿå¯ä»¥åšåˆ°.ä½†åˆ—è¡¨ç”Ÿæˆå™¨æ›´å®¹æ˜“, æ›´ç›´è§‚. æˆ‘çŽ°åœ¨éœ€è¦ä¸€ä¸ªæ•°ç»„2æ¬¡æ–¹åŽçš„ä¸€ä¸ªæ•°ç»„.12345L = [1, 2, 3, 4, 5]L1 = map(lambda x: x * x, L)L2 = [x * x for x in L]print(L1) # object.mapprint(L2) #[1, 4, 9, 16, 25] å…¶å®ž, è¿˜å¯ä»¥è¿™æ ·^_^123t = [1, 2, 3]l = [t[i] * t[i + 1] for i in range(len(t) -1)]print(l) # [2, 6] ç”Ÿæˆå™¨åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªçŽ¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºgenerator(ç”Ÿæˆå™¨)12g = (x * x for x in range(10))print(g) # &lt;generator object &lt;genexpr&gt; at 0x1101431a8&gt; å’Œåˆ—è¡¨ç”Ÿæˆå¼ä¸åŒçš„æ˜¯, ç”Ÿæˆå™¨è¿”å›žçš„æ˜¯ä¸€ä¸ªIterable, è€Œåˆ—è¡¨ç”Ÿæˆå¼è¿”å›žçš„æ˜¯ä¸€ä¸ªæ•°ç»„ generator: å­˜å‚¨çš„æ˜¯è®¡ç®—è§„åˆ™, å¹¶æ²¡æœ‰çœŸå®žçš„æ•°æ®. éåŽ†æ—¶, æ¯æ¬¡è¿”å›žçš„æ•°æ®, éƒ½æ˜¯æŒ‰ç…§æ‰€å­˜å‚¨çš„è®¡ç®—è§„åˆ™è®¡ç®—å‡ºçš„ 123456789def odd(): n = 1 while True: yield n n += 2o = odd()print(next(o)) # 1print(next(o)) # 3 oddä¸æ˜¯æ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯generatorï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°yieldå°±ä¸­æ–­ï¼Œä¸‹æ¬¡åˆç»§ç»­æ‰§è¡Œã€‚ æœ€åŽé™„ä¸Šä¸€ä½å¤§ç¥žç”¨generatorå®žçŽ°çš„æ¨è¾‰ä¸‰è§’1234567def triangles(): t = [1] while True: yield t t= [t[i] + t[i-1] for i in range(1,len(t))] t.insert(0,1) # ç¬¬ä¸€ä½å§‹ç»ˆä¸º 1 t.append(1) # æœ€åŽä¸€ä½å§‹ç»ˆä¸º 1 è¿­ä»£å™¨å‡¡æ˜¯å¯ä½œç”¨äºŽforå¾ªçŽ¯çš„å¯¹è±¡éƒ½æ˜¯Iterableç±»åž‹ï¼›å‡¡æ˜¯å¯ä½œç”¨äºŽnext()å‡½æ•°çš„å¯¹è±¡éƒ½æ˜¯Iteratorç±»åž‹ï¼Œå®ƒä»¬è¡¨ç¤ºä¸€ä¸ªæƒ°æ€§è®¡ç®—çš„åºåˆ—ï¼›é›†åˆæ•°æ®ç±»åž‹å¦‚listã€dictã€strç­‰æ˜¯Iterable, ä½†ä¸æ˜¯Iteratorï¼Œä¸è¿‡å¯ä»¥é€šè¿‡iter()å‡½æ•°èŽ·å¾—ä¸€ä¸ªIteratorå¯¹è±¡ã€‚ Python æ¨¡å— è¿™æ˜¯æˆ‘é¡¹ç›®ä¸­å„æ–‡ä»¶çš„è·¯å¾„.æˆ‘åœ¨hello.pyä¸­å¸Œæœ›å¼•ç”¨æˆ‘webæ¨¡å—ä¸‹çš„utilsä¸­çš„å‡½æ•°12345from web.utils import reverseprint(reverse("123"))import web.utilsweb.utils.welcome("Tom")]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python è‡ªå®šä¹‰å‡½æ•°]]></title>
    <url>%2F2017%2F12%2F28%2Farticle%2Fpython%2Farticle-python_06%2F</url>
    <content type="text"><![CDATA[Python ä¸­è‡ªå·±å®šä¹‰å‡½æ•° åœ¨ç†Ÿæ‚‰äº†Pythonä¸­å¸¸ç”¨çš„ä¸€äº›å†…ç½®å‡½æ•°, é‚£æŽ¥ä¸‹æ¥æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„å‡½æ•°å§ 12def add(x, y): return x + y å‡½æ•°å‡½æ•°è¯­æ³•123def functonname(parameters): ... return result å®šä¹‰ç©ºå‡½æ•°12def nop(): pass å®žé™…ä¸Š pass æ˜¯ç”¨æ¥ä½œä¸ºå ä½ç¬¦çš„. æ¯”å¦‚çŽ°åœ¨è¿˜æ²¡æƒ³å¥½æ€Žä¹ˆå†™å‡½æ•°çš„ä»£ç , å°±å¯ä»¥å…ˆæ”¾ä¸€ä¸ªpass, è®©å…¶ä»–ä»£ç å¯ä»¥è¿è¡Œèµ·æ¥. å‡½æ•°ä¹Ÿæ˜¯Object1234567def pow(x, y): result = 1 for i in range(0, y): result = result * x return resultprint(pow) #&lt;function pow at 0x104147e18&gt; å‡½æ•°ä¹Ÿæ˜¯å†…å­˜ä¸­çš„ä¸€å—åŒºåŸŸ, å‡½æ•°åæŒ‡å‘è¿™å—åŒºåŸŸ.123fn = powprint(fn) #&lt;function pow at 0x104147e18&gt;print(fn(2, 10)) #1024 å‚æ•° å¿…é€‰å‚æ•° é»˜è®¤å‚æ•° å¯å˜å‚æ•° å…³é”®å­—å‚æ•° å‘½åå…³é”®å­—å‚æ•° å¿…é€‰å‚æ•°12345678def pow(x, y): result = 1 for i in range(0, y): result = result * x return resultt = pow(2, 3)print(t) # 8 ä¸Šé¢å‡½æ•°ä¸­, éœ€è¦ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ x, y. è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¿…é€‰å‚æ•°, ç¼ºä¸€ä¸å¯.powå‡½æ•°ä¸­ x ä¸ºåº•æ•°, y ä¸ºæŒ‡æ•°, çŽ°åœ¨æˆ‘æƒ³è®©æŒ‡æ•°é»˜è®¤ä¸º 2 é»˜è®¤å‚æ•°12345678def pow(x, y = 2): result = 1 for i in range(0, y): result = result * x return resultt = pow(2)print(t) # 4 è®¾, æˆ‘è¦æ±‚å¤šä¸ªæ•°çš„å’Œ. å…·ä½“æœ‰å¤šä¸ªå‚æ•°, æˆ‘ä¹Ÿä¸çŸ¥é“ å¯å˜å‚æ•°12345678910111213141516def sum_1(numbers): s = 0 for x in numbers: s += x return sdef sum_2(*numbers): s = 0 for x in numbers: s += x return sarr = [1, 2, 4]print(sum_1(arr))print(sum_2(1, 2, 4))print(sum_2(*arr)) å…³é”®å­—å‚æ•°å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdict12345678910111213def person(name, age, **kw) : # ** =&gt; dict print("kw tyep is", type(kw)) if "city" in kw : print("city :", kw["city"]) if "job" in kw: print("job :", kw.get("job")) print("name:", name, ", age:", age, ", other:", kw)person("Jion", 18, city = "Beijing")person(name = "Tom", city = "Beijing", age = 17)extra = &#123;'city': 'Beijing', 'job': 'Engineer'&#125;person("Jion", 18, **extra) å‘½åå…³é”®å­—å‚æ•°å¦‚æžœè¦é™åˆ¶å…³é”®å­—å‚æ•°çš„åå­—ï¼Œå°±å¯ä»¥ç”¨å‘½åå…³é”®å­—å‚æ•°ï¼Œä¾‹å¦‚ï¼ŒåªæŽ¥æ”¶cityå’Œjobä½œä¸ºå…³é”®å­—å‚æ•° 12def person(name, age, *, city, job): print(name, age, city, job) å‘½åå…³é”®å­—å‚æ•°éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦ * ï¼Œ* åŽé¢çš„å‚æ•°è¢«è§†ä¸ºå‘½åå…³é”®å­—å‚æ•°ã€‚12&gt;&gt;&gt; person('Jack', 24, city='Beijing', job='Engineer')Jack 24 Beijing Engineer å¦‚æžœå‡½æ•°å®šä¹‰ä¸­å·²ç»æœ‰äº†ä¸€ä¸ªå¯å˜å‚æ•°ï¼ŒåŽé¢è·Ÿç€çš„å‘½åå…³é”®å­—å‚æ•°å°±ä¸å†éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦ * äº†.1234567891011121314151617def person(name, age, *, city = "Beijing", job): # è¦é™åˆ¶å…³é”®å­—å‚æ•°çš„åå­—, å°±è¦ç”¨åˆ° "å‘½åå…³é”®å­—å‚æ•°" # * åŽçš„å‚æ•°, è¢«è§†ä¸º"å‘½åå…³é”®å­—å‚æ•°" print(name, age, city, job)person("Jack", 24, job = "Engineer")x = &#123;"city":"Shanghai", "job":"Engineer"&#125;person("Jack", 23, **x)person("Jack", 23, city = "Beijing", job = "Engineer")def person(name, age, *args, city, job): print(name, age, args, city, job)x = &#123;"A":1, "B":2, "C":3&#125;# å½“å®žå‚ä¸º *x æ—¶, ä¼šå°†å®žå‚ä¸­çš„keyä»¥tuple(å…ƒç»„)çš„å½¢å¼, ä¼ é€’åˆ°æ–¹æ³•å†…# person("Jack", 23, *x, city = "Beijing", job = "Engineer") # Jack 23 ('A', 'B', 'C') Beijing Engineer# å½“å®žå‚ä¸º x æ—¶, ä¼šå°†å®žå‚çš„æ•´ä½“å†…å®¹åšä¸ºtuple(å…ƒç»„)çš„ä¸€ä¸ªå…ƒç´ , ä¼ é€’åˆ°æ–¹æ³•å†…person("Jack", 23, x, city = "Beijing", job = "Engineer") # Jack 23 (&#123;'A': 1, 'B': 2, 'C': 3&#125;,) Beijing Engineer è¿”å›žå€¼è¿”å›žå¸¸ç”¨ç±»åž‹1234567def abs(x): if(x &gt;= 0): return x else: retrun -xprint(abs(-1)) #1 return ç±»ä¼¼å‡ºæ ˆæ“ä½œ, returnä¹‹åŽçš„è¯­å¥åˆ™ä¸è¢«æ‰§è¡Œ è¿”å›žå¤šä¸ªå€¼123456def show(x, y, z): return x * y * z, x + y + zx = show(2, 3, 4)print(x[0], x[1]) #24 9print(x) #(24, 9) å½“å‡½æ•°è¿”å›žå¤šä¸ªå€¼æ—¶, å®žé™…ä¸Šæ˜¯æŠŠå¤šä¸ªéœ€è¦è¿”å›žçš„å€¼, å°è£…æˆä¸€ä¸ªtuple è¿”å›žå‡½æ•°åˆšåˆšè¯´è¿‡, å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªObject, æ‰€ä»¥ä¹Ÿå¯ä»¥ä½œä¸ºè¿”å›žå€¼è¿›è¡Œè¿”å›ž é€’å½’123456789def trim(s): if (s == ''): return '' if (ord(s[:1]) == 32): return trim(s[1:]) elif (ord(s[-1:]) == 32): return trim(s[:-1]) else: return s è¿™æ˜¯ä¸€ä¸ªåŽ»é™¤å­—ç¬¦ä¸²å‰åŽç©ºæ ¼çš„å‡½æ•°, é¦–å…ˆæ£€æµ‹å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä½æ˜¯ä¸æ˜¯ç©ºæ ¼, å¦‚æžœæ˜¯åŽ»æŽ‰ç¬¬ä¸€ä½, å†æ¬¡æ£€æŸ¥æ–°å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä½ ç›´è‡³ä¸æ˜¯åŽ, æ£€æŸ¥å­—ç¬¦ä¸²çš„æœ€åŽä¸€ä½, å¦‚æžœæ˜¯, åˆ™åŽ»æŽ‰æœ€åŽä¸€ä½, å†æ¬¡æ£€æµ‹æ–°å­—ç¬¦ä¸²çš„æœ€åŽä¸€ä½.ç›´åˆ°æœ€åŽä¸€ä½,ä¸å†æ˜¯ç©ºæ ¼. é—­åŒ…12345678910def make_adder(addend): def adder(augend): return augend + addend return adderp = make_adder(23)q = make_adder(44)print(p(100)) #123print(q(100)) #144 é—­åŒ…: å¯ä»¥å½¢è±¡çš„æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªå°é—­çš„åŒ…è£¹ï¼Œè¿™ä¸ªåŒ…è£¹å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå½“ç„¶è¿˜æœ‰å‡½æ•°å†…éƒ¨å¯¹åº”çš„é€»è¾‘ï¼ŒåŒ…è£¹é‡Œé¢çš„ä¸œè¥¿å°±æ˜¯è‡ªç”±å˜é‡ï¼Œè‡ªç”±å˜é‡å¯ä»¥åœ¨éšç€åŒ…è£¹åˆ°å¤„æ¸¸è¡ã€‚å½“ç„¶è¿˜å¾—æœ‰ä¸ªå‰æï¼Œè¿™ä¸ªåŒ…è£¹æ˜¯è¢«åˆ›å»ºå‡ºæ¥çš„ã€‚åœ¨é€šè¿‡Pythonçš„è¯­è¨€ä»‹ç»ä¸€ä¸‹ï¼Œä¸€ä¸ªé—­åŒ…å°±æ˜¯ä½ è°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°Aï¼Œè¿™ä¸ªå‡½æ•°Aè¿”å›žäº†ä¸€ä¸ªå‡½æ•°Bç»™ä½ ã€‚è¿™ä¸ªè¿”å›žçš„å‡½æ•°Bå°±å«åšé—­åŒ…ã€‚ä½ åœ¨è°ƒç”¨å‡½æ•°Açš„æ—¶å€™ä¼ é€’çš„å‚æ•°å°±æ˜¯è‡ªç”±å˜é‡ã€‚ 1234567def func(name): def inner_func(age): print 'name:', name, 'age:', age return inner_funcbb = func('the5fire')bb(26) # &gt;&gt;&gt; name: the5fire age: 26 è¿™é‡Œé¢è°ƒç”¨funcçš„æ—¶å€™å°±äº§ç”Ÿäº†ä¸€ä¸ªé—­åŒ…â€”â€”inner_func,å¹¶ä¸”è¯¥é—­åŒ…æŒæœ‰è‡ªç”±å˜é‡â€”â€”nameï¼Œå› æ­¤è¿™ä¹Ÿæ„å‘³ç€ï¼Œå½“å‡½æ•°funcçš„ç”Ÿå‘½å‘¨æœŸç»“æŸä¹‹åŽï¼Œnameè¿™ä¸ªå˜é‡ä¾ç„¶å­˜åœ¨ï¼Œå› ä¸ºå®ƒè¢«é—­åŒ…å¼•ç”¨äº†ï¼Œæ‰€ä»¥ä¸ä¼šè¢«å›žæ”¶ã€‚ 1234567891011121314def hellocounter (name): count = 0 def counter(): # å¦‚æžœä¸åŠ  nonlocal ä¼šæŠ¥é”™ # UnboundLocalError: local variable 'count' referenced before assignment nonlocal count count += 1 print ('Hello &#123;0&#125;, &#123;1&#125; access!'.format(name, count)) return counterhello = hellocounter('ysisl')hello()hello()hello() åœ¨é—­åŒ…å‡½æ•°å†…, å¯ä»¥ç›´æŽ¥è®¿é—®çˆ¶å‡½æ•°ä½œç”¨åŸŸä¸‹çš„å˜é‡, ä½†ä¸å¯ä»¥ä¿®æ”¹.python3é‡Œé¢,å¼•å…¥äº†ä¸€ä¸ªå…³é”®å­—:nonlocal,è¿™ä¸ªå…³é”®å­—æ˜¯å¹²ä»€ä¹ˆçš„? å°±æ˜¯å‘Šè¯‰pythonç¨‹åº, æˆ‘çš„è¿™ä¸ªcountå˜é‡æ˜¯å†å¤–éƒ¨å®šä¹‰çš„, ä½ åŽ»å¤–é¢æ‰¾å§. ç„¶åŽpythonå°±åŽ»å¤–å±‚å‡½æ•°æ‰¾, ç„¶åŽå°±æ‰¾åˆ°äº†count = 0 è¿™ä¸ªå®šä¹‰å’Œèµ‹å€¼, ç¨‹åºå°±èƒ½æ­£å¸¸æ‰§è¡Œäº†. è£…é¥°å™¨è£…é¥°å™¨: æ˜¯å¯¹é—­åŒ…çš„ä¸€ç§å®žé™…è¿ç”¨çš„åœºæ™¯. 12345678910111213141516def makebold(fn): def wrapped(): return "&lt;b&gt;" + fn() + "&lt;/b&gt;" return wrappeddef makeitalic(fn): def wrapped(): return "&lt;i&gt;" + fn() + "&lt;/i&gt;" return wrapped@makebold@makeitalicdef hello(): return "hello world"print hello() # &lt;b&gt;&lt;i&gt;hello world&lt;/i&gt;&lt;/b&gt; ç›¸å½“äºŽ makebold(makeitalic(hello())) 123456789101112131415161718192021222324252627import timedef timecost(func): def wrapper(*args, **kw): def fn(*args, **kw): start = int(time.time()) print(&quot;Call &#123;0&#125;() Before [&#123;1&#125;]&quot;.format(func.__name__, time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime(int(time.time()))))) func(*args, **kw) print(&quot;Call &#123;0&#125;() After [&#123;1&#125;]&quot;.format(func.__name__, time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime(int(time.time()))))) end = int(time.time()) print(&quot;Run Cost Time &#123;0&#125;s&quot;.format(end - start)) return fn(*args, **kw) return wrapper@timecostdef now_datetime(format): now = int(time.time()) print(time.strftime(format, time.localtime(now)))now_datetime(&quot;%H:%M:%S&quot;)# Call now_datetime() Before [2018-01-15 00:24:17]# 00:24:17# Call now_datetime() After [2018-01-15 00:24:17]# Run Cost Time 0s# åœ¨æ–¹æ³•å‰åŽåŠ å…¥è‡ªå·±æƒ³è¦çš„å†…å®¹, å“ˆå“ˆ, è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„AOPå—?]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python å†…ç½®å‡½æ•°]]></title>
    <url>%2F2017%2F12%2F27%2Farticle%2Fpython%2Farticle-python_05%2F</url>
    <content type="text"><![CDATA[Python ä¸­å¸¸ç”¨åˆ°çš„ä¸€äº›å†…ç½®å‡½æ•° ç†Ÿæ‚‰äº†Pythonä¸­çš„æŽ§åˆ¶è¯­å¥åŽ, å°±å¯ä»¥è¿›ä¸€æ­¥æŽ¢ç´¢Pythonäº†. Python å¸¸ç”¨çš„å†…ç½®å‡½æ•°æ‰€è°“å†…ç½®å‡½æ•°, æ˜¯ä¸ç”¨å¯¼å…¥å…¶ä»–æ¨¡å—, å°±å¯ä»¥ç›´æŽ¥ä½¿ç”¨çš„å‡½æ•° range()å®ƒç”Ÿæˆä¸€ä¸ªç­‰å·®çº§æ•°é“¾è¡¨ range( [èµ·å§‹å€¼, 0], &lt;æˆªæ­¢å€¼&gt;, [æ­¥é•¿, 1] )1range(3, 10, 3) # 3, 6, 9 list()ä»Žå¯è¿­ä»£ï¼ˆå¯¹è±¡ï¼‰ä¸­åˆ›å»ºåˆ—è¡¨ list( )1list(range(3, 10, 3)) # [3, 6, 9] chr()è¿”å›žä¼ å…¥ASCIIç å¯¹åº”çš„å­—ç¬¦ chr( )1chr(65) # A ord()è¿”å›žä¼ å…¥å­—ç¬¦å¯¹åº”çš„ASCIIç å€¼ ord( )1ord('A') # 65 len()è¿”å›žä¼ å…¥é›†åˆé•¿åº¦ len( &lt;é›†åˆ&gt; )1len([1, 3, 5]) # 3 input()æŽ¥æ”¶æŽ§åˆ¶å°çš„è¾“å…¥å†…å®¹ input( [â€œæç¤ºä¿¡æ¯â€] )1input("è¯·è¾“å…¥æ‚¨çš„èº«é«˜:") float()å°†ä¼ å…¥æ•°æ®, è½¬ä¸º floatç±»åž‹ float( ) raise ValueError12float(1) # 1.0float("1.9") # 1.9 str()å°†ä¼ å…¥æ•°æ®, è½¬ä¸ºå­—ç¬¦ä¸² str( )1str(&#123;"A":1, "B":2&#125;) # "&#123;'A': 1, 'B': 2&#125;" int()å°†ä¼ å…¥æ•°æ®, è½¬ä¸º int ç±»åž‹ int( ) raise ValueError12int(1.9) # 1int("1.9") # ValueError isinstance()åˆ¤æ–­æ•°æ®æ˜¯å¦æŒ‡å®šç±»åž‹ isinstance( , )12x = 1.0isinstance(x, float) # True type()è¿”å›žä¼ å…¥æ•°æ®çš„ç±»åž‹ type( )1type(1) == int # True Python å­—ç¬¦é›†bytes ç±»åž‹æ•°æ®123456x = b'A' # bytes ç±»åž‹æ•°æ® y = 'A'print('x =', x, '\t' ,type(x)) # &lt;class 'bytes'&gt;print('y =', y, '\t' ,type(y)) # &lt;class 'str'&gt;z = ord(x) print(z) # 65 å­—ç¬¦ç¼–ç 1234print('A'.encode('ASCII'))print('æ£®'.encode('GBK')) # b'\xc9\xad'print('æ£®'.encode('GB2312')) # b'\xc9\xad'print('æ£®'.encode('UTF-8')) # b'\xe6\xa3\xae' ASCIIç  èŒƒå›´ [0, 127]GBK å’Œ GB2312 éƒ½æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºUTF-8 ç”¨ä¸‰ä¸ªå­—èŠ‚è¡¨ç¤º 123456789101112131415161718x = b'\x41'print(x) # b'A'print(x.decode("ASCII")) # Ax = b'\xc9\xad' # =&gt; 11001001 10101101print(x.decode("GB2312")) # æ£®print(x.decode("GBK")) # æ£®x = b'\xe6\xa3\xae' # =&gt; 11100110 10100011 10101110print(x.decode("UTF-8")) # æ£®print(len('ABC')) # 3print(len('æ£®A')) # 2x = b'\xc9\xad'print(x) # b'\xc9\xad'print(x.decode("GBK")) # æ£®print(len(x)) # 2# 1ä¸ªä¸­æ–‡å­—ç¬¦ç»è¿‡UTF-8ç¼–ç åŽé€šå¸¸ä¼šå ç”¨3ä¸ªå­—èŠ‚ï¼Œè€Œ1ä¸ªè‹±æ–‡å­—ç¬¦åªå ç”¨1ä¸ªå­—èŠ‚ã€‚print(len('æ£®'.encode('utf-8'))) # 3print(len('æ£®A'.encode('utf-8'))) # 4 Python å­—ç¬¦ä¸²æ ¼å¼åŒ–1234567891011121314151617s = 'Hello %s' % ('World!')print(s)# %d è¡¨ç¤º æ•´æ•°# %f è¡¨ç¤º æµ®ç‚¹æ•°# %s è¡¨ç¤º å­—ç¬¦ä¸²# %x è¡¨ç¤º åå…­è¿›åˆ¶æ•´æ•°# s = 'Age: %s. Gender: %s' % (25, True)# s = 'Age: %d. Gender: %s' % (25, True)# s = 'Age: %f. Gender: %s' % (25, True)s = 'Age: %x. Gender: %s' % (25, True) # åè¿›åˆ¶25ä¼ å…¥, ä¼šè½¬åŒ–ä¸€æ¬¡, å˜ä¸ºåå…­è¿›åˆ¶çš„ 19 print(s)s = 'Growth rate: %d%%' % (7) # åœ¨ä½¿ç”¨æ ¼å¼åŒ–å ä½ç¬¦çš„å­—ç¬¦ä¸²ä¸­, ç”¨ %% æ¥è¡¨ç¤ºä¸€ä¸ª % print(s)# ä½¿ç”¨formatæ–¹æ³•, æ ¼å¼åŒ–è¾“å‡ºs = 'Hello, &#123;0&#125;, æˆç»©æå‡äº† &#123;1:.2f&#125;%'.format('å°æ˜Ž', 17.125)print(s)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python æŽ§åˆ¶è¯­å¥]]></title>
    <url>%2F2017%2F12%2F26%2Farticle%2Fpython%2Farticle-python_04%2F</url>
    <content type="text"><![CDATA[Python ä¸­çš„æŽ§åˆ¶è¯­å¥ ç†Ÿæ‚‰äº†Pythonä¸­çš„å„ç§è¿ç®—ç¬¦ä¹‹åŽ, æŽ¥ä¸‹æ¥è¦è¿›ä¸€æ­¥äº†è§£Pythonäº† æŽ§åˆ¶è¯­å¥if è¯­å¥ å•åˆ†æ”¯ if åŒåˆ†æ”¯ if å¤šåˆ†æ”¯ if å•åˆ†æ”¯ if12if x &gt;= 0: print("x ä¸ºè‡ªç„¶æ•°") éœ€è¦æ³¨æ„: å…³ç³»è¡¨è¾¾å¼åŽé¢è¦è·Ÿå†’å·, è€Œ if æ¡ä»¶æˆç«‹æ‰§è¡Œçš„è¯­å¥, ç”¨ tab æ’®è¡Œè¡¨ç¤º, è€Œä¸”æ²¡æœ‰ {} åŒåˆ†æ”¯ if1234if x == 1: print("æ¡ä»¶æˆç«‹...")else: print("æ¡ä»¶ä¸æˆç«‹...") å¤šåˆ†æ”¯ if123456if x == 1: print("çŠ¶æ€å°šå¯...")elif x == 2: print("çŠ¶æ€æžä½³...")else: print("çŠ¶æ€ä¸ä½³...") for è¯­å¥12for x in [1, 2, 3, 4]: print(x) for è¯­å¥ æ˜¯ç”¨æ¥éåŽ† Iterable(å¯è¿­ä»£å¯¹è±¡)çš„ while è¯­å¥123456789x = 0while True: x += 1; if x % 2 == 0: print(x) continue if x % 3 == 0: print(x) break continue è·³å›žå¾ªçŽ¯å¼€å§‹å¤„break è·³å‡ºå¾ªçŽ¯ switch è¯­å¥123456789101112131415161718int x = 0;switch (x) &#123; // Java çš„è¯­æ³• case 0: &#123; System.out.println("0"); break; &#125; case 1: &#123; System.out.println("1"); break; &#125; case 2: &#123; System.out.println("2"); break; &#125; default: &#123; System.out.println("9"); &#125;&#125; å¾ˆé—æ†¾, Python å¥½åƒæ²¡æœ‰ switch è¯­å¥, ä½†ä¹Ÿä¸æ˜¯æ²¡æœ‰å˜é€šä¹‹é“ 12345678910111213# æ–¹æ³• 1def func(x): return &#123; 'a': 1, 'b': 2 &#125;.get(x, 9) # æ–¹æ³• 2result = &#123; 'a': lambda x: x * 5, 'b': lambda x: x + 7, 'c': lambda x: x - 2&#125;[value](x)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python å„ç§è¿ç®—ç¬¦]]></title>
    <url>%2F2017%2F12%2F25%2Farticle%2Fpython%2Farticle-python_03%2F</url>
    <content type="text"><![CDATA[Python ä¸­çš„å„ç§è¿ç®—ç¬¦ åœ¨æŽŒæ¡äº†æ€Žä¹ˆç”¨Pythonå®šä¹‰å˜é‡å’ŒPythonå¸¸ç”¨çš„æ•°æ®ç±»åž‹åŽ, æˆ‘ä»¬å°±å¯ä»¥ç»§ç»­æŽ¢ç´¢Pythonä¸–ç•Œäº†. è¿ç®—ç¬¦ç®—æœ¯è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®žä¾‹ + åŠ  1 + 2 =&gt; 3 - å‡ 3 - 2 =&gt; 1 * ä¹˜ 2 * 3 =&gt; 6 / é™¤ 6 / 2 =&gt; 3 // æ•´é™¤ 7 // 2 =&gt; 3 % æ¨¡é™¤ 7 % 2 = 1 ** å¹‚ 2 ** 3 = 8 å…³ç³»è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®žä¾‹ == ç­‰äºŽ 1 == 2 =&gt; False != ä¸ç­‰ 3 != 2 =&gt; True &lt;&gt; ä¸ç­‰ 2 &lt;&gt; 3 =&gt; True &gt; å¤§äºŽ 6 &gt; 2 =&gt; True &lt; å°äºŽ 7 &lt; 2 =&gt; False &gt;= å¤§äºŽç­‰äºŽ 7 &gt;= 2 = True &lt;= å°äºŽç­‰äºŽ 2 &lt;= 3 = True èµ‹å€¼è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®žä¾‹ = èµ‹å€¼ x = 1 += åŠ èµ‹å€¼ x += 1 -= å‡èµ‹å€¼ x -= 1 *= ä¹˜èµ‹å€¼ x *= 2 /= é™¤èµ‹å€¼ x /= 2 //= æ•´é™¤èµ‹å€¼ x //= 2 %= æ¨¡é™¤èµ‹å€¼ x %= 2 **= å¹‚èµ‹å€¼ x **= 3 ä½è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®žä¾‹ &amp; ä¸Žè¿ç®— 5 &amp; 2 &#124; æˆ–è¿ç®— 5 &#124; 2 ~ å–åè¿ç®— ~7 ^ å¼‚æˆ–è¿ç®— 7 ^ 3 &lt;&lt; å·¦ç§»è¿ç®— 1 &lt;&lt; 2 &gt;&gt; å³ç§»è¿ç®— 7 &gt;&gt; 1 123456print( 5 &amp; 2 ) # 00000101 and 00000010 =&gt; 00000000 =&gt; 0print( 5 | 2 ) # 00000101 or 00000010 =&gt; 00000111 =&gt; 7 print( 7 ^ 3) # 00000111 xor 00000011 =&gt; 00000100 =&gt; 4print(1 &lt;&lt; 2) # 00000001 &lt;&lt; 2 =&gt; 00000100 =&gt; 4 print(7 &gt;&gt; 1) # 00000111 &gt;&gt; 1 =&gt; 00000011 =&gt; 3print(~7) # -x - 1 =&gt; -8 æ¶‰åŠåˆ°çš„ä¸€äº›æ¦‚å¿µ1. æºç : æ˜¯æŒ‡ç”± 0 å’Œ 1 ç»„æˆçš„äºŒè¿›åˆ¶æ•°.(å…ˆä½ŽåŽé«˜å­˜å‚¨)2. æ— ç¬¦å·ä½æ•°: æ˜¯æŒ‡å°†æºç çš„æ‰€æœ‰æœ‰æ•ˆä½æ•°, éƒ½ç”¨æ¥è¡¨ç¤ºæ•°å€¼(æ¯”å¦‚ â€œ0000 0001â€ è¿™æ˜¯ä¸€ä¸ª8ä½çš„äºŒè¿›åˆ¶æ•°, å¯ä»¥è¡¨ç¤ºæ•°çš„èŒƒå›´å°±æ˜¯[0, 255])3. æœ‰ç¬¦å·ä½æ•°: æ˜¯æŒ‡ç”¨æºç çš„ç¬¬ä¸€ä½è¡¨ç¤ºç¬¦å·ä½(1 è¡¨ç¤ºè´Ÿæ•°, 0 è¡¨ç¤ºæ­£æ•°), å…¶ä½™çš„ä½æ•°æ¥è¡¨ç¤ºæ•°å€¼(æ¯”å¦‚â€0000 0001â€ è¿™æ˜¯ä¸€ä¸ª8ä½çš„äºŒè¿›åˆ¶æ•°, å¯ä»¥è¡¨ç¤ºæ•°çš„èŒƒå›´å°±æ˜¯[-128, 127])4. åŽŸç : æ˜¯æŒ‡ç”¨æœ‰ç¬¦å·ä½æ•°è¡¨ç¤ºçš„äºŒè¿›åˆ¶æ•°5. åç : æ­£æ•°çš„åç æ˜¯å®ƒæœ¬èº«, è´Ÿæ•°çš„åç æ˜¯é™¤ç¬¦å·ä½å¤–çš„å…¶ä»–ä½å–åå¾—åˆ°çš„(æ¯”å¦‚ -7çš„åŽŸç æ˜¯ 10000111, åç å°±æ˜¯ 11111000)6. è¡¥ç : æ­£æ•°çš„è¡¥ç æ˜¯å®ƒæœ¬èº«, è´Ÿæ•°çš„è¡¥ç æ˜¯åœ¨åç çš„åŸºç¡€ä¸ŠåŠ  1(æ¯”å¦‚ -7 çš„åç æ˜¯ 11111000, é‚£è¡¥ç å°±æ˜¯ 11111001) ~å–åè¿ç®—ç¬¦, æ˜¯å°†æ•°å€¼çš„è¡¥ç è¿›è¡Œå–å ~7 =&gt; ~(0000 0111) =&gt; 1111 1000 =&gt; 1000 0111(åç ) =&gt; 1000 1000(è¡¥ç ) =&gt; -8åŒç† ~(-8)âˆµ -8 =&gt; 1000 1000(åŽŸç ) =&gt; 1111 0111(åç ) ==&gt; 1111 1000(è¡¥ç )âˆ´ ~(-8) =&gt; ~(1111 1000) =&gt; 0000 0111 =&gt; 7 é€»è¾‘è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®žä¾‹ not éž not True and ä¸Ž True and False or æˆ– True or False æˆå‘˜è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®žä¾‹ in å­˜åœ¨ 1 in range(10) not in ä¸å­˜åœ¨ 1 not in range(2, 10) èº«ä»½è¿ç®—ç¬¦ è¿ç®—ç¬¦ æè¿° å®žä¾‹ is æ˜¯å¦ç›¸åŒå¼•ç”¨ x is y is not æ˜¯å¦ä¸åŒå¼•ç”¨ x is not y è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ æè¿° è¿ç®—ç¬¦ ** æŒ‡æ•° (æœ€é«˜ä¼˜å…ˆçº§) ~ æŒ‰ä½ç¿»è½¬ * / % // ä¹˜, é™¤, æ¨¡é™¤å’Œæ•´é™¤ + - åŠ æ³•, å‡æ³• &gt;&gt; &lt;&lt; å³ç§»ï¼Œå·¦ç§»è¿ç®—ç¬¦ &amp; ä¸Žè¿ç®— ^ &#124; æˆ–è¿ç®—ç¬¦å’Œå¼‚æˆ–è¿ç®—ç¬¦ &lt;= &lt; &gt; &gt;= æ¯”è¾ƒè¿ç®—ç¬¦ &lt;&gt; == != å…³ç³»è¿ç®—ç¬¦ = %= /= //= -= += = *= èµ‹å€¼è¿ç®—ç¬¦ is is not èº«ä»½è¿ç®—ç¬¦ in not in æˆå‘˜è¿ç®—ç¬¦ not or and é€»è¾‘è¿ç®—ç¬¦]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python å˜é‡ä¸Žæ•°æ®ç±»åž‹]]></title>
    <url>%2F2017%2F12%2F24%2Farticle%2Fpython%2Farticle-python_02%2F</url>
    <content type="text"><![CDATA[Python çš„å˜é‡ä¸Žæ•°æ®ç±»åž‹ åœ¨è¿ˆè¿‡HelloWorldçš„å¤§é—¨åŽ, æ­£å¼å¼€å§‹äº†è§£Python å˜é‡å˜é‡å®šä¹‰å½“çœ‹åˆ°Pythonçš„å˜é‡å®šä¹‰æ–¹å¼æ—¶, è®©æˆ‘æœ‰ä¸€ç‚¹æ„å¤–.å³æ²¡æœ‰å˜é‡çš„ç±»åž‹è¯´æ˜Žç¬¦, ä¹Ÿæ²¡æœ‰å®šä¹‰å˜é‡çš„æ ‡å¿—ç¬¦(å¦‚: JavaScriptçš„var, VBçš„Dim)1x = 1 è¿™æ ·, å°±å®šä¹‰ä¸€ä¸ªå˜é‡ x è¿™ä¸ªå˜é‡çš„ç±»åž‹, å–å†³äºŽå˜é‡æŒ‡å‘çš„å€¼. è¡Œå°¾ä¸èƒ½åŠ åˆ†å·, è®©æˆ‘ä¹Ÿæ˜¯çº ç»“äº†å¥½ä¸€ä¼šå„¿, ä¸è¿‡è¿˜æ˜¯è¦å…¥ä¹¡éšä¿—çš„, æ…¢æ…¢ä¹ æƒ¯äº†å°±å¥½. æ•°æ®ç±»åž‹åŸºæœ¬æ•°æ®ç±»åž‹åŸºæœ¬æ•°æ®ç±»åž‹åŒ…æ‹¬ int, float, str, bool æµ‹è¯•åŸºæœ¬æ•°æ®ç±»åž‹:12345678i = 1f = 2.0s = "jack"b = Trueprint("i type", type(i))print("f type", type(f))print("s type", type(s))print("b type", type(b)) æ‰§è¡Œç»“æžœ: å±€éƒ¨å˜é‡123456789x = 50def func(x): print('x is', x) x = 2 # è¿™é‡Œä¿®æ”¹çš„æ˜¯å±€éƒ¨å˜é‡ print('Changed local x to', x)func(x)print('x is still', x) æ‰§è¡Œç»“æžœ: x is 50 Changed local x to 2 x is still 50 fun(x) æ–¹æ³•ä¸­, x ä½œä¸ºå½¢å‚ä¼ è¿›æ–¹æ³•ä½“ä¸­è¿›è¡Œè¿ç®—, æ–¹æ³•ä½“ä¸­è®¤ä¸º x æ˜¯å±€éƒ¨å˜é‡ å…¨å±€å˜é‡12345678910x = 50def func(): global x print('x is', x) x = 2 # è¿™æ—¶ä¿®æ”¹çš„æ˜¯å…¨å±€å˜é‡ print('Changed global x to', x)func()print('Value of x is', x) è¾“å‡ºç»“æžœ: x is 50 Changed global x to 2 Value of x is 2 x æ˜¾ç„¶æœªåœ¨func() æ–¹æ³•ä¸­, æ•…ç”¨ global å£°æ˜Ž x ä¸ºå…¨å±€å˜é‡, ä½¿ç”¨å¤–é¢çš„xå˜é‡ å¸¸ç”¨çš„æ•°æ®ç±»åž‹ list tuple set dictionarylist (æ•°ç»„)123arr = [1, "jack", 9.7, True]print(arr)print(type(arr)) æ‰§è¡Œç»“æžœ: åŒæ ·æˆ‘ä»¬ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„:12arr = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]print(arr[1][1]) # 5 å½“æ•°ç»„ä¸­çš„å†…å®¹ä¸å›ºå®šæ—¶, æˆ‘ä»¬è¿˜å¯ä»¥åŠ¨æ€æ“ä½œ list:123456789arr = []arr.append("A")arr.append("B")arr.append("C")arr.insert(1, "X")arr.remove("B")arr.pop()arr.pop(0)print(arr) append: å°†åœ¨æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ insert: å°†åœ¨æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ remove: åˆ é™¤æŒ‡å®šå…ƒç´ pop: åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ , å¦‚æžœæ²¡æœ‰æŒ‡å®šä½ç½®, åˆ™åˆ é™¤æœ«å°¾å…ƒç´  tuple(å…ƒç»„)tupleå’Œlistéžå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯tupleä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹1234classmates = ('Michael', 'Bob', 'Tracy')print('classmates =', classmates)print('classmates[0] =', classmates[0])classmates[0] = "Jack" # TypeError: 'tuple' object does not support item assignment ä½†æ˜¯å½“tupleä¸­å«æœ‰ list, set, dictionaryæ—¶, æƒ…å†µå°±ä¸ä¸€æ ·äº†123classmates = ('Michael', ["a", "b"])classmates[1].append("c")print('classmates =', classmates) æ‰§è¡Œç»“æžœ: classmates = (â€˜Michaelâ€™, [â€˜aâ€™, â€˜bâ€™, â€˜câ€™]) çœ‹ä¸ŠåŽ» classmates æ”¹å˜äº†, ä½†å®žé™…ä¸Š classmates æ˜¯æ²¡æœ‰å˜çš„. classmates[1]æŒ‡å‘çš„listçš„æŒ‡é’ˆæ˜¯æ²¡æœ‰å˜çš„, æ”¹å˜çš„æ˜¯æŒ‡é’ˆæŒ‡å‘çš„list set(é›†åˆ)setæœ‰ä¸€ä¸ªç‰¹æ€§, å°±æ˜¯å…ƒç´ çš„å†…å®¹æ˜¯å”¯ä¸€çš„, è¿˜æœ‰setå’Œtupleä¸€æ ·, åªå¯ä»¥æ·»åŠ ä¸å¯å˜çš„å€¼123456789101112131415s = set([1, 2, 3]) # åˆå§‹åŒ–Setæ—¶, åªèƒ½æŽ¥æ”¶lists.add(4)s.add((4, 5)) # set åªå¯ä»¥æ·»åŠ ä¸å¯å˜çš„å€¼s.add((4, 5)) # ä¸ä¼šé‡å¤æ·»åŠ s.add((4, 5, 6))x = "ABC"s.add(x)x = "XYZ" # è™½ç„¶ x æ”¹å˜äº†æŒ‡é’ˆæŒ‡å‘, ä½†setä¸­åŽŸæ¥æ·»åŠ çš„å¹¶ä¸æ˜¯å˜é‡x, è€Œæ˜¯xæ‰€æŒ‡å‘çš„"ABC"# s.add([1, 2, 5]) # set ä¸èƒ½æ·»åŠ å¯å˜çš„å…ƒç´ s.remove(1)s.remove((4, 5, 6))# s.remove(5) # KeyError: 5print(s) æ‰§è¡Œç»“æžœ: dictionary(å­—å…¸)1234567891011121314151617181920dictionary = &#123; "name" : "å°æ˜Ž", "age" : 23, "phone":"18733774869", "age" : 24 # è¿™æ ·æ˜¯å¯ä»¥çš„, æ–°å€¼ä¼šè¦†ç›–æ—§å€¼, ä½†å®žé™…æƒ…å†µä¸­è¿™æ ·æ²¡æœ‰æ„ä¹‰&#125;dictionary["age"] = dictionary["age"] + 1 # ä¿®æ”¹dictionaryä¸­æŒ‡å®škeyçš„å€¼dictionary["address"] = "åŒ—äº¬, ä¸°å°åŒº" # å‘dictionaryä¸­æ·»åŠ æ–°çš„å…ƒç´ print(isinstance(dictionary["phone"], str))print(isinstance(dictionary["age"], int))print(isinstance(dictionary["name"], str))print(dictionary["age"])if "age" in dictionary: # åˆ¤æ–­dictionaryä¸­, æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„key print(dictionary["age"])for key in dictionary: print(key, '\t =&gt; \t', dictionary[key])print(dictionary.pop("age")) # åˆ é™¤æŒ‡å®šçš„keyprint(dictionary.get("Age")) # None# print(dictionary["Age"]) # KeyError: 'Age'print(dictionary.get("Age", -1)) # -1, è‹¥Mapä¸­æ²¡å¯¹åº”çš„key, åˆ™è¿”å›žæŒ‡å®šçš„é»˜è®¤å€¼]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python çŽ¯å¢ƒçš„å®‰è£…ä¸ŽHelloWord]]></title>
    <url>%2F2017%2F12%2F23%2Farticle%2Fpython%2Farticle-python_01%2F</url>
    <content type="text"><![CDATA[Python çŽ¯å¢ƒçš„å®‰è£…ä¸ŽHelloWord Python ä½œä¸ºä¸€ç§è§£é‡Šåž‹è¯­è¨€, æœ€è¿‘å‡ å¹´ä»–çš„å½±å“åŠ›æ¸æ¸æ‰©å¤§.è¯´æ¥å¯ç¬‘, æˆ‘è¯´æƒ³å­¦Pythonçš„åŽŸå› , æ˜¯æƒ³ç”¨ Python å†™ä¸€ä¸ªçˆ¬è™«ç¨‹åº, åŽ»çˆ¬å–ç½‘æ˜“äº‘éŸ³ä¹ä¸­çš„MV. ä¸€å¼€å§‹å°±åœ¨ç½‘ä¸Šæ‰¾ä¸€äº›çˆ¬è™«çš„ä»£ç çš„ç¤ºä¾‹, å‘çŽ°å®Œå…¨ä¸æ‡‚, äºŽæ˜¯å°±æƒ³ç³»ç»Ÿçš„å­¦ä¹ ä¸€ä¸‹è¿™é—¨è¯­è¨€. ä¹‹å‰ä¹ŸæŽ¥è§¦è¿‡å…¶ä»–çš„è§£é‡Šåž‹è¯­è¨€(JavaScript), æˆ‘æƒ³åº”è¯¥ä¸ä¼šè¿‡è´¹åŠ›. é¦–å…ˆ, å®‰è£…çŽ¯å¢ƒ, é€‰æ‹©IDE æˆ‘å®‰è£…çš„æ˜¯ Python 3 IDE æˆ‘ç”¨çš„æ˜¯ Sublime Text 3 é…ç½® IDE (å‰ææ˜¯pythonè¦åŠ åˆ°çŽ¯å¢ƒå˜é‡ä¸­, è¿™åœ¨å®‰è£…æ—¶, å°±å·²ç»ä¿®æ”¹è¿‡äº†)123456789101112131415&#123; "shell_cmd": "python -u \"$file\"", "file_regex": "^[ ]*File \"(...*?)\", line ([0-9]*)", "selector": "source.python", "env": &#123;"PYTHONIOENCODING": "utf-8"&#125;, "variants": [ &#123; "name": "Customize Python", "shell_cmd": "python \"$&#123;file&#125;\"", &#125; ]&#125; ç¼–å†™ Hello World åœ¨ç¼–å†™ç¨‹åºä¹‹å‰, ç»™Pythonä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œç©ºé—´ åˆ›å»º hello.py åœ¨æ–‡ä»¶ä¸­, ç›´æŽ¥å†™ä¸‹é¢è¿™ä¸€å¥, å°±æ˜¯å¯ä»¥æ‰§è¡Œäº†1print(&quot;Hello World!&quot;) å…ˆä½“éªŒä¸€ä¸‹Pythonçš„å‘½ä»¤è¡Œ:åœ¨hello.pyæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸‹, è°ƒå‡ºå‘½ä»¤è¡Œæ‰§è¡Œ python hello.py æ‰§è¡Œç»“æžœ: ä¹Ÿå¯ä»¥åœ¨ Sublime Text 3 ä¸­æŒ‰ Ctrl + B æ‰§è¡Œç»“æžœ:]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cookie, Session, Token]]></title>
    <url>%2F2017%2F04%2F25%2Fnode%2Fnode-cookie-session-token%2F</url>
    <content type="text"><![CDATA[Cookie, Session, Tokençš„åŒºåˆ«ä¸Žè”ç³» Cookie, Session, Token è¿™ä¸‰è€…éƒ½è§£å†³äº†HTTPåè®®æ— çŠ¶æ€çš„é—®é¢˜ Cookieæœºåˆ¶Cookieæœºåˆ¶ æ˜¯é‡‡ç”¨åœ¨å®¢æˆ·ç«¯ä¿æŒçŠ¶æ€çš„æ–¹æ¡ˆ. Cookieçš„ä½¿ç”¨æ˜¯ç”±æµè§ˆå™¨æŒ‰ç…§ä¸€å®šçš„åŽŸåˆ™åœ¨åŽå°è‡ªåŠ¨å‘é€ç»™æœåŠ¡å™¨çš„ã€‚æµè§ˆå™¨æ£€æŸ¥æ‰€æœ‰å­˜å‚¨çš„Cookieï¼Œå¦‚æžœæŸä¸ªCookieæ‰€å£°æ˜Žçš„ä½œç”¨èŒƒå›´å¤§äºŽç­‰äºŽå°†è¦è¯·æ±‚çš„èµ„æºæ‰€åœ¨çš„ä½ç½®ï¼Œåˆ™æŠŠè¯¥Cookieé™„åœ¨è¯·æ±‚èµ„æºçš„HTTPè¯·æ±‚å¤´ä¸Šå‘é€ç»™æœåŠ¡å™¨ã€‚ Cookieçš„å†…å®¹ä¸»è¦åŒ…æ‹¬ï¼šåå­—ã€å€¼ã€è¿‡æœŸæ—¶é—´ã€è·¯å¾„å’ŒåŸŸã€‚è·¯å¾„ä¸ŽåŸŸä¸€èµ·æž„æˆCookieçš„ä½œç”¨èŒƒå›´ã€‚ è‹¥ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªCookieçš„ç”Ÿå‘½æœŸä¸ºæµè§ˆå™¨ä¼šè¯æœŸé—´ï¼Œå…³é—­æµè§ˆå™¨çª—å£ï¼ŒCookieå°±æ¶ˆå¤±ã€‚è¿™ç§ç”Ÿå‘½æœŸä¸ºæµè§ˆå™¨ä¼šè¯æœŸçš„Cookieè¢«ç§°ä¸º ä¼šè¯Cookie. ä¼šè¯Cookieä¸€èˆ¬ä¸å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯ä¿å­˜åœ¨å†…å­˜é‡Œ. è‹¥è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œæµè§ˆå™¨å°±ä¼šæŠŠCookieä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œå…³é—­åŽå†æ¬¡æ‰“å¼€æµè§ˆå™¨ï¼Œè¿™äº›Cookieä»ç„¶æœ‰æ•ˆç›´åˆ°è¶…è¿‡è®¾å®šçš„è¿‡æœŸæ—¶é—´ã€‚å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„cookieå¯ä»¥åœ¨ä¸åŒçš„æµè§ˆå™¨è¿›ç¨‹é—´å…±äº«ï¼Œæ¯”å¦‚ä¸¤ä¸ªIEçª—å£ã€‚è€Œå¯¹äºŽä¿å­˜åœ¨å†…å­˜é‡ŒCookieï¼Œä¸åŒçš„æµè§ˆå™¨æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚ Session æœºåˆ¶Sessionæœºåˆ¶æ˜¯ä¸€ç§æœåŠ¡å™¨ç«¯çš„æœºåˆ¶ï¼ŒæœåŠ¡å™¨ä½¿ç”¨ä¸€ç§ç±»ä¼¼äºŽæ•£åˆ—è¡¨çš„ç»“æž„ï¼ˆä¹Ÿå¯èƒ½å°±æ˜¯ä½¿ç”¨æ•£åˆ—è¡¨ï¼‰æ¥ä¿å­˜ä¿¡æ¯ã€‚ å½“ç¨‹åºéœ€è¦ä¸ºæŸä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚åˆ›å»ºä¸€ä¸ªSessionæ—¶ï¼ŒæœåŠ¡å™¨é¦–å…ˆæ£€æŸ¥è¿™ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚é‡Œæ˜¯å¦å·²åŒ…å«äº†ä¸€ä¸ªSessionæ ‡è¯†ï¼ˆç§°ä¸ºsession idï¼‰ï¼Œå¦‚æžœå·²åŒ…å«åˆ™è¯´æ˜Žä»¥å‰å·²ç»ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºè¿‡session,æœåŠ¡å™¨å°±æŒ‰ç…§session idæŠŠè¿™ä¸ªsessionæ£€ç´¢å‡ºæ¥ä½¿ç”¨ï¼ˆæ£€ç´¢ä¸åˆ°ï¼Œä¼šæ–°å»ºä¸€ä¸ªï¼‰ï¼Œå¦‚æžœå®¢æˆ·ç«¯è¯·æ±‚ä¸åŒ…å«session idï¼Œåˆ™ä¸ºæ­¤å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªsessionå¹¶ä¸”ç”Ÿæˆä¸€ä¸ªä¸Žæ­¤sessionç›¸å…³è”çš„session idï¼Œsession idçš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªæ—¢ä¸ä¼šé‡å¤ï¼Œåˆä¸å®¹æ˜“è¢«æ‰¾åˆ°è§„å¾‹ä»¥ä¼ªé€ çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªsession idå°†è¢« åœ¨æœ¬æ¬¡å“åº”ä¸­è¿”å›žç»™å®¢æˆ·ç«¯ä¿å­˜ã€‚ä¿å­˜è¿™ä¸ªsession idçš„æ–¹å¼å¯ä»¥é‡‡ç”¨cookieï¼Œè¿™æ ·åœ¨äº¤äº’è¿‡ç¨‹ä¸­æµè§ˆå™¨ å¯ä»¥è‡ªåŠ¨çš„æŒ‰ç…§è§„åˆ™æŠŠè¿™ä¸ªæ ‡è¯†å‘é€ç»™æœåŠ¡å™¨ã€‚ä¸€èˆ¬è¿™ä¸ªcookieçš„åå­—å°±æ˜¯ç±»ä¼¼äºŽSESSIONIDã€‚ ç”±äºŽcookieå¯ä»¥è¢«äººä¸ºçš„ç¦æ­¢ï¼Œå¿…é¡»æœ‰å…¶ä»–æœºåˆ¶ä»¥ä¾¿åœ¨cookieè¢«ç¦æ­¢æ—¶ä»ç„¶èƒ½å¤ŸæŠŠsession idä¼ é€’å›žæœåŠ¡å™¨ã€‚ ä¸¤ç§æ–¹å¼ï¼š ç¬¬ä¸€ç§ï¼šURLé‡å†™ï¼ˆå¸¸ç”¨ï¼‰ï¼Œå°±æ˜¯æŠŠsession idç›´æŽ¥é™„åŠ åœ¨URLè·¯å¾„çš„åŽé¢ã€‚ ç¬¬äºŒç§ï¼šè¡¨å•éšè—å­—æ®µï¼ˆçŽ°å·²å¾ˆå°‘ä½¿ç”¨ï¼‰ã€‚å°±æ˜¯æœåŠ¡å™¨ä¼šè‡ªåŠ¨ä¿®æ”¹è¡¨å•ï¼Œæ·»åŠ ä¸€ä¸ªéšè—å­—æ®µï¼Œä»¥ä¾¿åœ¨è¡¨å•æäº¤æ—¶èƒ½å¤ŸæŠŠsession idä¼ é€’å›žæœåŠ¡å™¨ã€‚ Ps: GitHub è²Œä¼¼æ²¡æ‰“ç®—ç”¨è¿™ä¸¤ç§æ–¹å¼: â€œCookies must be enabled to use GitHub.â€ Tokenæœºåˆ¶Tokençš„æ„æ€æ˜¯â€œä»¤ç‰Œâ€ï¼Œæ˜¯ç”¨æˆ·èº«ä»½çš„éªŒè¯æ–¹å¼ï¼Œæœ€ç®€å•çš„Tokenç»„æˆ:uid(ç”¨æˆ·å”¯ä¸€çš„èº«ä»½æ ‡è¯†)ã€time(å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³)ã€sign(ç­¾å)ï¼Œç”±Tokençš„å‰å‡ ä½+ç›ä»¥å“ˆå¸Œç®—æ³•åŽ‹ç¼©æˆä¸€å®šé•¿çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¯ä»¥é˜²æ­¢æ¶æ„ç¬¬ä¸‰æ–¹æ‹¼æŽ¥Tokenè¯·æ±‚æœåŠ¡å™¨ã€‚è¿˜å¯ä»¥æŠŠä¸å˜çš„å‚æ•°ä¹Ÿæ”¾è¿›Tokenï¼Œé¿å…å¤šæ¬¡æŸ¥åº“ Cookie ä¸Ž Session ä¼ ç»Ÿèº«ä»½éªŒè¯çš„æ–¹æ³•HTTP æ˜¯ä¸€ç§æ²¡æœ‰çŠ¶æ€çš„åè®®ï¼Œä¹Ÿå°±æ˜¯å®ƒå¹¶ä¸çŸ¥é“æ˜¯è°æ˜¯è®¿é—®åº”ç”¨ã€‚è¿™é‡Œæˆ‘ä»¬æŠŠç”¨æˆ·çœ‹æˆæ˜¯å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨ç”¨æˆ·åè¿˜æœ‰å¯†ç é€šè¿‡äº†èº«ä»½éªŒè¯ï¼Œä¸è¿‡ä¸‹å›žè¿™ä¸ªå®¢æˆ·ç«¯å†å‘é€è¯·æ±‚æ—¶å€™ï¼Œè¿˜å¾—å†éªŒè¯ä¸€ä¸‹ã€‚ è§£å†³çš„æ–¹æ³•å°±æ˜¯ï¼Œå½“ç”¨æˆ·è¯·æ±‚ç™»å½•çš„æ—¶å€™ï¼Œå¦‚æžœæ²¡æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨æœåŠ¡ç«¯ç”Ÿæˆä¸€æ¡è®°å½•ï¼Œè¿™ä¸ªè®°å½•é‡Œå¯ä»¥è¯´æ˜Žä¸€ä¸‹ç™»å½•çš„ç”¨æˆ·æ˜¯è°ï¼Œç„¶åŽæŠŠè¿™æ¡è®°å½•çš„ ID å·å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°ä»¥åŽæŠŠè¿™ä¸ª ID å·å­˜å‚¨åœ¨ Cookie é‡Œï¼Œä¸‹æ¬¡è¿™ä¸ªç”¨æˆ·å†å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œå¯ä»¥å¸¦ç€è¿™ä¸ª Cookie ï¼Œè¿™æ ·æœåŠ¡ç«¯ä¼šéªŒè¯ä¸€ä¸ªè¿™ä¸ª Cookie é‡Œçš„ä¿¡æ¯ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åœ¨æœåŠ¡ç«¯è¿™é‡Œæ‰¾åˆ°å¯¹åº”çš„è®°å½•ï¼Œå¦‚æžœå¯ä»¥ï¼Œè¯´æ˜Žç”¨æˆ·å·²ç»é€šè¿‡äº†èº«ä»½éªŒè¯ï¼Œå°±æŠŠç”¨æˆ·è¯·æ±‚çš„æ•°æ®è¿”å›žç»™å®¢æˆ·ç«¯ã€‚ ä¸Šé¢è¯´çš„å°±æ˜¯ Sessionï¼Œæˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡ç«¯å­˜å‚¨ä¸ºç™»å½•çš„ç”¨æˆ·ç”Ÿæˆçš„ Session ï¼Œè¿™äº› Session å¯èƒ½ä¼šå­˜å‚¨åœ¨å†…å­˜ï¼Œç£ç›˜ï¼Œæˆ–è€…æ•°æ®åº“é‡Œã€‚æˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨æœåŠ¡ç«¯å®šæœŸçš„åŽ»æ¸…ç†è¿‡æœŸçš„ Session ã€‚ åŸºäºŽ Token çš„èº«ä»½éªŒè¯æ–¹æ³• ä½¿ç”¨åŸºäºŽ Token çš„èº«ä»½éªŒè¯æ–¹æ³•ï¼Œåœ¨æœåŠ¡ç«¯ä¸éœ€è¦å­˜å‚¨ç”¨æˆ·çš„ç™»å½•è®°å½•ã€‚å¤§æ¦‚çš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼š å®¢æˆ·ç«¯ä½¿ç”¨ç”¨æˆ·åè·Ÿå¯†ç è¯·æ±‚ç™»å½• æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼ŒåŽ»éªŒè¯ç”¨æˆ·åä¸Žå¯†ç  éªŒè¯æˆåŠŸåŽï¼ŒæœåŠ¡ç«¯ä¼šç­¾å‘ä¸€ä¸ª Tokenï¼Œå†æŠŠè¿™ä¸ª Token å‘é€ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ”¶åˆ° Token ä»¥åŽå¯ä»¥æŠŠå®ƒå­˜å‚¨èµ·æ¥ï¼Œæ¯”å¦‚æ”¾åœ¨ Cookie é‡Œæˆ–è€… Local Storage é‡Œ å®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡ç«¯è¯·æ±‚èµ„æºçš„æ—¶å€™éœ€è¦å¸¦ç€æœåŠ¡ç«¯ç­¾å‘çš„ Token æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œç„¶åŽåŽ»éªŒè¯å®¢æˆ·ç«¯è¯·æ±‚é‡Œé¢å¸¦ç€çš„ Tokenï¼Œå¦‚æžœéªŒè¯æˆåŠŸï¼Œå°±å‘å®¢æˆ·ç«¯è¿”å›žè¯·æ±‚çš„æ•°æ® æ‰“ç ´è¯¯è§£ åªè¦å…³é—­æµè§ˆå™¨ ï¼Œsessionå°±æ¶ˆå¤±äº†ï¼Ÿ ä¸å¯¹ã€‚å¯¹Sessionæ¥è¯´ï¼Œé™¤éžç¨‹åºé€šçŸ¥æœåŠ¡å™¨åˆ é™¤ä¸€ä¸ª Sessionï¼Œå¦åˆ™æœåŠ¡å™¨ä¼šä¸€ç›´ä¿ç•™ï¼Œç¨‹åºä¸€èˆ¬éƒ½æ˜¯åœ¨ç”¨æˆ·åšlog offçš„æ—¶å€™å‘ä¸ªæŒ‡ä»¤åŽ»åˆ é™¤Sessionã€‚ ç„¶è€Œæµè§ˆå™¨ä»Žæ¥ä¸ä¼šä¸»åŠ¨åœ¨å…³é—­ä¹‹å‰é€šçŸ¥æœåŠ¡å™¨å®ƒå°†è¦å…³é—­ï¼Œå› æ­¤æœåŠ¡å™¨æ ¹æœ¬ä¸ä¼šæœ‰æœºä¼šçŸ¥é“æµè§ˆå™¨å·²ç»å…³é—­ï¼Œä¹‹æ‰€ä»¥ä¼šæœ‰è¿™ç§é”™è§‰ï¼Œæ˜¯å¤§éƒ¨åˆ†Sessionæœºåˆ¶éƒ½ä½¿ç”¨ä¼šè¯Cookieæ¥ä¿å­˜session idï¼Œè€Œå…³é—­æµè§ˆå™¨åŽè¿™ä¸ªsession idå°±æ¶ˆå¤±äº†ï¼Œå†æ¬¡è¿žæŽ¥æœåŠ¡å™¨æ—¶ä¹Ÿå°±æ— æ³•æ‰¾åˆ°åŽŸæ¥çš„Sessionã€‚å¦‚æžœæœåŠ¡å™¨è®¾ç½®çš„Cookieè¢«ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œæˆ–è€…ä½¿ç”¨æŸç§æ‰‹æ®µæ”¹å†™æµè§ˆå™¨å‘å‡ºçš„HTTPè¯·æ±‚å¤´ï¼ŒæŠŠåŽŸæ¥çš„session idå‘é€ç»™æœåŠ¡å™¨ï¼Œåˆ™å†æ¬¡æ‰“å¼€æµè§ˆå™¨ä»ç„¶èƒ½å¤Ÿæ‰“å¼€åŽŸæ¥çš„Session. æ°æ°æ˜¯ç”±äºŽå…³é—­æµè§ˆå™¨ä¸ä¼šå¯¼è‡´Sessionè¢«åˆ é™¤ï¼Œè¿«ä½¿æœåŠ¡å™¨ä¸ºSessionè®¾ç½®äº†ä¸€ä¸ªå¤±æ•ˆæ—¶é—´ï¼Œå½“è·ç¦»å®¢æˆ·ç«¯ä¸Šä¸€æ¬¡ä½¿ç”¨Sessionçš„æ—¶é—´è¶…è¿‡è¿™ä¸ªå¤±æ•ˆæ—¶é—´æ—¶ï¼ŒæœåŠ¡å™¨å°±å¯ä»¥ä»¥ä¸ºå®¢æˆ·ç«¯å·²ç»åœæ­¢äº†æ´»åŠ¨ï¼Œæ‰ä¼šæŠŠSessionåˆ é™¤ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Cookie</tag>
        <tag>Session</tag>
        <tag>Token</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽOracle çš„NULL]]></title>
    <url>%2F2016%2F12%2F30%2Fnode%2Fdatabase%2Fnode-oracle_04%2F</url>
    <content type="text"><![CDATA[å…³äºŽOracle çš„NULL åŽŸæœ¬è®¾æƒ³ ä¸¤æ•°ç›¸åŠ  123select a+b from ( select 11 A, 22 B from dual) ç»“æžœ: 33 ä½†æ˜¯å¦‚æžœå…¶ä¸­ä¸€ä¸ªæ•°ä¸ºNULLæ—¶ 123select a+b from ( select null A, 22 B from dual) ç»“æžœ: nullæ²¡æœ‰å¾—åˆ°æˆ‘ä»¬é¢„æœŸçš„ç»“æžœ: 22 æ­£ç¡®çš„å†™æ³•: 123select nvl(a,0)+nvl(b,0) from ( select null A, 22 B from dual) ç»“æžœ: 22 NULLå‚åŠ ç»Ÿè®¡ 123456789select count(A) from ( select 1 A from dual union select 2 A from dual union select 3 A from dual union select 4 A from dual) ç»“æžœ: 4 å¦‚æžœç»Ÿè®¡çš„æ•°æ®ä¸­æœ‰NULLå€¼ï¼š 123456789select count(A) from ( select 1 A from dual union select 2 A from dual union select null A from dual union select 4 A from dual) ç»“æžœ: 3 æ˜¾ç„¶æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬è®¡æ•°ç»Ÿè®¡çš„éœ€æ±‚åº”è¯¥å†™æˆè¿™æ ·: 123456789select count(decode(A, null, 1, 1)) from ( select 1 A from dual union select 2 A from dual union select null A from dual union select 4 A from dual) ç»“æžœ: 4]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€å•çš„ Oracle Function]]></title>
    <url>%2F2016%2F12%2F04%2Fnode%2Fdatabase%2Fnode-oracle_05%2F</url>
    <content type="text"><![CDATA[ç®€å•çš„ Oracle Function 1234567891011-- ç®€å•çš„ Functioncreate or replace function get_sal(a in number, b in number) return number is result number; begin result := a + b; return(result); end;-- è°ƒç”¨ Functionselect get_sal(1,2) from dual;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾ªçŽ¯å¼•ç”¨ to JSON]]></title>
    <url>%2F2016%2F09%2F24%2Fnode%2Fjava%2Fnode-j2se_02%2F</url>
    <content type="text"><![CDATA[å¾ªçŽ¯å¼•ç”¨ to JSON DisableCircularReferenceDetectæ¥ç¦æ­¢å¾ªçŽ¯å¼•ç”¨æ£€æµ‹ï¼š JSON.toJSONString(â€¦, SerializerFeature.DisableCircularReferenceDetect) å½“è¿›è¡ŒtoJSONStringçš„æ—¶å€™ï¼Œé»˜è®¤å¦‚æžœé‡ç”¨å¯¹è±¡çš„è¯ï¼Œä¼šä½¿ç”¨å¼•ç”¨çš„æ–¹å¼è¿›è¡Œå¼•ç”¨å¯¹è±¡ã€‚ 12345678910&#123; "é¢œè‰²": [ &#123; "$ref": "$.itemSkuList[0].itemSpecificationList[0]" &#125;, &#123; "$ref": "$.itemSkuList[1].itemSpecificationList[0]" &#125; ]&#125; å¾ªçŽ¯å¼•ç”¨å¾ˆå¤šåœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åºåˆ—åŒ–çš„å¯¹è±¡ä¸­å­˜åœ¨å¾ªçŽ¯å¼•ç”¨ï¼Œåœ¨è®¸å¤šçš„jsonåº“ä¸­ï¼Œè¿™ä¼šå¯¼è‡´stackoverflowã€‚åœ¨åŠŸèƒ½å¼ºå¤§çš„fastjsonä¸­ï¼Œä½ ä¸éœ€è¦æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚ä¾‹å¦‚: 123456A a = new A();B b = new B(a);a.setB(b);String text = JSON.toJSONString(a); //&#123;"b":&#123;"a":&#123;"$ref":".."&#125;&#125;&#125;A a1 = JSON.parseObject(text, A.class);Assert.assertTrue(a1 == a1.getB().getA()); å¼•ç”¨æ˜¯é€šè¿‡â€$refâ€æ¥è¡¨ç¤ºçš„ å¼•ç”¨ æè¿° â€œ$refâ€:â€..â€ ä¸Šä¸€çº§ â€œ$refâ€:â€@â€ å½“å‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è‡ªå¼•ç”¨ â€œ$refâ€:â€ Â¥â€ æ ¹å¯¹è±¡ â€œ$refâ€:â€ Â¥.children.0â€ åŸºäºŽè·¯å¾„çš„å¼•ç”¨ï¼Œç›¸å½“äºŽ root.getChildren().get(0)]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VBA æ“ä½œ Excel æ•°æ®ç­›æŸ¥]]></title>
    <url>%2F2016%2F09%2F22%2Fnode%2Fnode-vba_1%2F</url>
    <content type="text"><![CDATA[VBA æ“ä½œ Excel æ•°æ®ç­›æŸ¥ ä»Šå¤©è¦ç»Ÿè®¡ç¨‹åºä¸­ç”¨åˆ°äº†å“ªäº›è¡¨, ç»Ÿè®¡å‡ºæ¥, å‘çŽ°æœ‰å¾ˆå¤šé‡å¤çš„å°±æƒ³åˆ°ç”¨Excelç­›ä¸€ä¸‹ 1234567891011121314151617181920212223242526272829303132Sub cal()'' cal å®' Dim num As Integer Dim dataCol As Integer Dim maxRow As Integer Dim resultCol As Integer num = 1 dataCol = 4 maxRow = 2728 resultCol = 6 For i = 1 To maxRow For j = i + 1 To maxRow If Cells(i, dataCol) = Cells(j, dataCol) And Not Cells(j, dataCol).Interior.Color = 65535 Then Cells(j, dataCol).Interior.Color = 65535 End If Next Next For i = 1 To maxRow If Not Cells(i, dataCol).Interior.Color = 65535 Then Cells(num, resultCol) = Cells(i, dataCol) num = num + 1 End If NextEnd Sub è‡ªå®šä¹‰äº†ä¸€ä¸ªå®, å¤„ç†è¿™ä¸ªé—®é¢˜]]></content>
      <categories>
        <category>VBA</category>
      </categories>
      <tags>
        <tag>VBA</tag>
        <tag>Excel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle ä¸´æ—¶è¡¨]]></title>
    <url>%2F2016%2F09%2F19%2Fnode%2Fdatabase%2Fnode-oracle_06%2F</url>
    <content type="text"><![CDATA[Oracle ä¸´æ—¶è¡¨ Oracle ä¸´æ—¶è¡¨ä¸´æ—¶è¡¨ç©ºé—´åˆ†é…ä¸€å—å†…å­˜ç©ºé—´ã€‚ä¹Ÿå°±æ˜¯è¯´åªæœ‰å‘ä¸´æ—¶è¡¨ä¸­æ’å…¥æ•°æ®æ—¶ï¼Œæ‰ä¼šç»™ä¸´æ—¶è¡¨åˆ†é…å­˜å‚¨ç©ºé—´ã€‚ä¸´æ—¶è¡¨åˆ†äº‹åŠ¡çº§ä¸´æ—¶è¡¨å’Œä¼šè¯çº§ä¸´æ—¶è¡¨ã€‚äº‹åŠ¡çº§ä¸´æ—¶è¡¨åªå¯¹å½“å‰äº‹åŠ¡æœ‰æ•ˆï¼Œé€šè¿‡è¯­å¥ï¼šON COMMIT DELETE ROWS è¯­å¥æŒ‡å®šã€‚ä¼šè¯çº§ä¸´æ—¶è¡¨å¯¹å½“å‰ä¼šè¯æœ‰æ•ˆï¼Œé€šè¿‡è¯­å¥ï¼šON COMMIT PRESERVE ROWSè¯­å¥æŒ‡å®šã€‚ ä¼šè¯çº§: åªæœ‰è¯¥ä¼šè¯å¯ä»¥è®¿é—®ä¸´æ—¶è¡¨ä¸­çš„å†…å®¹, å…¶ä»–Session æ— æ³•è®¿é—® Oracle åˆ é™¤å…¶ä»–Sessionä¸­çš„ä¸´æ—¶è¡¨å› ä¸ºè¡¨KOL_XX_FIN050_TEMP ä¸ºä¸´æ—¶è¡¨ï¼Œè€Œä¸”æœ‰å…¶ä»–sessionæ­£åœ¨ä½¿ç”¨ã€‚ å¤„ç†æ­¥éª¤ï¼š å…ˆä»Ž dba_objects / user_objectsä¸­æŸ¥è¯¢åˆ°è¯¥è¡¨çš„object_id: select object_id from dba_objects where object_name=upper(â€˜KOL_XX_FIN050_TEMPâ€™); æ ¹æ®æŸ¥åˆ°çš„object_idçŸ¥é“ä½¿ç”¨è¯¥è¡¨çš„sessionï¼š select * from v$lock where id1=&amp;object_id; åœ¨ä»Žv$sessionè§†å›¾ä¸­æŸ¥åˆ°è¯¥sessionçš„SIDå’ŒSERIAL#ï¼š select * from v$session where sid=331; æ€æŽ‰è¿™äº›è¿›ç¨‹: alter system kill session â€˜SID,SERIAL#â€™;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆè¯† JavaScript é—­åŒ…]]></title>
    <url>%2F2016%2F09%2F19%2Fnode%2Fjavascript%2Fnode-javascript_01%2F</url>
    <content type="text"><![CDATA[åˆè¯† JavaScript é—­åŒ… 12345678910// ç¥žå¥‡çš„é‡åæ–¹æ³•var sayHello = function() &#123; return 'Hello var';&#125;;function sayHello(name) &#123; return 'Hello function';&#125;;alert(sayHello()); JavaScript ä¼šé»˜è®¤å°† Function æåˆ°æœ€å‰é¢. 12345678910var global_var1 = 11;function global_function1(parameter_a)&#123; var local_var1 = 12 ; function local_function1(parameter_b)&#123; return parameter_b + local_var1 + parameter_a + global_var1; &#125; return local_function1 ;&#125;var global_sum = global_function1(13);alert(global_sum(14)); è¿”å›ž 50. global_var1, global_sum å…¨å±€å˜é‡ var global_sum = global_function1(13); æ‰§è¡Œglobal_function1æ–¹æ³•æ—¶, å°†local_function1å‡½æ•°è¿”å›žç»™, global_sum global_sum(14); å› ä¸º global_sum æ˜¯å…¨å±€å˜é‡, æ‰€ä»¥ä¼šä¸€ç›´ä¿å­˜ local_function1 å‡½æ•°åœ¨å†…å­˜ä¸­. åˆå› ä¸º local_function1 ä¾èµ–äºŽ global_function1 æ‰€ä»¥ global_function1 ä¹Ÿä¼šä¿å­˜åœ¨å†…å­˜]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆè¯† JavaScript å‘½åç©ºé—´]]></title>
    <url>%2F2016%2F09%2F19%2Fnode%2Fjavascript%2Fnode-javascript_02%2F</url>
    <content type="text"><![CDATA[åˆè¯† JavaScript å‘½åç©ºé—´ 1234567891011121314151617181920// NameSpace By Functionvar NameSpace = window.NameSpace || &#123;&#125;;NameSpace.Hello = function() &#123; this.name = 'world';&#125;;NameSpace.Hello.prototype.sayHello = function(_name) &#123; return 'Hello ' + (_name || this.name);&#125;;var hello = new NameSpace.Hello();alert(hello.sayHello("JavaScript"));// NameSpace By Objectvar NameSpace = window.NameSpace || &#123;&#125;;NameSpace.Hello = &#123; name: 'World!!', sayHello: function(_name) &#123; return 'Hello ' + (_name || this.name); &#125;&#125;;alert(NameSpace.Hello.sayHello());]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle å­—æ®µå†…å®¹è½¬è¡Œ]]></title>
    <url>%2F2016%2F09%2F13%2Fnode%2Fdatabase%2Fnode-oracle_07%2F</url>
    <content type="text"><![CDATA[Oracle å­—æ®µå†…å®¹è½¬è¡Œ å†…å®¹ä»¥ , åˆ†å‰² , å¤šåˆ—å±•ç¤º 1234SELECT REGEXP_SUBSTR(BHALL, '[^, ]+', 1, ROWNUM) BH FROM (SELECT ('1A000000002702758284, 1A000000002702758285, 1A000000002702758334') BHALL FROM DUAL)CONNECT BY ROWNUM &lt;= LENGTH(BHALL) - LENGTH(REPLACE(BHALL, ',', '')) + 1]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰å¯¹è±¡, ç»‘å®šget, set æ–¹æ³•]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_03%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰å¯¹è±¡, ç»‘å®šget, set æ–¹æ³• è‡ªå®šä¹‰å¯¹è±¡, é€šè¿‡ defineSetter ä¸Ž defineGetter ç»‘å®šget, set æ–¹æ³• 12345678910111213141516var c = &#123;sum:"", show:function(num, num1) &#123; sum = num + num1;&#125;&#125;;c.__defineSetter__('scum', function(y) &#123; this.sum = sum + "..." + y;&#125;);c.__defineGetter__('scum', function() &#123; return "sum = " + sum;&#125;);c.show(1,3);c.scum = "1";alert(c.sum);alert(c.scum);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript æ ¼å¼åŒ–æ—¶é—´ç±»åž‹]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_04%2F</url>
    <content type="text"><![CDATA[JavaScript æ ¼å¼åŒ–æ—¶é—´ç±»åž‹ 12345678910111213141516171819202122232425262728293031Date.prototype.__defineGetter__('year', function() &#123;return this.getFullYear();&#125;);Date.prototype.__defineSetter__('year', function(y) &#123;this.setFullYear(y)&#125;);Date.prototype.__defineGetter__('month', function() &#123;return this.getMonth();&#125;);Date.prototype.__defineSetter__('month', function(m) &#123;this.setMonth(m)&#125;);Date.prototype.format = function(fmt) &#123; //author: meizz var o = &#123; "M+" : this.getMonth()+1, //æœˆä»½ "d+" : this.getDate(), //æ—¥ "H+" : this.getHours(), //å°æ—¶ "m+" : this.getMinutes(), //åˆ† "s+" : this.getSeconds(), //ç§’ "q+" : Math.floor((this.getMonth()+3)/3), //å­£åº¦ "S" : this.getMilliseconds() //æ¯«ç§’ &#125;; if(/(y+)/.test(fmt)) fmt=fmt.replace(RegExp.$1, (this.getFullYear()+"").substr(4 - RegExp.$1.length)); for(var k in o) if(new RegExp("("+ k +")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length))); return fmt; &#125;var now = new Date;now.year = 2007;now.month = 10;alert(now.year);alert(now.month);alert(now.format("yyyy-MM-dd HH:mm:ss"));alert(now.format("yyyy-MM-dd"));]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript å®šä¹‰å¯¹è±¡çš„ä¸¤ç§æ–¹å¼]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_16%2F</url>
    <content type="text"><![CDATA[æ–¹æ³•ä¸€: 12345678var Cat = function() &#123; var sum = "" this.show = function(num, num1) &#123; sum = num + num1; alert("sum = " + sum); &#125;&#125;var c = new Cat(); æ–¹æ³•äºŒ: 123var c = &#123;sum:"", show:function(num, num1) &#123;sum = num + num1; alert("sum = " + sum);&#125;&#125;;c.show(1,1);alert(t);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript å®šä¹‰å¯¹è±¡çš„ä¸¤ç§æ–¹å¼]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_05%2F</url>
    <content type="text"><![CDATA[JavaScript å®šä¹‰å¯¹è±¡çš„ä¸¤ç§æ–¹å¼ æ–¹æ³•ä¸€: 12345678var Cat = function() &#123; var sum = "" this.show = function(num, num1) &#123; sum = num + num1; alert("sum = " + sum); &#125;&#125;var c = new Cat(); æ–¹æ³•äºŒ: 123var c = &#123;sum:"", show:function(num, num1) &#123;sum = num + num1; alert("sum = " + sum);&#125;&#125;;c.show(1,1);alert(t);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SQLè¯­å¥ æŸ¥çœ‹Oracleç‰ˆæœ¬]]></title>
    <url>%2F2016%2F09%2F09%2Fnode%2Fdatabase%2Fnode-oracle_08%2F</url>
    <content type="text"><![CDATA[SQLè¯­å¥ æŸ¥çœ‹Oracleç‰ˆæœ¬ æ–¹æ³•ä¸€ï¼šv$version 1select * from v$version; æ–¹æ³•äºŒï¼šproduct_component_version 1select * from product_component_version; æ–¹æ³•ä¸‰ï¼šdbms_output.put_line( dbms_db_version.version ) 12SET SERVEROUTPUT ON EXEC dbms_output.put_line( dbms_db_version.version );]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery ä¸ä½¿ç”¨ $]]></title>
    <url>%2F2016%2F09%2F05%2Fnode%2Fjavascript%2Fnode-javascript_06%2F</url>
    <content type="text"><![CDATA[jQuery ä¸ä½¿ç”¨ $ äº¤å‡º $ çš„æŽ§åˆ¶æƒ 1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;meta charset="UTF-8"/&gt; &lt;script src="js/jquery.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;script type="text/javascript"&gt; jQuery.noConflict();// äº¤å‡º $ çš„æŽ§åˆ¶æƒ jQuery(document).ready(function() &#123; alert("aaaaaaaaaaaaa") &#125;); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆè®¤ Oracle å­˜å‚¨è¿‡ç¨‹]]></title>
    <url>%2F2016%2F08%2F02%2Fnode%2Fdatabase%2Fnode-oracle_09%2F</url>
    <content type="text"><![CDATA[åˆè®¤ Oracle å­˜å‚¨è¿‡ç¨‹ å­˜å‚¨è¿‡ç¨‹ â€“ åŸºç¡€è¯­æ³•åˆ›å»ºå­˜å‚¨è¿‡ç¨‹123456789CREATE OR REPLACE PROCEDURE å­˜å‚¨è¿‡ç¨‹åå­— ( å‚æ•°1 [&lt;in, out, in out&gt;] æ•°æ®ç±»åž‹, å‚æ•°2 [&lt;in, out, in out&gt;] æ•°æ®ç±»åž‹ ) ISå˜é‡1 INTEGER :=0;å˜é‡2 DATE;BEGINEND; å˜é‡èµ‹å€¼12SELECT åˆ—.... INTO å˜é‡... FROM è¡¨å WHERE æ¡ä»¶....;å˜é‡1 := å€¼; åˆ†æ”¯123IF V_TEST=1 THEN do somethingEND IF; å¾ªçŽ¯123WHILE V_TEST=1 LOOP do somethingEND LOOP; æ¸¸æ ‡1234567-- å®šä¹‰æ¸¸æ ‡ CURSOR æ¸¸æ ‡å IS SELECT åˆ—å.... FROM è¡¨å... WHERE æ¡ä»¶....;-- FOR ... IN ä½¿ç”¨ æ¸¸æ ‡ FOR ä¸´æ—¶å˜é‡å IN æ¸¸æ ‡å LOOP do something END LOOP; å­˜å‚¨è¿‡ç¨‹ â€“ PL/SQL å·¥å…·è°ƒè¯• åœ¨ å¯¹è±¡ çª—å£ä¸­ å³å‡»å­˜å‚¨è¿‡ç¨‹ æ·»åŠ è°ƒè¯•ä¿¡æ¯ é‡æ–°ç¼–è¯‘ æµ‹è¯•]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
        <tag>Procedure</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸€æ¬¡ WebService çš„è°ƒé”™ç»åŽ†]]></title>
    <url>%2F2016%2F07%2F20%2Fnode%2Fjava%2Fnode-j2ee_03%2F</url>
    <content type="text"><![CDATA[Ajaxè°ƒç”¨, å¹¶è§£æžè¿”å›žçš„æ•°æ® 1234567891011javax.xml.ws.WebServiceException is not a valid service. Valid services are:javax.xml.ws.WebServiceException: &#123;&#125;InterServiceImpService is not a valid service. Valid services are: &#123;&#125;InterServiceService at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:249) at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:197) at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:187) at weblogic.wsee.jaxws.spi.WLSServiceDelegate.&lt;init&gt;(WLSServiceDelegate.java:84) at weblogic.wsee.jaxws.spi.WLSProvider$ServiceDelegate.&lt;init&gt;(WLSProvider.java:598) at weblogic.wsee.jaxws.spi.WLSProvider.createServiceDelegate(WLSProvider.java:120) at weblogic.wsee.jaxws.spi.WLSProvider.createServiceDelegate(WLSProvider.java:112) at weblogic.wsee.jaxws.spi.WLSProvider.createServiceDelegate(WLSProvider.java:83) at javax.xml.ws.Service.&lt;init&gt;(Service.java:56) ä»Šå¤©æˆ‘åœ¨è°ƒç”¨ä½¿ç”¨cxfçš„webserviceçš„æ—¶å€™å‡ºçŽ°è¿™ä¸ªå¼‚å¸¸ã€‚ è¿™é‡Œçš„æ„æ€æ˜¯ï¼šInterServiceImpService ä¸æ˜¯å¯ç”¨çš„æœåŠ¡ï¼Œæ­£å¸¸å¯ç”¨çš„æœåŠ¡åº”è¯¥æ˜¯InterServiceServiceã€‚ ä¸çŸ¥é“ä»€ä¹ˆé—®é¢˜ã€‚åŽæ¥å‘çŽ°æˆ‘åœ¨webserviceçš„æœåŠ¡æ–¹å‘å¸ƒæ˜¯çš„InterServiceï¼Œæ‰€ä»¥åœ¨wsdlæ–‡ä»¶ä¸­çš„serverå°±æ˜¯InterServiceServiceï¼Œä½†æ˜¯å‘¢ï¼Œåœ¨å®¢æˆ·ç«¯ä½¿ç”¨çš„æ˜¯InterServiceImpå®žçŽ°ç±»ã€‚è¿™é‡ŒåŒ¹é…ä¸ä¸Šã€‚ æˆ‘å°†å®¢æˆ·ç«¯çš„è°ƒç”¨ç±»InterServiceImpæ”¹ä¸ºInterServiceæˆ–æ˜¯å°†æœåŠ¡ç«¯çš„å‘å¸ƒæ–¹æ³•InterServiceæ”¹ä¸ºInterServiceImpã€‚å°±å¯ä»¥äº†ã€‚]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaWeb</tag>
        <tag>WebService</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript ç¦æ­¢Backspace é”®]]></title>
    <url>%2F2016%2F06%2F13%2Fnode%2Fjavascript%2Fnode-javascript_07%2F</url>
    <content type="text"><![CDATA[JavaScript ç¦æ­¢Backspace é”® 123456789101112131415161718192021&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;ç¦æ­¢åŽé€€é”®&lt;/title&gt; &lt;script type="text/javascript"&gt; function keyDown() &#123; // ç¦æ­¢ä½¿ç”¨backspaceé”® if(window.event.keyCode == 8) &#123; alert("ä¸èƒ½ä½¿ç”¨backspaceé”®"); event.returnValue=false; &#125; // åŽé¢è¿˜å¯ä»¥ç¦æ­¢å…¶å®ƒé”®ï¼Œç…§ç€ä¸Šé¢çš„æ–¹æ³•å†™å°±è¡Œäº† // æ¯”å¦‚ï¼šif(event.shiftKey&amp;&amp;event.keyCode == 121) // å±è”½shift+F10 &#125; &lt;/script&gt; &lt;/head&gt; &lt;body onkeydown="keyDown()" oncontextmenu="event.returnValue=false"&gt; è¯·æŒ‰é€€æ ¼é”®æµ‹è¯• &lt;br&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰JSTLæ ‡ç­¾]]></title>
    <url>%2F2016%2F05%2F25%2Fnode%2Fjava%2Fnode-j2ee_01%2F</url>
    <content type="text"><![CDATA[JavaWebé¡¹ç›®ä¸­, è‡ªå®šä¹‰JSTLæ ‡ç­¾ æœ‰WEB-INFä¸‹å»ºç«‹ä¸€ä¸ªdatetag.tld12345678910111213141516&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;taglib&gt; &lt;tlib-version&gt;1.0&lt;/tlib-version&gt; &lt;jsp-version&gt;1.2&lt;/jsp-version&gt; &lt;tag&gt; &lt;name&gt;date&lt;/name&gt; &lt;tag-class&gt;com.hoolai.pirates.football.util.DateTag&lt;/tag-class&gt; &lt;body-content&gt;JSP&lt;/body-content&gt; &lt;attribute&gt; &lt;name&gt;value&lt;/name&gt; &lt;required&gt;true&lt;/required&gt; &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt; &lt;/attribute&gt; &lt;/tag&gt; &lt;/taglib&gt; æ–°å»ºä¸€ä¸ªç±»DateTag123456789101112131415161718192021222324252627282930313233package pro.yuchen.demo.util; import java.io.IOException; import java.text.SimpleDateFormat; import java.util.Calendar; import javax.servlet.jsp.JspException; import javax.servlet.jsp.tagext.TagSupport; public class DateTag extends TagSupport &#123; private static final long serialVersionUID = -2312310581852395045L; private String value; @Override public int doStartTag() throws JspException &#123; String vv = "" + value; long time = Long.valueOf(vv); Calendar c = Calendar.getInstance(); c.setTimeInMillis(time); SimpleDateFormat dateformat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"); String s = dateformat.format(c.getTime()); try &#123; pageContext.getOut().write(s); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; return super.doStartTag(); &#125; public void setValue(String value) &#123; this.value = value; &#125; &#125; åœ¨jspä¸­å¼•å…¥1&lt;%@ taglib prefix="lzq" uri="/WEB-INF/lib/tld/datetag.tld"%&gt; é¡µé¢ä¸­ç”¨åˆ°çš„åœ°æ–¹123456&lt;td align=&quot;left&quot;&gt; &lt;input name=&quot;endTime&quot; type=&quot;text&quot; value=&quot;&lt;lzq:date value=&quot;$&#123;res.endTime&#125;&quot;/&gt;&quot; class=&quot;input_bg&quot; /&gt;&lt;/td&gt; è¿™æ ·åœ¨servleté‡Œä¼ è¿‡æ¥çš„æ˜¯longï¼Œåœ¨é¡µé¢ä¸Šç”¨jstlå¯ä»¥æ ¼å¼åŒ–ä¸º 2014-05-04 18:18:22]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaWeb</tag>
        <tag>JSTL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle æŸ¥çœ‹è¡¨å¯¹åº”æ³¨é‡Š]]></title>
    <url>%2F2016%2F04%2F19%2Fnode%2Fdatabase%2Fnode-oracle_11%2F</url>
    <content type="text"><![CDATA[Oracle æŸ¥çœ‹è¡¨å¯¹åº”æ³¨é‡Š 12345-- è¡¨æ³¨é‡Šselect * from user_tab_comments;-- å­—æ®µæ³¨é‡Šselect * from user_col_comments;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰ Dialog]]></title>
    <url>%2F2016%2F04%2F01%2Fnode%2Fjavascript%2Fnode-javascript_08%2F</url>
    <content type="text"><![CDATA[è‡ªå®šä¹‰ Dialog Dialog HTML Demo 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt; &lt;head&gt; &lt;title&gt;Dialog Demo&lt;/title&gt; &lt;script src=&quot;js/jquery.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; &lt;script src=&quot;js/dialog.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; &lt;script src=&quot;js/bootstrap.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/bootstrap.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/bootstrap-responsive.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/dialog.css&quot;/&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;mask&quot;&gt;&lt;/div&gt; &lt;/body&gt; &lt;script type=&quot;text/javascript&quot;&gt; // åˆ›å»ºå¯¹è¯æ¡† var dialog = new Dialog(); dialog.createDialog(); // è®¾ç½®å¯¹è¯æ¡†æ ‡é¢˜ dialog.setTitle(&quot;æç¤º&quot;); // è®¾ç½®å¯¹è¯æ¡†æ¶ˆæ¯ dialog.setMessage(&quot;æ˜¯å¦åˆ é™¤è¯¥å›¾ç‰‡?&quot;); // åˆ›å»ºéœ€è¦æ˜¾ç¤ºçš„æŒ‰é’® var list = new Array(); var save = document.createElement(&quot;input&quot;); save.type = &quot;button&quot;; save.setAttribute(&quot;class&quot;,&quot;btn&quot;); save.value = &quot; ä¿ å­˜ &quot;; save.onclick = function() &#123; dialog.hideDialog(); &#125; list[list.length] = save; // è®¾ç½®å¯¹è¯æ¡†æŒ‰é’® dialog.setButtons(list); // æ˜¾ç¤ºå¯¹è¯æ¡† dialog.showDialog(); &lt;/script&gt;&lt;/html&gt; Dialog JavaScript 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081function Dialog() &#123; /** * åˆ›å»ºå¯¹è¯æ¡† * */ this.createDialog = function() &#123; var mask = document.getElementById(&quot;mask&quot;); var dialog = document.createElement(&quot;div&quot;); var title = document.createElement(&quot;div&quot;); var body = document.createElement(&quot;div&quot;); var foot = document.createElement(&quot;div&quot;); dialog.id = &quot;dialog&quot;; title.id = &quot;dialog-title&quot;; body.id = &quot;dialog-body&quot;; foot.id = &quot;dialog-foot&quot;; dialog.appendChild(title); dialog.appendChild(body); dialog.appendChild(foot); mask.appendChild(dialog); &#125; /** * æ˜¾ç¤ºå¯¹è¯æ¡† */ this.showDialog = function() &#123; $(&apos;#mask&apos;).fadeIn(&quot;fast&quot;, function()&#123; $(&apos;#dialog&apos;).slideDown(&quot;fast&quot;); &#125;); &#125; /** * éšè—å¯¹è¯æ¡† */ this.hideDialog = function() &#123; $(&apos;#dialog&apos;).slideUp(&quot;fast&quot;,function()&#123; $(&apos;#mask&apos;).fadeOut(&quot;fast&quot;); &#125;); &#125; /** * è®¾ç½®æ ‡é¢˜æ˜¾ç¤ºå†…å®¹ */ this.setTitle = function(title) &#123; $(&apos;#dialog-title&apos;).html(title); &#125; /** * è®¾ç½®æ¶ˆæ¯æ˜¾ç¤ºå†…å®¹ */ this.setMessage = function(message) &#123; $(&apos;#dialog-body&apos;).html(message); &#125; /** * æ·»åŠ æŒ‰é’® * é»˜è®¤ä¼šæœ‰ä¸€ä¸ªå…³é—­æŒ‰é’® * * @param &#123;Object&#125; objs */ this.setButtons = function(objs) &#123; var button = document.createElement(&quot;input&quot;); button.type = &quot;button&quot;; button.setAttribute(&quot;class&quot;,&quot;btn&quot;); button.value = &quot; ç¡® è®¤ &quot;; button.onclick = function() &#123; $(&apos;#dialog&apos;).slideUp(&quot;fast&quot;,function()&#123; $(&apos;#mask&apos;).fadeOut(&quot;fast&quot;); &#125;); &#125; if(undefined!=objs &amp;&amp; null!=objs &amp;&amp; objs.length&gt;0) &#123; for (var i=0; i&lt;objs.length; i++) &#123; $(&apos;#dialog-foot&apos;).append(objs[i]); &#125; button.value = &quot; å…³ é—­ &quot;; &#125; $(&apos;#dialog-foot&apos;).append(button); &#125;&#125; Dialog CSS 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869*&#123; margin: 0px; padding: 0px;&#125;#mask &#123; display: none; position: absolute; top: 0%; left: 0%; width: 100%; height: 100%; background-color: black; z-index: 9997; -moz-opacity: 0.7; opacity: .70; filter: alpha(opacity=70);&#125;#dialog &#123; display: none; position: relative; top: 23px; width: 53%; min-height: 150px; border: 3px solid #CCCCCC; background-color: white; z-index: 9998; overflow: auto; /* æ°´å¹³å±…ä¸­ */ margin-left: auto; margin-right: auto; /*ä¿®æ”¹å¯¹è¯æ¡†çš„å­—ä½“*/ font-family: &quot;å¾®è½¯é›…é»‘&quot;;&#125;#dialog-title &#123; position: absolute; height: 35px; width: 100%; top: 0px; left: 0px; font-size: 30px; font-weight: normal; background-color: #CCCCCC; padding-top: 7px;&#125;#dialog-foot &#123; background-color: #CCCCCC; position: absolute; height: 32px; width: 100%; bottom: 0px; right: 0px; padding-top: 3px; text-align: right;&#125;#dialog-body &#123; font-size: 15px; padding-top: 60px; padding-left: 23px; padding-bottom: 30px;&#125;#dialog-foot .btn &#123; margin-right: 10px;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS å†…ä½¿ç”¨ JavaScript]]></title>
    <url>%2F2016%2F03%2F08%2Fnode%2Fjavascript%2Fnode-javascript_09%2F</url>
    <content type="text"><![CDATA[CSS å†…ä½¿ç”¨ JavaScript 12_position:absolute; _top:expression(eval(document.documentElement.scrollTop)); è¿™ä¸€æ®µæ˜¯CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰çš„ä»£ç ï¼Œå¸¸ç”¨äºŽç½‘é¡µçš„æ ·å¼è®¾è®¡ä¸­ _position:absolute; è¿™å¥ä»£ç çš„æ„æ€æ˜¯â€œä½ç½®ï¼šç»å¯¹å®šä½â€ï¼Œä¹Ÿå°±æ˜¯è¯´å…ƒç´ çš„ä½ç½®æ˜¯ç›¸å¯¹äºŽæ•´ä¸ªæµè§ˆå™¨çª—å£çš„ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºŽçˆ¶å…ƒç´ ã€‚ä¸€èˆ¬è¦é…åˆtopã€leftå±žæ€§ä½¿ç”¨ã€‚ _top:expression(eval(document.documentElement.scrollTop));topå±žæ€§æ˜¯å®šä¹‰å…ƒç´ çš„é¡¶éƒ¨åœ¨ç½‘é¡µä¸­çš„ä½ç½®ï¼Œè€ŒCSSä¸­çš„expressionå±žæ€§æ˜¯ç”¨æ¥è°ƒç”¨Javascriptä»£ç ã€‚æ‰€ä»¥expressionåŽé¢çš„æ‹¬å·ä¸­å°±æ˜¯ä¸€è¡ŒJavascriptä»£ç ã€‚eval(document.documentElement.scrollTop); å…¶ä¸­ï¼Œdocument.documentElement.scrollTop çš„æ„æ€æ˜¯èŽ·å–å½“å‰é¡µé¢æ»šåŠ¨æ¡æ‰€æ»šåŠ¨åˆ°çš„ä½ç½®çš„æ•°å€¼ï¼Œè€Œå†ç”¨eval()å‡½æ•°æŠŠå®ƒè®¡ç®—æˆæ•°å€¼ã€‚ æ‰€ä»¥è¿™å¥ä»£ç æœ€ç»ˆçš„æ„æ€å°±æ˜¯ï¼šä½ æµè§ˆå™¨çª—å£çš„æ»šåŠ¨æ¡æ»‘åˆ°å“ªï¼Œè¿™ä¸ªå…ƒç´ çš„ä½ç½®å°±åœ¨å“ªã€‚ å‰é¢çš„ä¸‹åˆ’çº¿æ˜¯CSS Hackä¸­çš„ç”¨æ³•ï¼Œç”¨æ¥åŒºåˆ†ä¸åŒçš„æµè§ˆå™¨ä»¥è§£å†³å…¼å®¹é—®é¢˜ï¼Œæ­¤å¤„çš„ä¸‹åˆ’çº¿åªæœ‰IE6èƒ½è¯†åˆ«ï¼Œè€ŒIE7ã€IE8ã€Firefoxç­‰æµè§ˆå™¨æ˜¯è¯†åˆ«ä¸äº†çš„ï¼Œæ‰€ä»¥è¿™ä¸¤è¡Œä»£ç åªå¯¹IE6æœ‰æ•ˆï¼Œå…¶ä»–æµè§ˆå™¨æ˜¯å¿½ç•¥å®ƒä»¬çš„ã€‚è¦äº†è§£æ›´å¤šå…³äºŽCSS Hackçš„ä¿¡æ¯]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DivåµŒå¥— å†…å±‚å–æ¶ˆå¤–å±‚äº‹ä»¶]]></title>
    <url>%2F2016%2F03%2F08%2Fnode%2Fjavascript%2Fnode-javascript_11%2F</url>
    <content type="text"><![CDATA[DivåµŒå¥— å†…å±‚å–æ¶ˆå¤–å±‚äº‹ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738&lt;!DOCTYPE HTML&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Test Demo....&lt;/title&gt; &lt;style type="text/css"&gt; div[id=inner_1]:hover&#123; background-color: #AAAAAA; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="__temp"&gt; Outer &lt;div id="inner_1"&gt;Inner_1&lt;/div&gt; &lt;div id="inner_2"&gt;Inner_2&lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; document.getElementById("__temp").onclick = function() &#123; alert("Outer......"); &#125; document.getElementById("inner_1").onclick = function() &#123; alert("Inner......"); event.cancelBubble=true; &#125; document.getElementById("inner_2").onclick = function() &#123; alert("Inner......");// event.cancelBubble=true; &#125; &lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5 data-* è‡ªå®šä¹‰å±žæ€§]]></title>
    <url>%2F2016%2F03%2F07%2Fnode%2Fnode-html_1%2F</url>
    <content type="text"><![CDATA[HTML5 data-* è‡ªå®šä¹‰å±žæ€§ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;!DOCTYPE HTML&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Test Demo....&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="container"&gt; &lt;span class="right" data-id = "0001" data-title = "æ ‡é¢˜0001" data-description = "æè¿°0001" data-role = "1"&gt; Test1 &lt;/span&gt; &lt;span class="right" data-id = "0002" data-title = "æ ‡é¢˜0002" data-description = "æè¿°0002" data-role = "2"&gt; Test2 &lt;/span&gt; &lt;/div&gt; &lt;div id="result"&gt; &lt;/div&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; var arr = document.getElementsByClassName("right"); for (var i = 0; i &lt; arr.length; i++) &#123; arr[i].onclick = function() &#123; var rt = '&lt;br /&gt;'; var id = this.dataset.id; var title = this.dataset.title; var description = this.dataset.description; var role = this.dataset.role; document.getElementById("result").innerHTML = "ID: " + id + rt + "Title: " + title + rt + "Description: " + description + rt + "Role: " + role; &#125; &#125; &lt;/script&gt;&lt;/html&gt; åœ¨æ ‡ç­¾ä¸­å†™å…¥ è‡ªå®šä¹‰å±žæ€§ç”¨dataset èŽ·å–è‡ªå®šä¹‰å±žæ€§é›†åˆ]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle å­—æ®µ å¢žåˆ æ”¹]]></title>
    <url>%2F2016%2F03%2F04%2Fnode%2Fdatabase%2Fnode-oracle_03%2F</url>
    <content type="text"><![CDATA[Oracle å­—æ®µ å¢žåˆ æ”¹ 123456--JKJYFJB-- Add/modify columns ALTER TABLE JKJYFJB ADD FJLX VARCHAR2(10);-- Add comments to the columns COMMENT ON COLUMN JKJYFJB.FJLX IS 'é™„ä»¶ç±»åž‹'; æ·»åŠ å­—æ®µçš„è¯­æ³•ï¼š 1alter table tablename add (column datatype [default value][null/not null],â€¦.); ä¿®æ”¹å­—æ®µçš„è¯­æ³•ï¼š 1alter table tablename modify (column datatype [default value][null/not null],â€¦.); åˆ é™¤å­—æ®µçš„è¯­æ³•ï¼š 1alter table tablename drop (column);]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle æŸ¥è¯¢ç»“æžœåˆ—è½¬è¡Œ]]></title>
    <url>%2F2016%2F02%2F27%2Fnode%2Fdatabase%2Fnode-oracle_10%2F</url>
    <content type="text"><![CDATA[Oracle æŸ¥è¯¢ç»“æžœåˆ—è½¬è¡Œ æŸ¥è¯¢ç»“æžœåˆ—è½¬è¡Œ wm_concat() 1select wm_concat(MC) from ZDJSJYRYLB where instr('01,02,03', DM) &gt; 0]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript æ ‘]]></title>
    <url>%2F2016%2F01%2F31%2Fnode%2Fjavascript%2Fnode-javascript_10%2F</url>
    <content type="text"><![CDATA[JavaScript æ ‘ Tree HTML Demo 123456789101112131415161718192021222324252627282930313233&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;link rel="stylesheet" type="text/css" href="css/tree.css"/&gt; &lt;script src="js/jquery-2.1.3.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;script src="js/tree.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="left"&gt; &lt;div id="tree_container"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div id="right"&gt; &lt;div id="tree_container_right"&gt;aaaaaaaaaaaaaaa&lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; // åˆ›å»ºå¯¹è±¡ var tree = new Tree(); // åˆå§‹åŒ–æ•°æ® tree.initData('&#123;"id" :"130100", "parent":"#", "text" :"çŸ³å®¶åº„", "child" : [&#123;"id" :"130101", "parent":"130100", "text" :"æ¡¥ä¸œåŒº", "child" : [&#123;"id" :"130101001", "parent":"130101", "text" :"èƒœå—è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child" : "#"&#125;, &#123;"id" :"130101002", "parent":"130101", "text" :"èƒœåŒ—è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child" : "#"&#125;, &#123;"id" :"130101003", "parent":"130101", "text" :"ä¸­å±±ä¸œè·¯è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child" : "#"&#125; ] &#125;, &#123;"id" :"130102", "parent":"130100", "text" :"æ¡¥è¥¿åŒº", "child" : [&#123;"id" :"130102001", "parent":"130102", "text" :"çº¢æ——è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child" : "#"&#125;, &#123;"id" :"130102002", "parent":"130102", "text" :"æ–°çŸ³è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child" : "#"&#125;, &#123;"id" :"130102003", "parent":"130102", "text" :"å‹è°Šè¡—é“é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child" : "#"&#125; ] &#125; ] &#125;'); // åˆå§‹åŒ–æ ‘ tree.init("tree_container"); &lt;/script&gt;&lt;/html&gt; JavaScript 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071function Tree() &#123; this.treeContainer = &#123;&#125;; this.root = &#123;&#125;; this.data = &#123;&#125;; /** * åˆ›å»ºèŠ‚ç‚¹ * * @param &#123;Object&#125; container å®¹å™¨ * @param &#123;String&#125; type èŠ‚ç‚¹ç±»åž‹ * @param &#123;String&#125; nodeId èŠ‚ç‚¹id * @param &#123;String&#125; text èŠ‚ç‚¹æ–‡æœ¬ */ this.createNode = function (container, type, nodeId, text) &#123; var node = document.createElement(type); node.id = nodeId; node.innerText = text; container.appendChild(node); return node; &#125; /** * åˆå§‹åŒ–æ•°æ® * @param &#123;JSON&#125; data JSONæ•°æ® */ this.initData = function(data) &#123; this.data = eval("([" + data + "])"); &#125; /** * åˆå§‹åŒ–ç»„ä»¶ * @param &#123;String&#125; containerId å®¹å™¨id */ this.init = function(containerId) &#123; this.treeContainer = document.getElementById(containerId); this.root = this.createNode(this.treeContainer,"ul","root", ""); this.createTree(this.root, this.data); &#125; /** * èŠ‚ç‚¹å•å‡»äº‹ä»¶ */ this.click = function() &#123; try&#123; var display = document.getElementById("_"+this.id).style.display; if("" == display)&#123; document.getElementById("_"+this.id).style.display = "none"; &#125; else &#123; document.getElementById("_"+this.id).style.display = ""; &#125; &#125;catch(e) &#123;&#125; &#125; /** * åˆ›å»ºæ ‘ * @param &#123;Object&#125; container å®¹å™¨ * @param &#123;Object&#125; datas æ•°æ®æº */ this.createTree = function(container,datas) &#123; for (var i = 0; i &lt; datas.length; ++i) &#123; var data = datas[i]; var branches = this.createNode(container,"li", data.id, data.text); branches.onclick = this.click; if("#" != data.child)&#123; var twig = this.createNode(container,"ul", "_"+data.id, ""); this.createTree(twig, data.child); &#125; &#125; &#125;&#125; CSS 1234567891011121314li &#123; list-style-type: none; cursor: pointer; font-family: "å¾®è½¯é›…é»‘"; padding-left: 5px;&#125;li:hover &#123; background-color: #ccc;&#125;ul &#123; padding-left: 17px;&#125; JSON 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354[ &#123; "id": "130100", "parent": "#", "text": "çŸ³å®¶åº„", "child": [ &#123; "id": "130101", "parent": "130100", "text": "æ¡¥ä¸œåŒº", "child": [ &#123; "id": "130101001", "parent": "130101", "text": "èƒœå—è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child": "#" &#125;, &#123; "id": "130101002", "parent": "130101", "text": "èƒœåŒ—è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child": "#" &#125;, &#123; "id": "130101003", "parent": "130101", "text": "ä¸­å±±ä¸œè·¯è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child": "#" &#125; ] &#125;, &#123; "id": "130102", "parent": "130100", "text": "æ¡¥è¥¿åŒº", "child": [ &#123; "id": "130102001", "parent": "130102", "text": "çº¢æ——è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child": "#" &#125;, &#123; "id": "130102002", "parent": "130102", "text": "æ–°çŸ³è¡—é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child": "#" &#125;, &#123; "id": "130102003", "parent": "130102", "text": "å‹è°Šè¡—é“é“ç¤¾åŒºå«ç”ŸæœåŠ¡ä¸­å¿ƒ", "child": "#" &#125; ] &#125; ] &#125;]]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸‹æ‹‰åˆ—è¡¨ è¯»å†™æ“ä½œ]]></title>
    <url>%2F2016%2F01%2F27%2Fnode%2Fjavascript%2Fnode-javascript_12%2F</url>
    <content type="text"><![CDATA[ä¸‹æ‹‰åˆ—è¡¨ è¯»å†™æ“ä½œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;span id="picking"&gt; City: &lt;select name="city" id="city"&gt; &lt;option value="130100"&gt;çŸ³å®¶åº„&lt;/option&gt; &lt;option value="130300"&gt;ä¿å®š&lt;/option&gt; &lt;option value="130500"&gt;å¼ å®¶å£&lt;/option&gt; &lt;/select&gt; &lt;span id="add" style="display: none;"&gt; &lt;input type="text" id="addCity" /&gt; æ ¼å¼: 130100,çŸ³å®¶åº„ &lt;/span&gt; &lt;/span&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; document.getElementById("picking").ondblclick = function()&#123; document.getElementById("city").style.display = "none"; document.getElementById("add").style.display = "inline"; &#125; document.getElementById("addCity").onkeyup = function(e)&#123; if(e.keyCode == 13) &#123; var city = document.getElementById("city"); var arr = this.value.split(",") try&#123; var content = eval('(&#123;"dm":"' + arr[0] + '", "mc":"' + arr[1] + '"&#125;)'); if(content.mc === "undefined") &#123; throw("æ ¼å¼ä¸æ­£ç¡®!"); &#125; city.innerHTML += '&lt;option value="' + content.dm + '"&gt;' + content.mc + '&lt;/option&gt;'; &#125;catch(e)&#123; alert(e); &#125; document.getElementById("city").style.display = "inline"; document.getElementById("add").style.display = "none"; document.getElementById("addCity").value = ""; &#125; &#125; &lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript å…³äºŽSelectå’ŒCheckBoxçš„ä¸€äº›æ“ä½œ]]></title>
    <url>%2F2016%2F01%2F27%2Fnode%2Fjavascript%2Fnode-javascript_13%2F</url>
    <content type="text"><![CDATA[JavaScript å…³äºŽSelectå’ŒCheckBoxçš„ä¸€äº›æ“ä½œ 1234567891011121314151617181920212223242526272829303132333435363738/** * åˆ¤æ–­å¤é€‰æ¡†æ˜¯å¦ä¸ºç©º * éœ€è¦ä¼ å…¥ checkBoxçš„nameå±žæ€§ * è¿”å›žtrue,ä¸ºç©º * è¿”å›žfalse, ä¸ä¸ºç©º */function checkBoxOrRadioIsNull(name) &#123; var arr = document.getElementsByName(name); var i; for (i = 0; i &lt; arr.length; i++) &#123; if(arr[i].checked) &#123; break; &#125; &#125; if(i &lt; arr.length) &#123; return false; &#125; else &#123; return true; &#125;&#125;/** * é€‰æ‹©ä¸‹æ‹‰æ¡†çš„å…¬ç”¨æ–¹æ³• * éœ€è¦ä¼ å…¥ selectçš„idå±žæ€§ å’Œ éœ€è¦é€‰ä¸­çš„å€¼ * */function selectPicking(id, val) &#123; var arr = document.getElementById(id).options; for (var i = 0; i &lt; arr.length; i++) &#123; if(arr[i].value == val) &#123; document.getElementById(id).selectedIndex = i; break; &#125; &#125;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iframe çš„jså˜é‡å€¼]]></title>
    <url>%2F2015%2F12%2F02%2Fnode%2Fjavascript%2Fnode-javascript_14%2F</url>
    <content type="text"><![CDATA[çˆ¶é¡µé¢èŽ·å–iframe å­é¡µé¢çš„jså˜é‡å€¼, ä»¥åŠå­é¡µé¢èŽ·å–çˆ¶é¡µé¢jså˜é‡ çˆ¶é¡µé¢èŽ·å–iframe å­é¡µé¢çš„jså˜é‡å€¼æ–¹æ³•åªæœ‰ä¸€ç§ï¼š æ­¥éª¤ï¼š 1ã€èŽ·å–iframeèŠ‚ç‚¹ 2ã€èŽ·å–iframeä¸­çš„å˜é‡ ç¤ºä¾‹ a.html&lt;iframe id=&#39;x&#39; name=&#39;x&#39; src=&#39;b.html&#39;/&gt; b.html 123&lt;script&gt; var y=&apos;1&apos;;&lt;/script&gt; åœ¨a.htmlä¸­èŽ·å–yï¼Œåˆ™å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼document.frames[&#39;x&#39;].y //å…ˆèŽ·å–frame,åœ¨èŽ·å–y å­é¡µé¢èŽ·å–çˆ¶é¡µé¢jså˜é‡çˆ¶é¡µé¢ &lt;input type=&quot;hidden&quot; id=&quot;result&quot; name=&quot;result&quot; value=&quot;&quot; /&gt; å­é¡µé¢ &lt;input type=&quot;hidden&quot; id=&quot;_bh${da.bh}&quot; value=&#39;${da.bh},${da.name},${da.sfzh},${da.lxdh}&#39;/&gt; åœ¨å­é¡µé¢å–å¾—çˆ¶é¡µé¢çš„å¯¹è±¡ï¼Œå¹¶èµ‹å€¼ 123456function setVal(obj) &#123; var id = "_"+obj.id; var val = document.getElementById(id).value; var parent = window.parent.form1.result; parent.value=val;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle æ›¿æ¢å­—æ®µä¸­çš„å†…å®¹]]></title>
    <url>%2F2015%2F11%2F10%2Fnode%2Fdatabase%2Fnode-oracle_01%2F</url>
    <content type="text"><![CDATA[Oracle æ›¿æ¢å­—æ®µä¸­çš„å†…å®¹ 12update statsfielddefine t set t.showname = REPLACE(t.showname ,substr(t.showname ,7,2) ,'éšè®¿') where t.showname like 'é‡æ€§ç²¾ç¥žç–¾ç—…è®¿è§†%' commit; substr(å­—ç¬¦ä¸²,æˆªå–å¼€å§‹ä½ç½®,æˆªå–é•¿åº¦) //è¿”å›žæˆªå–çš„å­— substr(â€˜Hello Worldâ€™,0,1) //è¿”å›žç»“æžœä¸º â€˜Hâ€™ *ä»Žå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹æˆªå–é•¿åº¦ä¸º1çš„å­—ç¬¦ä¸² substr(â€˜Hello Worldâ€™,1,1) //è¿”å›žç»“æžœä¸º â€˜Hâ€™ *0å’Œ1éƒ½æ˜¯è¡¨ç¤ºæˆªå–çš„å¼€å§‹ä½ç½®ä¸ºç¬¬ä¸€ä¸ªå­—ç¬¦ substr(â€˜Hello Worldâ€™,2,4) //è¿”å›žç»“æžœä¸º â€˜elloâ€™ substr(â€˜Hello Worldâ€™,-3,3)//è¿”å›žç»“æžœä¸º â€˜rldâ€™ *è´Ÿæ•°(-i)è¡¨ç¤ºæˆªå–çš„å¼€å§‹ä½ç½®ä¸ºå­—ç¬¦ä¸²å³ç«¯å‘å·¦æ•°ç¬¬iä¸ªå­—ç¬¦ replace å‡½æ•°ç”¨æ³•å¦‚ä¸‹ï¼š replaceï¼ˆâ€™å°†è¦æ›´æ”¹çš„å­—ç¬¦ä¸²â€™,â€™è¢«æ›¿æ¢æŽ‰çš„å­—ç¬¦ä¸²â€™,â€™æ›¿æ¢å­—ç¬¦ä¸²â€™ï¼‰]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle åˆ›å»ºåºåˆ—]]></title>
    <url>%2F2015%2F11%2F10%2Fnode%2Fdatabase%2Fnode-oracle_02%2F</url>
    <content type="text"><![CDATA[Oracle åˆ›å»ºåºåˆ— 1234567CREATE SEQUENCE SEQ_FJHHZDJB --åºåˆ—å INCREMENT BY 1 -- æ¯æ¬¡åŠ å‡ ä¸ª START WITH 1 -- ä»Ž1å¼€å§‹è®¡æ•° NOMAXVALUE -- ä¸è®¾ç½®æœ€å¤§å€¼ NOCYCLE -- ä¸€ç›´ç´¯åŠ ï¼Œä¸å¾ªçŽ¯ CACHE 20 NOORDER;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle &ç¬¦å·å¦‚ä½•æ’å…¥ï¼ˆè½¬ä¹‰ï¼‰]]></title>
    <url>%2F2015%2F11%2F03%2Fnode%2Fdatabase%2Fnode-oracle_12%2F</url>
    <content type="text"><![CDATA[Oracle &amp;ç¬¦å·å¦‚ä½•æ’å…¥ï¼ˆè½¬ä¹‰ï¼‰ 123insert into table values( 'http://localhost:8080/index.action?username=138&amp;type=1 ');insert into table values( 'http://localhost:8080/index.action?username=138 '||chr(38)|| 'type=1 ');]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽ JDBC è‡ªåŠ¨æäº¤]]></title>
    <url>%2F2015%2F10%2F13%2Fnode%2Fjava%2Fnode-jdbc_01%2F</url>
    <content type="text"><![CDATA[å…³äºŽ JDBC è‡ªåŠ¨æäº¤ è®¾ç½® JDBC è¿žæŽ¥å¯¹è±¡å…³é—­ è‡ªåŠ¨æäº¤ conn.setAutoCommit(false); åœ¨æ‰§è¡Œå®ŒSQLåŽ, è¦æäº¤ä¸€ä¸‹, conn.commit(); è®°å¾—è¿™ä¸ªè¿žæŽ¥å¯¹è±¡, ä¸€å®šè¦æ˜¯å…¬å…±çš„ä¸€ä¸ªè¿žæŽ¥å¯¹è±¡, å…³é—­è‡ªåŠ¨æäº¤, ä¸€å®šæ˜¯è¦åœ¨åˆå§‹åŒ–è¿žæŽ¥å¯¹è±¡æ—¶è®¾ç½®çš„. conn.rollback(); æ˜¯åœ¨SQLè¯­å¥æ‰§è¡Œé”™è¯¯æ—¶ï¼Œåšæ•°æ®å›žæ»šç”¨çš„ åœ¨æ‰§è¡Œå®Œä½ çš„é€»è¾‘ç®—æ³•åŽ, æäº¤ä¸€ä¸‹ åœ¨ä¸€ä¸ªå¤„ç†é€»è¾‘ä¸­ï¼Œæ‰“å¼€ä¸€ä¸ªæ•°æ®åº“è¿žæŽ¥ï¼Œå¤„ç†ç»“æŸæ—¶ï¼Œå…³é—­è¿™ä¸ªè¿žæŽ¥ conn.setAutoCommit(true); æ˜¯æŽ§åˆ¶æ˜¯å¦æ¯æ¡SQLæ‰§è¡Œå®ŒåŽè‡ªåŠ¨æäº¤]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java å¯¹ç§°åŠ å¯†ç®—æ³•(DES)]]></title>
    <url>%2F2015%2F10%2F13%2Fnode%2Fjava%2Fnode-j2se_01%2F</url>
    <content type="text"><![CDATA[Java ä¸­çš„å¯¹ç§°åŠ å¯†ç®—æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188package com.yuchen352416.example;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;import java.io.UnsupportedEncodingException;import java.security.InvalidKeyException;import java.security.Key;import java.security.NoSuchAlgorithmException;import javax.crypto.BadPaddingException;import javax.crypto.Cipher;import javax.crypto.IllegalBlockSizeException;import javax.crypto.KeyGenerator;import javax.crypto.NoSuchPaddingException;import javax.security.auth.kerberos.KerberosKey;import javax.security.auth.kerberos.KerberosPrincipal;import com.sun.org.apache.xerces.internal.impl.dv.util.Base64;public class EncryptData &#123; // ç”¨äºŽäº§ç”ŸæŒ‡å®škeyçš„å¸¸é‡å®šä¹‰---å¼€å§‹ private static String PRINCIPAL_NAME = "yuchen352416@163.com";// äº§ç”Ÿkeyçš„ä¸»ä½“åç§° private static String KEY_PASSWORD = "yuchen352416@163.com";// keyçš„å¯†ç  private static final String ALGORITHM_NAME = "DES";// ç®—æ³•åç§° // ç”¨äºŽäº§ç”ŸæŒ‡å®šçš„keyçš„å¸¸é‡å®šä¹‰---ç»“æŸ // å­—ç¬¦ä¸²è½¬16 public static String toHexString(String s) &#123; String str = ""; for (int i = 0; i &lt; s.length(); i++) &#123; int ch = (int) s.charAt(i); String s4 = Integer.toHexString(ch); str = str + s4; &#125; return str; &#125; // 16è½¬å­—ç¬¦ä¸² public static String toStringHex(String s) &#123; byte[] baKeyword = new byte[s.length() / 2]; for (int i = 0; i &lt; baKeyword.length; i++) &#123; try &#123; baKeyword[i] = (byte) (0xff &amp; Integer.parseInt( s.substring(i * 2, i * 2 + 2), 16)); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; try &#123; s = new String(baKeyword, "utf-8");// UTF-16le:Not &#125; catch (Exception e1) &#123; e1.printStackTrace(); &#125; return s; &#125; /** * DESåŠ å¯†å­—ç¬¦ä¸²ï¼Œè¿”å›žåŠ å¯†åŽçš„å­—ç¬¦ä¸² * * @param encryptString * è¦åŠ å¯†çš„å­—ç¬¦ä¸² * @param strings * ä¸ä¼ æ­¤å‚æ•°æŒ‰é»˜è®¤ç”Ÿæˆå¯†é’¥ å‚æ•°æ•°ç»„ï¼Œ[0]=åŠ å¯†ä¸»ä½“åç§°ï¼Œ[1]=keyçš„å¯†ç  * @return è¿”å›žbase64è½¬ç åŽçš„å­—ç¬¦ä¸² * @throws InvalidKeyException * @throws NoSuchAlgorithmException * @throws NoSuchPaddingException * @throws UnsupportedEncodingException * @throws IllegalBlockSizeException * @throws BadPaddingException */ public static String encrypt(String encryptString, String... strings) &#123; try &#123; Key key = createKey(strings); Cipher cipher = Cipher.getInstance("DES/ECB/PKCS5Padding"); byte[] by = encryptString.getBytes("utf8"); cipher.init(Cipher.ENCRYPT_MODE, key);// ä½¿ç”¨ç§éˆ…åŠ å¯† byte[] cipherText = cipher.doFinal(by); return Base64.encode(cipherText).replaceAll("\n", ""); &#125; catch (Exception e) &#123; //Log.error(e); return encryptString; &#125; &#125; /** * DESè§£å¯†å­—ç¬¦ä¸² * * @param decryptStringè¦è§£å¯†çš„å­—ç¬¦ä¸² * @param stringsç”Ÿæˆå¯†é‘°çš„åƒæ•¸ * ä¸ä¼ æ­¤å‚æ•°æŒ‰é»˜è®¤ç”Ÿæˆå¯†é’¥ å‚æ•°æ•°ç»„ï¼Œ[0]=åŠ å¯†ä¸»ä½“åç§°ï¼Œ[1]=keyçš„å¯†ç  * @return * @throws NoSuchAlgorithmException * @throws NoSuchPaddingException * @throws UnsupportedEncodingException * @throws InvalidKeyException * @throws IllegalBlockSizeException * @throws BadPaddingException */ public static String decrypt(String decryptString, String... strings) &#123; try &#123; Key key = createKey(strings); Cipher cipher = Cipher.getInstance("DES/ECB/PKCS5Padding"); byte[] by = Base64.decode(decryptString); cipher.init(Cipher.DECRYPT_MODE, key);// ä½¿ç”¨ç§éˆ…åŠ å¯† byte[] cipherText = cipher.doFinal(by); return new String(cipherText, "utf-8"); &#125; catch (Exception e) &#123; return decryptString; &#125; &#125; /** * åˆ›å»ºæŒ‡å®šçš„keyï¼Œå‚æ•°æ•°ç»„å«ä¹‰ï¼š strings[0]=ç”Ÿæˆkeyçš„ä¸»ä½“åç§° * strings[1]=keyçš„å¯†ç ï¼ˆå‚è€ƒå‘½åæ ¼å¼xxx@xx.xxxå…¶ä»–å‘½åæ ¼å¼å‚è€ƒJava Cryptography Architecture * API Specification &amp; Reference ä¸­çš„é™„å½• Aï¼‰ strings[2]=ç®—æ³•åç§°å¦‚æžœä¸ä¼ å‚æ•°æŒ‰é»˜è®¤å€¼ * * @param strings * @return */ public static Key createKey(String... strings) &#123; String algorithm = ALGORITHM_NAME; String name = PRINCIPAL_NAME; String password = KEY_PASSWORD; switch (strings.length) &#123; case 1: name = strings[0]; break; case 2: name = strings[0]; password = strings[1]; break; case 3: name = strings[0]; password = strings[1]; algorithm = strings[2]; break; &#125; KerberosPrincipal kerberosPrincipal = new KerberosPrincipal(name); Key key = new KerberosKey(kerberosPrincipal, password.toCharArray(), algorithm); return key; &#125; /** * äº§ç”Ÿä¸€ä¸ªéšæœºkeyï¼Œå¹¶ä¿å­˜åˆ°æ–‡ä»¶ä¸­ * * @param file */ public static void setPriveKey(String file) &#123; FileOutputStream fos; try &#123; fos = new FileOutputStream(file); KeyGenerator keyGen = KeyGenerator.getInstance("DES"); keyGen.init(56); Key key = keyGen.generateKey();// ç”Ÿæˆç§é’¥Key ObjectOutputStream oos = new ObjectOutputStream(fos); oos.writeObject(key); oos.close(); &#125; catch (Exception e1) &#123; e1.printStackTrace(); &#125; &#125; /** * ä»Žæ–‡ä»¶ä¸­èŽ·å–key * * @param file * @return * @throws Exception */ @SuppressWarnings("resource") public static Key getPriveKey(String file) throws Exception &#123; FileInputStream fis = new FileInputStream(file); ObjectInputStream ois = new ObjectInputStream(fis); Key key = (Key) ois.readObject(); return key; &#125;&#125; ä½¿ç”¨åŠ å¯†ç±» 1234567891011121314151617181920package com.yuchen352416.example;public class Test &#123; public static void main(String args[]) &#123; try &#123; // éœ€è¦åŠ å¯†çš„å­—ç¬¦ä¸² String str = "yuchen352416"; // åŠ å¯†åŽçš„å­—ç¬¦ä¸² String eStr = EncryptData.encrypt(str); // è§£å¯†å·²ç»åŠ å¯†çš„å­—ç¬¦ä¸² String dStr = EncryptData.decrypt(eStr); System.out.println(eStr); System.out.println(dStr); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>DES</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³ Oracle æè¿°ä¹±ç é—®é¢˜]]></title>
    <url>%2F2015%2F09%2F11%2Fnode%2Fdatabase%2Fnode-oracle_13%2F</url>
    <content type="text"><![CDATA[è§£å†³ Oracle æè¿°ä¹±ç é—®é¢˜ åœ¨ç³»ç»Ÿå˜é‡ä¸­æ–°å»ºç³»ç»Ÿå˜é‡å˜é‡åï¼š NLS_LANGå˜é‡å€¼ï¼š AMERICAN_AMERICA.ZHS16GBK æ³¨æ„ï¼š å˜é‡å€¼ æ˜¯è¦å’ŒæœåŠ¡å™¨ä¸Šä½¿ç”¨çš„å­—ç¬¦é›†è¦ä¸€è‡´ï¼Œ æˆ‘è¿™é‡ŒæœåŠ¡å™¨ä¸Šä½¿ç”¨çš„æ˜¯ AMERICAN_AMERICA.ZHS16GBK]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringMVC é‡å®šå‘ æºå¸¦å‚æ•°]]></title>
    <url>%2F2015%2F08%2F30%2Fnode%2Fjava%2Fnode-j2ee_04%2F</url>
    <content type="text"><![CDATA[SpringMVC é‡å®šå‘ æºå¸¦å‚æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package com.yuchen.picture.web;import javax.servlet.http.Cookie;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.transaction.annotation.Transactional;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.servlet.mvc.support.RedirectAttributes;import com.yuchen.picture.dao.UserDAO;import com.yuchen.picture.entity.User;@Controller@Transactionalpublic class SignInController &#123; @Autowired private UserDAO userDAO; @RequestMapping(value="/user/sign_in_ing.htm") public String sign_in(User user, String remember, RedirectAttributes attributes, HttpServletRequest request, HttpServletResponse response) &#123; User u = userDAO.findByName(user.getName()); if(null != user &amp;&amp; null != u &amp;&amp; user.getPassword().equals(u.getPassword())) &#123; // ç™»å½•æˆåŠŸ, å°†ç”¨æˆ·ä¿¡æ¯å­˜åˆ°Sessionä¸­ request.getSession().setAttribute("loginUser", u); // å°†ç”¨æˆ·ä¿¡æ¯å­˜åˆ°cookieä¸­ if("1".equals(remember)) &#123; Cookie usernameCookie = new Cookie("username", u.getName()); Cookie passwordCookie = new Cookie("password", u.getPassword()); usernameCookie.setMaxAge(7*24*60*60); passwordCookie.setMaxAge(7*24*60*60); response.addCookie(usernameCookie); response.addCookie(passwordCookie); &#125; // æ‰§è¡Œè·³è½¬ return "redirect:/index.htm"; &#125; else &#123; // ç™»å½•å¤±è´¥, æ‰§è¡Œè·³è½¬ attributes.addFlashAttribute("alert", 0); return "redirect:/login.htm"; &#125; &#125; &#125; ç”¨RedirectAttributesç±»ä¸­çš„addFlashAttributeæ–¹æ³•å¸¦å›žå‚æ•°]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>SpingMVC</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„VPSé‡è£…ä¹‹è·¯]]></title>
    <url>%2F2015%2F06%2F07%2Fnode%2Flinux%2Fnode-linux_02%2F</url>
    <content type="text"><![CDATA[è¿™å‡ å¤©æˆ‘åœ¨Linuxä¸‹å®‰è£…é‚®ä»¶æœåŠ¡å™¨, ç™¾è¯•ä¸é€š, æœ€åŽ25ç«¯å£, ç›´æŽ¥å´©æŽ‰äº†. æ— å¥ˆåªæœ‰é‡è£…ç³»ç»Ÿ, è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå°ç™½çš„æ‚²å“€å§. 1. é‡è£…å®Œä¹‹åŽ, è®¾ç½®å…å¯†ç™»å½• ssh-keygen -t rsa chmod 600 ~/.ssh chmod 700 ~/.ssh/authorized_keys â€‹ 2. å®‰è£…ä¸Šä¼ ä¸‹è½½æ–‡ä»¶çš„å·¥å…· yum -y install lrzsz â€‹ 3. å®‰è£… Shadowsocks 123wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.shchmod +x shadowsocks-all.sh./shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log å‚è€ƒ: https://teddysun.com/486.html â€‹ 4. å®‰è£…EwoMail1. å…³é—­selinuxvim /etc/sysconfig/selinux å°†SELINUX=enforcing æ”¹ä¸º SELINUX=disabled 2. åˆ›å»ºswapfree -m æŸ¥çœ‹swap dd if=/dev/zero of=/mnt/swap bs=1M count=1024 åˆ›å»º1Gçš„swap mkswap /mnt/swap è®¾ç½®äº¤æ¢åˆ†åŒºæ–‡ä»¶ swapon /mnt/swap å¯åŠ¨swap vim /etc/fstab æ·»åŠ  /mnt/swap swap swap defaults 0 0 è®¾ç½®å¼€æœºæ—¶è‡ªå¯ç”¨ swap åˆ†åŒº 3. ä¿®æ”¹ä¸»æœºåEwoMailåœ¨å®‰è£…åŽä¼šé»˜è®¤ä½¿ç”¨åŸŸåå‰ç¼€mailçš„ä¸»æœºå, ä¾‹å¦‚: æˆ‘çš„æ˜¯mail.yuchen.pro vim /etc/sysconfig/network æ·»åŠ  HOSTNAME = mail.yuchen.pro vim /etc/hosts ä¿®æ”¹ 127.0.0.1 å¯¹åº”çš„åŸŸå hostname mail.yuchen.pro 4. æ‰“å¼€ï¼šhttp://ewomail.com/list-11.html è¾“å…¥ä½ çš„åŸŸåèŽ·å–å®‰è£…ä»£ç 5. å®‰è£…å®ŒæˆåŽ, cat /ewomail/config.ini æŸ¥çœ‹MySQLå¯†ç 5. å®‰è£… Javawget http://download.oracle.com/otn/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/jdk-8u151-linux-x64.tar.gz?AuthParam=1528779151_b5871543e1cc4204d7d0bb4db6e0b8fd ä¸‹è½½JDK tar -zxvf jdk-8u151-linux-x64.tar.gz è§£åŽ‹ mv jdk1.8.0_151/ /opt/ ä¿®æ”¹ç›®å½• vim /etc/profile é…ç½®çŽ¯å¢ƒå˜é‡123export JAVA_HOME=/opt/jdk1.8.0_151export PATH=$JAVA_HOME/bin:$PATHexport CLASSPATH=. source /etc/profile çŽ¯å¢ƒå˜é‡ç”Ÿæ•ˆ]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX è°ƒç”¨]]></title>
    <url>%2F2015%2F04%2F30%2Fnode%2Fjava%2Fnode-j2ee_02%2F</url>
    <content type="text"><![CDATA[Ajaxè°ƒç”¨, å¹¶è§£æžè¿”å›žçš„æ•°æ® JSON æ•°æ®æœåŠ¡ç«¯123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; response.setContentType("text/html;charset=utf-8"); JSONObject json = null; PrintWriter out = response.getWriter(); System.out.println("load in ...."); // åˆå§‹åŒ–æ•°æ® class Cat&#123; Cat (String name,int height ) &#123; this.height = height; this.name = name; &#125; int height; String name; &#125; ArrayList&lt;Cat&gt; list = new ArrayList&lt;Cat&gt;(); list.add(new Cat("Tom",20)); list.add(new Cat("Abby",30)); list.add(new Cat("Kitty",10)); list.add(new Cat("Julie",40)); // å®šä¹‰è¿”å›žå€¼çš„å®¹å™¨ StringBuffer buffer = new StringBuffer(); // å½“jsonè¿”å›ž å¯¹è±¡æ—¶, å¤–é¢å¿…é¡»åŠ ä¸€å¯¹å°æ‹¬å· buffer.append("(&#123;"); for(int i = 0; i &lt; list.size(); i++)&#123; Map map = new HashedMap(); map.put("name", list.get(i).name); map.put("height", list.get(i).height); json = JSONObject.fromObject(map); buffer.append(i); buffer.append(":"); buffer.append(json.toString()); if(i != list.size()-1) &#123; buffer.append(","); &#125; &#125; buffer.append("&#125;)"); out.print(buffer); out.flush(); out.close(); &#125; å‰ç«¯1234567891011121314151617181920212223$(function() &#123; $("#verify").click(function()&#123; var userName = $("#userName").val(); $.ajax(&#123; type: "post", url: "servlet/ResultJSON", async: true, data : "name=" + userName, dataType: "Text", success: function(data)&#123; alert(data); var objs = eval(data); try&#123; for (var i = 0; i &lt; 10; i++) &#123; var o = objs[i]; $("#result").append(o.name + "---" + o.height + "&lt;br /&gt;");&#125; &#125;catch(e)&#123; alert("æ•°æ®å¾€ä¸‹æ²¡æœ‰äº†"); &#125; &#125; &#125;); &#125;);&#125;); XML æ•°æ®æœåŠ¡ç«¯12345678910111213141516171819202122232425262728293031323334353637public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; request.setCharacterEncoding("utf-8"); // è®¾ç½®è¯·æ±‚çš„å­—ç¬¦é›† // ä¿®æ”¹å“åº”çš„å†…å®¹ç±»åž‹ä¸ºxml response.setContentType("text/xml;charset=utf-8"); // è®¾ç½®å“åº”çš„å­—ç¬¦é›† // è¿”å›žçš„æ•°æ®éœ€è¦æ‹¼æˆxmlæ ¼å¼ StringBuffer buffer = new StringBuffer(); buffer.append("&lt;message&gt;"); PrintWriter out = response.getWriter(); // 1. èŽ·å–å‚æ•° String para = request.getParameter("name"); // 2. æ£€æŸ¥å‚æ•°æ˜¯å¦å­˜ æœ‰é—®é¢˜ if(para == null || para.trim().length() == 0) &#123; buffer.append("ç”¨æˆ·åä¸èƒ½ä¸ºç©º"); &#125; else &#123; // 3. æ ¡éªŒæ“ä½œ if(para.equals("yuchen352416"))&#123; // å¤„ç†è¿”å›žç»“æžœ buffer.append("ç”¨æˆ·å [" + para + "] å·²ç»å­˜åœ¨,è¯·ä½¿ç”¨å…¶ä»–ç”¨æˆ·å" ); &#125; else &#123; buffer.append("ç”¨æˆ·å [" + para + "] å°šæœªå­˜åœ¨,å¯ä»¥ä½¿ç”¨è¯¥ç”¨æˆ·å" ); &#125; &#125; buffer.append("&lt;/message&gt;"); // 4. éœ€è¦å°†ç”¨æˆ·æ„Ÿå…´è¶£çš„xmlå†…å®¹è¿”å›žç»™é¡µé¢ç«¯,è€Œä¸æ˜¯å°†ä¸€ä¸ªæ–°çš„é¡µé¢è¿”å›žç»™ç”¨æˆ· out.println(buffer.toString());&#125; å‰ç«¯123456789101112131415161718$(function()&#123; $("#verify").click(function() &#123; var userName = $("#userName").val(); $.ajax(&#123; type: "post", url: "servlet/ResultXML", async: true, data : "name=" + userName, dataType: "xml", success: function(data)&#123; var jqueryObj = $(data); var message = jqueryObj.children(); var text = message.text(); $("#result").html(text); &#125; &#125;); &#125;);&#125;);]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Ajax</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ajax è¯­æ³•]]></title>
    <url>%2F2015%2F04%2F27%2Fnode%2Fnode-ajax_1%2F</url>
    <content type="text"><![CDATA[Ajax è¯­æ³• Ajax å¸¸ç”¨æ–¹æ³• æ–¹æ³•å æ–¹æ³•æè¿° $.ajax(); æ‰§è¡Œå¼‚æ­¥HTTP(ajax)è¯·æ±‚ $.ajaxComplete(); å½“ Ajax è¯·æ±‚å®Œæˆæ—¶æ³¨å†Œè¦è°ƒç”¨çš„å¤„ç†ç¨‹åºã€‚è¿™æ˜¯ä¸€ä¸ª Ajax äº‹ä»¶ $.ajaxError(); å½“ Ajax è¯·æ±‚å®Œæˆä¸”å‡ºçŽ°é”™è¯¯æ—¶æ³¨å†Œè¦è°ƒç”¨çš„å¤„ç†ç¨‹åºã€‚è¿™æ˜¯ä¸€ä¸ª Ajax äº‹ä»¶ $.ajaxSend(); åœ¨ Ajax è¯·æ±‚å‘é€ä¹‹å‰æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ $.ajaxSetup(); è®¾ç½®å°†æ¥çš„ Ajax è¯·æ±‚çš„é»˜è®¤å€¼ $.ajaxStart(); å½“é¦–ä¸ª Ajax è¯·æ±‚å®Œæˆå¼€å§‹æ—¶æ³¨å†Œè¦è°ƒç”¨çš„å¤„ç†ç¨‹åºã€‚è¿™æ˜¯ä¸€ä¸ª Ajax äº‹ä»¶ $.ajaxStop(); å½“æ‰€æœ‰ Ajax è¯·æ±‚å®Œæˆæ—¶æ³¨å†Œè¦è°ƒç”¨çš„å¤„ç†ç¨‹åºã€‚è¿™æ˜¯ä¸€ä¸ª Ajax äº‹ä»¶ $.ajaxSuccess(); å½“ Ajax è¯·æ±‚æˆåŠŸå®Œæˆæ—¶æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ $.get(); ä½¿ç”¨ HTTP GET è¯·æ±‚ä»ŽæœåŠ¡å™¨åŠ è½½æ•°æ® $.post(); ä½¿ç”¨ HTTP POST è¯·æ±‚ä»ŽæœåŠ¡å™¨åŠ è½½æ•°æ® $.getJSON(); ä½¿ç”¨ HTTP GET è¯·æ±‚ä»ŽæœåŠ¡å™¨åŠ è½½ JSON ç¼–ç æ•°æ® $.getScript(); ä½¿ç”¨ HTTP GET è¯·æ±‚ä»ŽæœåŠ¡å™¨åŠ è½½ JavaScript æ–‡ä»¶ï¼Œç„¶åŽæ‰§è¡Œè¯¥æ–‡ä»¶ $.load(); ä»ŽæœåŠ¡å™¨åŠ è½½æ•°æ®ï¼Œç„¶åŽæŠŠè¿”å›žåˆ° HTML æ”¾å…¥åŒ¹é…å…ƒç´  $.param(); åˆ›å»ºæ•°ç»„æˆ–å¯¹è±¡çš„åºåˆ—åŒ–è¡¨ç¤ºï¼Œé€‚åˆåœ¨ URL æŸ¥è¯¢å­—ç¬¦ä¸²æˆ– Ajax è¯·æ±‚ä¸­ä½¿ç”¨ $.serialize(); å°†è¡¨å•å†…å®¹åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸² $.serializeArray(); åºåˆ—åŒ–è¡¨å•å…ƒç´ ï¼Œè¿”å›ž JSON æ•°æ®ç»“æž„æ•°æ® Ajax å¸¸ç”¨å±žæ€§ é€‰é¡¹å å€¼ç±»åž‹ åˆå§‹å€¼ è¯´æ˜Ž async boolean true éžåŒæœŸé€šä¿¡æ ‡å¿—,ä¸ºtureæ—¶,æ‰§è¡ŒéžåŒæœŸé€šä¿¡; ä¸ºfalseæ—¶,æ‰§è¡ŒåŒæœŸé€šä¿¡. åœ¨åŒæœŸé€šä¿¡çš„æƒ…å†µä¸‹,æµè§ˆå™¨å›žç­”å‰ä¸èƒ½æ‰§è¡Œä»»ä½•æ“ä½œ beforeSend function - é€šä¿¡å‰è°ƒç”¨çš„AJAX Event(äº‹ä»¶),è¿”å›žå€¼æŒ‡å®šä¸º falseæ—¶, å¯ä»¥å–æ¶ˆAJAXé€šè®¯ cache boolean true æ˜¯å¦ç¼“å†²é€šä¿¡ç»“æžœçš„æ ‡å¿—ä¸ºtrueæ—¶,æ‰§è¡Œç¼“å†²; åä¹‹ ä¸æ‰§è¡Œç¼“å†². å¦å¤–, å½“ dataType æŒ‡å®šä¸ºscript æˆ– jsonpæ—¶, å€¼ä¸ºfalse complete function - Ajaxé€šä¿¡ç»“æŸæ—¶è°ƒç”¨å’ŒAjax Event,åœ¨success æˆ– error è°ƒå‡ºåŽè¢«è°ƒç”¨ contentType string application/x-www-form-urlencoded åœ¨å‘æœåŠ¡å™¨å‘é€æ•°æ®æ—¶ä½¿ç”¨,æŒ‡å®šcontent-typeçš„å€¼,å‡ ä¹Žä¸ç”¨ä¿®æ”¹ data object/string - æŒ‡å®šå‘å…³ç»™æœåŠ¡å™¨çš„æ•°å€¼.å½“ä»¥å±žæ€§çš„å½¢å¼æŒ‡å®šæ—¶,ä¼šè¢«è½¬æ¢ä¸ºqueryå­—ç¬¦ä¸² dataFilter function - è¿‡æ»¤ä»ŽæœåŠ¡å™¨è¿”å›žçš„å€¼,åœ¨åªéœ€å–å‡ºæ‰€éœ€æ—¶ä½¿ç”¨. ç¬¬ 1ä¸ªå‚æ•°ä¸º æ•°æ®,ç¬¬2ä¸ªå‚æ•°ä¸ºdataType dataType string jQueryæ ¹æ®å›žç­”è‡ªåŠ¨åˆ¤æ–­ æŒ‡å®šæœåŠ¡å™¨çš„è¿”å›žå€¼ç±»åž‹,çœç•¥æ—¶è‡ªåŠ¨åˆ¤æ–­ error function - é€šè®¯å¤±è´¥æ—¶è°ƒç”¨çš„Ajax Event å‚æ•°åˆ†åˆ«æ˜¯ : XMLHttpRequestå¯¹è±¡, é”™è¯¯å†…å®¹å’Œè¡¥å……ä¾‹å¤–å¯¹è±¡. ç¬¬2ä¸ªå‚æ•°ä¸ºnullä»¥å¤–å€¼æ—¶,å¯ä»¥èŽ·å–timeout,error,notmodified,parseerror ç­‰å€¼. global boolean true æ˜¯å¦ä½¿ç”¨ajaxCompleteå…¨å±€å¥æŸ„çš„æ ‡å¿—,ä¸ºtrue ä½¿ç”¨, ä¸ºfalse ä¸ä½¿ç”¨ ifModified boolean false æ£€æŸ¥æœåŠ¡å™¨åº”ç­”ä¸­å«æœ‰çš„Last-modifiedå¤´,åªæœ‰å‰ä¸€æ¬¡çš„åº”ç­”æœ‰å˜æ›´æ—¶,æ‰è¿”å›žæˆåŠŸstatus. ä¸ºtrueæ—¶,æ£€æŸ¥; ä¸ºfalseæ—¶,ä¸æ£€æŸ¥ jsonp string - åœ¨æ‰§è¡Œjsonpè¯·æ±‚çš„æƒ…å†µä¸‹ä½¿ç”¨. APIæ–¹æŒ‡å®šcallbackå‡½æ•°åŽ,ä¸Žsuccesså±žæ€§è”ç³», å°†ä½œä¸ºcallbackå‡½æ•°è¢«è°ƒç”¨ processData boolean true dataå±žæ€§ä¸­æŒ‡å®šçš„å¯¹è±¡æ˜¯å¦è½¬æ¢ä¸ºqueryå­—ç¬¦ä¸²çš„æ ‡å¿—ã€‚åˆå§‹å€¼ä¸ºtrueï¼Œ å˜æ¢ä¸º application/x-www-form-urlencoded å½¢å¼ï¼Œä»¥å…¶ä»–å½¢å¼ä¼ è¾“æ—¶ï¼Œä¸ºfalse. scriptCharset string - åœ¨dataTypeä¸ºjsonpæˆ–script ä¸”Ajaxæ‰§è¡Œé¡µé¢ä¸ŽæœåŠ¡å™¨ä¸­çš„å­—ç¬¦é›†ä¸åŒæ—¶æŒ‡å®š type string get æŒ‡å®šè¯·æ±‚ç±»åž‹ä¸ºpostæˆ–get,åˆå§‹å€¼ä¸ºget. url string å½“å‰é¡µé¢çš„URL æŒ‡å®šé€å‡ºè¯·æ±‚å¯¹è±¡URL,åˆå§‹å€¼æ˜¯å‘å½“å‰çš„é¡µé¢é€šä¿¡ username string - åœ¨æ‰§è¡Œéœ€è¦HTTPè¿žæŽ¥è®¤è¯æ—¶æŒ‡å®š password string - åœ¨æ‰§è¡Œéœ€è¦HTTPè¿žæŽ¥è®¤è¯æ—¶æŒ‡å®š xhr function - åœ¨Ajaxçš„XMLHttpRequestå¯¹è±¡ç”Ÿæˆæ—¶è°ƒç”¨çš„callbackå‡½æ•°.åœ¨IEä¸­,ç”ŸæˆActiveXObjectå¯¹è±¡æ—¶ä¹Ÿè¢«è°ƒç”¨]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Ajax</tag>
        <tag>JQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux ç¬”è®°]]></title>
    <url>%2F2015%2F03%2F02%2Fnode%2Flinux%2Fnode-linux_01%2F</url>
    <content type="text"><![CDATA[Linux ç¬”è®° åœ¨Linuxä¸‹ï¼Œä½ æ‰€èƒ½çœ‹åˆ°çš„éƒ½ä»¥æ–‡ä»¶å½¢å¼å­˜åœ¨ï¼ˆåŒ…æ‹¬æ–‡ä»¶å’Œè®¾å¤‡ï¼‰æ–‡ä»¶åœ¨Linuxä¸‹ï¼Œè¢«çœ‹åšæ–‡ä»¶è®¾å¤‡(äºŒè¿›åˆ¶æ–‡ä»¶å’Œå­—ç¬¦å½¢å¼çš„æ–‡ä»¶)pwd æŸ¥çœ‹å½“å‰è·¯å¾„whoami æˆ‘æ˜¯è°? hd ä»£è¡¨IDEç¡¬ç›˜hda ä»£è¡¨ IDEçš„ç¬¬ä¸€ä¸ªæŽ¥å£hdb ä»£è¡¨ IDEçš„ç¬¬äºŒä¸ªæŽ¥å£hda2 ä»£è¡¨æ‰©å±•åˆ†åŒº,hda5 ä»£è¡¨ç¬¬ä¸€å—ç¡¬ç›˜ä¸Šçš„ç¬¬ä¸€ä¸ªé€»è¾‘åˆ†åŒº æŒ‚è½½mount /dev/cdrom /mnt/cdr ( /dev/cdrom è®¾å¤‡è·¯å¾„, /mnt/cdr è®¾å¤‡æ˜ å°„è·¯å¾„[ç†è®ºä¸Š æ˜ å°„è·¯å¾„å¯ä»¥æ˜¯ä»»ä½•ä½ç½®,ä½†çº¦å®šä¿—æˆçš„æŠŠè®¾å¤‡çš„æ˜ å°„è·¯å¾„æ”¾åœ¨ /mnt ä¸‹] ) å–æ¶ˆæŒ‚è½½umount /dev/cdrom(å‚æ•°å¯ä»¥æ˜¯è®¾å¤‡,ä¹Ÿå¯ä»¥æ˜¯ æŒ‚è½½ç‚¹) rmdir åˆ é™¤è·¯å¾„mkdir æ·»åŠ è·¯å¾„ Linux å¯åŠ¨è¿‡ç¨‹ load bios â€”â€” åŠ è½½BIOS read MBRÂ´s config to find out the OS â€”â€” è¯»å–ç¡¬ç›˜çš„å¼•å¯¼æ‰‡åŒº load the kernel of the OS â€”â€” æ ¹æ®å¼•å¯¼æ‰‡åŒºæŸ¥æ‰¾æ“ä½œç³»ç»Ÿ init process starts â€”â€” å¯åŠ¨ç¬¬ä¸€ä¸ªè¿›ç¨‹ execute /etc/rc.d/sysinit â€”â€” rc.d ï¼ˆrun command è¿è¡Œå‘½ä»¤ åŽå°è¿è¡Œçš„å‘½ä»¤ï¼‰ start other modules(etc/modules.conf) â€”â€” åŠ è½½è®¾å¤‡çš„é©±åŠ¨ç¨‹åº execute the run level scripts â€”â€” ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šè¿è¡Œç›¸åº”å±‚æ¬¡çš„è„šæœ¬ã€‚ execute /etc/rc.d/rc.local â€”â€” å¯ä»¥è®¾ç½®è‡ªå¯è½¯ä»¶ execute /bin/login â€”â€” ç™»å½• shell startedâ€¦. Linux åˆ†åŒºæ–¹å¼ï¼ˆæ‰‹åŠ¨åˆ†åŒºå’Œè‡ªåŠ¨åˆ†åŒºï¼‰æ‰‹åŠ¨åˆ†åŒºï¼š / â€”â€” æ ¹åˆ†åŒº /usr â€”â€” åº”ç”¨è½¯ä»¶å­˜æ”¾ä½ç½® /home â€”â€” ç”¨æˆ·å®¿ä¸»ç›®å½•çš„çˆ¶ç›®å½• /var â€”â€” å­˜æ”¾ä¸´æ—¶æ–‡ä»¶ /boot â€”â€” å­˜æ”¾å¯åŠ¨æ–‡ä»¶ 128M is enough SWAP â€”â€” äº¤æ¢åˆ†åŒºï¼ˆç›¸å½“äºŽwindowsçš„è™šæ‹Ÿå†…å­˜ï¼‰ ç†è®ºä¸Šäº¤æ¢åˆ†åŒºçš„å¤§å°æ˜¯ç‰©ç†å†…å­˜çš„ä¸¤å€ å¯ä»¥ä¸å»ºï¼Œä½†ä¸å»ºè®®ï¼Œå› ä¸ºæœ‰çš„ç¨‹åºä¼šé»˜è®¤ä½¿ç”¨ Inti0 - ç³»ç»ŸåœæœºçŠ¶æ€1 - å•ç”¨æˆ·å·¥ä½œçŠ¶æ€2 - å¤šç”¨æˆ·çŠ¶æ€ï¼ˆæ²¡æœ‰NFS - ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼‰3 - å¤šç”¨æˆ·çŠ¶æ€ï¼ˆæœ‰NFSï¼‰4 - ç³»ç»Ÿæœªä½¿ç”¨ï¼Œç•™ç»™ç”¨æˆ·5 - å›¾å½¢ç•Œé¢6 - ç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡å¯ Linux å¸¸ç”¨å‘½ä»¤ï¼š shutdown now çŽ°åœ¨å…³æœºls åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•ï¼ˆä»¥då¼€å¤´çš„æ˜¯ç›®å½•ï¼Œä»¥ â€” å¼€å¤´çš„æ˜¯æ–‡ä»¶,ä»¥læ‰“å¤´çš„æ˜¯ä¸€ä¸ªé“¾æŽ¥ï¼‰cd æ—¢å¯ä»¥ç”¨å†³å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼ˆcd.. ä¸Šå±‚è·¯å¾„ï¼‰pwd æ˜¾ç¤ºå½“å‰è·¯å¾„mkdir åˆ›å»ºä¸€ä¸ªç›®å½•rmdir åˆ é™¤ä¸€ä¸ªç›®å½•ï¼ˆåªèƒ½åˆ é™¤ç©ºç›®å½•ï¼‰rm -rf å¼ºåˆ¶é€’å½’åˆ é™¤ï¼ˆå…¨éƒ¨åˆ é™¤ r â€”â€” é€’å½’ f â€”â€” å¼ºåˆ¶ï¼‰touch åˆ›å»ºæ–‡ä»¶ï¼ˆä»ŽlinuxæŠ€æœ¯è§’åº¦ï¼Œæ‰©å±•å‘½ï¼Œæ²¡æœ‰æ„ä¹‰ï¼Œåœ¨linuxä¸‹çš„æ‰©å±•ååªæœ‰æç¤ºæ„ä¹‰ï¼‰cp å¤åˆ¶mv ç§»åŠ¨cat æŸ¥çœ‹æ–‡ä»¶å†…å®¹tac å€’åºè¾“å‡ºæ–‡ä»¶å†…å®¹more æŸ¥çœ‹æ–‡ä»¶é‡Œçš„å†…å®¹(åˆ†å±æ˜¾ç¤º)head [-n] &lt;æ–‡ä»¶å&gt; æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å‰nè¡Œfind æŸ¥æ‰¾æ–‡ä»¶ï¼ˆå¯ä»¥æŒ‰æ–‡ä»¶åï¼Œæ—¥æœŸï¼Œå¤§å°ã€‚ã€‚ã€‚ã€‚æ€»ä¹‹éžå¸¸å¼ºå¤§ï¼‰whereis &lt;å‘½ä»¤&gt; å‘½ä»¤å­˜æ”¾çš„ä½ç½®ï¼Œå·²ç»è¿™ä¸ªå‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£çš„ä½ç½®ln &lt;v.txt&gt; &lt;lv.txt&gt; åˆ›å»ºlv.txtçš„ç¡¬é“¾æŽ¥ï¼ŒæŒ‡å‘v.txtï¼ˆæ‰€è°“ç¡¬é“¾æŽ¥ï¼Œå°±æ˜¯æŠŠv.txtä¸­äº†å†…å®¹å¤åˆ¶åˆ°lv.txtä¸­ï¼Œä¸ç®¡å…¶ä¸­å“ªä¸ªæ–‡ä»¶çš„å†…å®¹è¢«ä¿®æ”¹äº†ï¼Œä¸¤ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹éƒ½æ˜¯æœ€åŽä¿®æ”¹è¿‡çš„å†…å®¹ï¼‰ln -s &lt;v.txt&gt; &lt;lsv.txt&gt; åˆ›å»ºv.txtä¹±é“¾æŽ¥ï¼ˆç›¸å½“äºŽç»™v.txtåŠ äº†ä¸€ä¸ªå¿«æ·æ–¹å¼ï¼‰echo $PATH æŸ¥çœ‹PATH çŽ¯å¢ƒå˜é‡chown &lt;username&gt; &lt;filename&gt; ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…grep &lt;è¦æŸ¥æ‰¾çš„å†…å®¹&gt; &lt;è¦æŸ¥æ‰¾çš„æ–‡ä»¶&gt; æ˜¾ç¤ºå†…å®¹åœ¨æ–‡ä»¶çš„ä¸€æ•´è¡Œdate æ˜¾ç¤ºå’Œè®¾ç½®æ—¥æœŸæ—¶é—´stat æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯who\w æ˜¾ç¤ºåœ¨çº¿ç™»å½•ç”¨æˆ·whoami æ˜¾ç¤ºç”¨æˆ·è‡ªå·±çš„èº«ä»½id æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„idä¿¡æ¯hostname æ˜¾ç¤ºä¸»æœºä¿¡æ¯uname æ˜¾ç¤ºæ“ä½œç³»ç»Ÿä¿¡æ¯dmesg æ˜¾ç¤ºç³»ç»Ÿå¯åŠ¨ä¿¡æ¯du æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶(ç›®å½•)å·²ä½¿ç”¨çš„ç£ç›˜ç©ºé—´çš„æ€»é‡df æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç£ç›˜ç©ºé—´çš„ä½¿ç”¨æƒ…å†µfree æ˜¾ç¤ºå½“å‰å†…å­˜å’Œäº¤æ¢ç©ºé—´çš„ä½¿ç”¨æƒ…å†µfdisk -l æ˜¾ç¤ºç£ç›˜ä¿¡æ¯locale æ˜¾ç¤ºå½“å‰è¯­è¨€çŽ¯å¢ƒwall è­¦å‘Šæ‰€æœ‰ç”¨æˆ· VIMå¦‚æžœå½“å‰ç›®å½•é‡Œæœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šæ‰“å¼€è¿™æ–‡ä»¶ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œå°±ä¼šåˆ›å»ºè¿™ä¸ªæ–‡ä»¶å¹¶æ‰“å¼€viç¼–è¾‘å™¨ï¼Œæœ‰ä¸¤ç§æ¨¡å¼ï¼ˆç¼–è¾‘æ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼ï¼‰ï¼Œåˆšä¸€æ‰“å¼€ä¸ºå‘½ä»¤æ¨¡å¼ï¼Œåªèƒ½æ•²å‘½ä»¤ï¼Œåœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ a æ·»åŠ å†…å®¹ï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼ŒæŒ‰ï¼’æ¬¡ ESC é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œå›žåˆ°å‘½ä»¤æ¨¡å¼æŒ‰ ï¼š åŠå¯è¾“å…¥å‘½ä»¤w ä¿å­˜q é€€å‡ºqï¼ ä¸ä¿å­˜é€€å‡ºwq ä¿å­˜é€€å‡ºdd åˆ é™¤ä¸€è¡Œdw åˆ é™¤ä¸€ä¸ªå•è¯wc ç»Ÿè®¡æŒ‡å®šæ–‡ä»¶çš„è¡Œæ•°,å­—æ•°,å­—ç¬¦æ•° etcç›®å½•ä¸‹çš„passwdæ–‡ä»¶å®žé™…å­˜æ”¾çš„æ˜¯æ‰€æœ‰ç”¨æˆ·-ç±»ä¼¼äºŽ testuser:x:501:502:/home/testuser:bin/bashtestuser ç”¨æˆ·åxç»„ä¸º 501idä¸º 502ä¸»ç›®å½• /home/testusershell bin/bash (shell è§£é‡Šå‘½ä»¤,å’Œå†…æ ¸äº¤æµ)[æ³¨:é™¤äº†bashå¤–,è¿˜æœ‰csh,ksh,bsh,å’Œæœ€åŽŸå§‹çš„sh] æ·»åŠ ç”¨æˆ·æ—¶,æ²¡æœ‰æŒ‡å®šç»„çš„è¯´,é»˜è®¤ä¼šæ·»åŠ ä¸€ä¸ªå’Œç”¨æˆ·åç›¸åŒçš„ç»„linux å¯ä»¥å¯¹ç”¨æˆ·ç»„è¿›è¡Œå¢žåˆ æ”¹æ“ä½œå½“åˆ é™¤ç”¨æˆ·æ—¶,ç”¨æˆ·çš„æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤ æ–‡ä»¶æƒé™ (å…± 10 ä½çš„æƒé™æè¿°) [ ç¬¬1ä½å•ç‹¬è‡ªå·±,å¾€åŽæ¯ä¸‰ä¸ªä¸€ç»„ ] [ r å¯è¯», w å¯å†™, x å¯æ‰§è¡Œ, - æ²¡æœ‰ä»»ä½•æƒé™ ] ç¬¬ 1ä½: ä»¥då¼€å¤´çš„æ˜¯ç›®å½•, ä»¥ â€” å¼€å¤´çš„æ˜¯æ–‡ä»¶, ä»¥læ‰“å¤´çš„æ˜¯ä¸€ä¸ªé“¾æŽ¥ ç¬¬ 2ä½: è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…,æœ‰æ²¡æœ‰è¯»çš„æƒé™(æœ‰çš„è¯ r æ²¡æœ‰çš„è¯ - )ç¬¬ 3ä½: è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…,æœ‰æ²¡æœ‰å†™çš„æƒé™(æœ‰çš„è¯ w æ²¡æœ‰çš„è¯ - )ç¬¬ 4ä½: è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…,æœ‰æ²¡æœ‰æ‰§è¡Œçš„æƒé™(æœ‰çš„è¯ x æ²¡æœ‰çš„è¯ - ) ç¬¬ 5ä½: è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…åŒç»„çš„å…¶ä»–äºº,æœ‰æ²¡æœ‰è¯»çš„æƒé™(æœ‰çš„è¯ r æ²¡æœ‰çš„è¯ - )ç¬¬ 6ä½: è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…åŒç»„çš„å…¶ä»–äºº,æœ‰æ²¡æœ‰å†™çš„æƒé™(æœ‰çš„è¯ w æ²¡æœ‰çš„è¯ - )ç¬¬ 7ä½: è¿™ä¸ªæ–‡ä»¶çš„æ‰€æœ‰è€…åŒç»„çš„å…¶ä»–äºº,æœ‰æ²¡æœ‰æ‰§è¡Œçš„æƒé™(æœ‰çš„è¯ x æ²¡æœ‰çš„è¯ - ) ç¬¬ 8ä½: å…¶ä»–äºº,æœ‰æ²¡æœ‰è¯»çš„æƒé™(æœ‰çš„è¯ r æ²¡æœ‰çš„è¯ - )ç¬¬ 9ä½: å…¶ä»–äºº,æœ‰æ²¡æœ‰å†™çš„æƒé™(æœ‰çš„è¯ w æ²¡æœ‰çš„è¯ - )ç¬¬10ä½: å…¶ä»–äºº,æœ‰æ²¡æœ‰æ‰§è¡Œçš„æƒé™(æœ‰çš„è¯ x æ²¡æœ‰çš„è¯ - ) ä¸€èˆ¬: æ‹¥æœ‰è¿™ä¸ªæ–‡ä»¶çš„äºº,å¯è¯»å¯å†™,å…¶ä»–äººåªè¯»,æ‹¥æœ‰è¿™ä¸ªç›®å½•çš„äºº,å¯è¯»å¯å†™å¯æ‰§è¡Œ,å…¶ä»–äººå¯è¯»å¯æ‰§è¡Œ, u æ–‡ä»¶æ‹¥æœ‰è€…g åŒç»„çš„ä¸ªo å…¶ä»–äºº chmod ä¿®æ”¹æƒé™(å¯ç›´æŽ¥ + - )ä¾‹å¦‚: chmod g+w v.txt (å…¶å«ä¹‰:ç»™åŒç»„çš„äººåŠ å¯å†™æƒé™) linux ç”¨3ä¸ª8è¿›åˆ¶æ•°ä»£è¡¨è¿™ä¸‰ç»„æƒé™,1 ä»£è¡¨æœ‰æƒé™, 0 ä»£è¡¨æ²¡æƒé™(ä¾‹å¦‚ rwxr-xrâ€“,å°±å¯ä»¥æ˜¯111101100,ä¹Ÿå°±æ˜¯754) ç®¡é“ä¾‹å­: ls -Rl | more (æŠŠä¸Šä¸€ä¸ªå‘½ä»¤çš„ç»“æžœ,äº¤ç»™ | åŽçš„å‘½ä»¤åŽ»å¤„ç†) dmesg | grep eth0 (æ£€æŸ¥å¯åŠ¨æ—¶çš„ç¬¬ä¸€å—ç½‘å¡çš„ä¿¡æ¯) å‘½ä»¤æ›¿æ¢ `(å¤§é”®ç›˜1å·¦è¾¹çš„é”®)åŒ…èµ·çš„å‘½ä»¤,æ›¿æ¢æˆæ‰§è¡Œç»“æžœ,äº¤ç»™ä¸‹é¢çš„ç®¡é“ é‡å®šå‘é‡å®šå‘è¾“å…¥&gt;æŠŠæ‰§è¡Œç»“æžœçš„å†…å®¹,è¾“å‡ºåˆ°æŒ‡å®šçš„æ–‡ä»¶(åŽŸæ–‡ä»¶å†…å®¹æ¸…ç©º)(ä¾‹å¦‚: ls -l &gt; v.txt)&gt;&gt; è¿½åŠ å†…å®¹å‘½ä»¤æ‰¾ä¸åˆ°çš„è¯,å°±ä¸ä¼šåšè¾“å‡ºäº†é‡å®šå‘è¾“å‡º&lt; (ä¾‹å¦‚: wall &lt; a.txt) å°†a.txtä¸­çš„å†…å®¹ä½œä¸ºè­¦å‘Šä¿¡æ¯ ä¿®æ”¹å¯åŠ¨æ–‡ä»¶è¾“å…¥å‘½ä»¤sudo gedit /etc/default/grubä¿®æ”¹grubæ–‡ä»¶ä¸­å†…å®¹:GRUB_CMDLINE_LINUX_DEFAULT=&quot;text&quot;æ›´æ–°grubsudo update-grubé‡å¯sudo reboot]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery æ‹¼å›¾å®žä¾‹]]></title>
    <url>%2F2015%2F03%2F01%2Fnode%2Fjavascript%2Fnode-javascript_15%2F</url>
    <content type="text"><![CDATA[jQuery æ‹¼å›¾å®žä¾‹ HTML 12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;title&gt;jQuery&lt;/title&gt; &lt;link rel="stylesheet" type="text/css" href="css/bootstrap.css"/&gt; &lt;link rel="stylesheet" type="text/css" href="css/bootstrap-responsive.css"/&gt; &lt;link rel="stylesheet" type="text/css" href="css/user.css"/&gt; &lt;script src="js/jquery-2.1.3.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;script src="js/bootstrap.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="js/user.js" &gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class="container background-main"&gt; &lt;div class="image-item img1" id="img1"&gt;&lt;/div&gt; &lt;div class="image-item img2" id="img2"&gt;&lt;/div&gt; &lt;div class="image-item img3" id="img3"&gt;&lt;/div&gt; &lt;div class="image-item img4" id="img4"&gt;&lt;/div&gt; &lt;div class="image-item img5" id="img5"&gt;&lt;/div&gt; &lt;div class="image-item img6" id="img6"&gt;&lt;/div&gt; &lt;div class="image-item img7" id="img7"&gt;&lt;/div&gt; &lt;div class="image-item img8" id="img8"&gt;&lt;/div&gt; &lt;div class="image-item img9" id="img9"&gt;&lt;/div&gt; &lt;/div&gt; &lt;audio src="music/slide.mp3" id="music"&gt;&lt;/audio&gt; &lt;/body&gt; &lt;/html&gt; CSS 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586.background-main&#123; margin-top: 20px; margin-left: auto; margin-right: auto; position: relative; &#125; .image-item&#123; width: 245px; height: 200px; position: absolute; /*background: no-repeat center top fixed;*/ /*background-size:100% 100%;*/ /*background-color: red;*/ float: left; &#125; .img1&#123; left: 0px; top: 0px; &#125; .img2&#123; left: 245px; top: 0px; &#125; .img3&#123; left: 490px; top: 0px; &#125; .img4&#123; left: 0px; top: 200px; &#125; .img5&#123; left: 245px; top: 200px; &#125; .img6&#123; left: 490px; top: 200px; &#125; .img7&#123; left: 0px; top: 400px; &#125; .img8&#123; left: 245px; top: 400px; &#125; .img9&#123; left: 490px; top: 400px; &#125; #img1&#123; background: url(../img/img0.png); background-size:100% 100%; &#125; #img2&#123; background: url(../img/img1.png); background-size:100% 100%; &#125; #img3&#123; background: url(../img/img2.png); background-size:100% 100%;&#125; #img4&#123; background: url(../img/img3.png); background-size:100% 100%;&#125; #img5&#123; background: url(../img/img4.png); background-size:100% 100%;&#125; #img6&#123; background: url(../img/img5.png); background-size:100% 100%;&#125; #img7&#123; background: url(../img/img6.png); background-size:100% 100%;&#125; #img8&#123; background: url(../img/img7.png); background-size:100% 100%; &#125; #img9&#123; background: url(../img/img8.png); background-size:100% 100%; &#125; JavaScript 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105var sum = 0; // å­˜æ”¾æ‰€æœ‰æ–¹å—å¯¹åº”å€¼çš„å’Œ var arr = []; // å­˜æ”¾8å—å›¾ç‰‡çš„å®¹å™¨ window.onload = function() &#123; // éšæœºäº§ç”Ÿä¸ç›¸åŒçš„8ä¸ªéšæœºæ•° var index = []; for(var i = 0; i &lt; 8; i++)&#123; index[i] = parseInt(Math.random()*8); for(var j = 0; j &lt; i; j++)&#123; if(index[i] == index[j])&#123;break;&#125; &#125; if(j != i)&#123;i--;&#125; &#125; // èŽ·å¾—æ‰€æœ‰æ–¹å—å¯¹åº”å€¼çš„å’Œ $.each($('.image-item'), function() &#123; sum += parseInt($(this).css("left")) + parseInt($(this).css("top")); &#125;); // æŠŠæµ®åŠ¨çš„8ä¸ªæ–¹å—çš„åå­—,å­˜å…¥å®¹å™¨ for(var i = 1; i &lt; 9; i++)&#123; var str = "img" + i; arr[i-1] = document.getElementById(str); &#125; // æ‰“ä¹±8å—æ–¹å—ä½ç½® for(var i = 0; i &lt; 8; i++) &#123; var mod = i - parseInt(i / 3) *3; var setLeft = mod * 245; var setTop = parseInt(i / 3) * 200; arr[index[i]].style.left = setLeft + "px"; arr[index[i]].style.top = setTop + "px"; &#125; // éšè—ç¬¬ä¹å—å›¾ç‰‡ $("#img9").hide(); // $("#img9").show(); // ç»‘å®šæ¯å—å›¾ç‰‡çš„å•å‡»äº‹ä»¶ $('.image-item').click(function()&#123; // å­˜æ”¾å•å‡»å›¾ç‰‡å¯¹åº”çš„æ•°å€¼ var num = parseInt($(this).css("left")) + parseInt($(this).css("top")); // å­˜æ”¾å½“å‰8å—æ–¹å—å¯¹åº”å€¼çš„å’Œ var presentSum = 0; // è®¡ç®—å½“å‰8å—æ–¹å—å¯¹åº”å€¼çš„å’Œ for(var i = 0; i &lt; arr.length; i++) &#123; presentSum += parseInt($(arr[i]).css("left")) + parseInt($(arr[i]).css("top")); &#125; // å­˜æ”¾å½“å‰ç©ºæ ¼å¯¹åº”çš„è¦æ•°å€¼ var notExist = 0; // è®¡ç®—9å—æ–¹æ ¼ä¸­,å“ªä¸€å—æ˜¯ç©ºçš„ notExist = sum - presentSum; // æ ‡è¯† var flag = notExist - num; // è§¦å‘å£°éŸ³ document.getElementById("music").play(); // åˆ¤æ–­æ–¹å—çš„ç§»åŠ¨æ–¹å‘ if(flag == 200 || flag == -200) &#123; var setTop = parseInt($(this).css("top")) + flag; // ä¸Šä¸‹ç§»åŠ¨æ–¹å—(å¸¦åŠ¨ç”») $(this).animate(&#123;top: setTop + "px"&#125;); &#125; else if(flag == 245 || flag == -245) &#123; var setLeft = parseInt($(this).css("left")) + flag; // å·¦å³ç§»åŠ¨æ–¹å—(å¸¦åŠ¨ç”») $(this).animate(&#123;left: setLeft + "px"&#125;); &#125; // åˆ¤æ–­æ˜¯å¦æ‹¼å¥½ var judge = []; // å­˜æ”¾å½“å‰æ‰€æœ‰æ–¹å—å¯¹åº”çš„å€¼ for(var i = 0; i &lt; 8; i++) &#123; judge[i] = parseInt(arr[i].style.left) + parseInt(arr[i].style.top); if(judge[i] == num) &#123; judge[i] += flag; &#125; &#125; for(var j = 0; j &lt; 8; j++) &#123; var mod = j - parseInt(j / 3) *3; var setLeft = mod * 245; var setTop = parseInt(j / 3) * 200; var temp = setLeft + setTop; if(temp != judge[j]) &#123; break; &#125; &#125; if(j == 8) &#123; // æ˜¾ç¤ºç¬¬ä¹å—å›¾ç‰‡ $("#img9").slideDown(); // å–æ¶ˆå•å‡»ç»‘å®š $('.image-item').unbind("click") &#125; &#125;); &#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5 æ ‡ç­¾]]></title>
    <url>%2F2015%2F02%2F11%2Fnode%2Fnode-html_2%2F</url>
    <content type="text"><![CDATA[HTML5 æ ‡ç­¾ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130&lt;!--...--&gt; å®šä¹‰æ³¨é‡Šã€‚&lt;!DOCTYPE&gt; å®šä¹‰æ–‡æ¡£ç±»åž‹ã€‚&lt;a&gt; å®šä¹‰è¶…é“¾æŽ¥ã€‚ &lt;abbr&gt; å®šä¹‰ç¼©å†™ã€‚&lt;address&gt; å®šä¹‰åœ°å€å…ƒç´ ã€‚&lt;area&gt; å®šä¹‰å›¾åƒæ˜ å°„ä¸­çš„åŒºåŸŸã€‚&lt;article&gt; å®šä¹‰ articleã€‚&lt;aside&gt; å®šä¹‰é¡µé¢å†…å®¹ä¹‹å¤–çš„å†…å®¹ã€‚&lt;audio&gt; å®šä¹‰å£°éŸ³å†…å®¹ã€‚&lt;b&gt; å®šä¹‰ç²—ä½“æ–‡æœ¬ã€‚ &lt;base&gt; å®šä¹‰é¡µé¢ä¸­æ‰€æœ‰é“¾æŽ¥çš„åŸºå‡† URLã€‚&lt;bdo&gt; å®šä¹‰æ–‡æœ¬æ˜¾ç¤ºçš„æ–¹å‘ã€‚ &lt;blockquote&gt; å®šä¹‰é•¿çš„å¼•ç”¨ã€‚&lt;body&gt; å®šä¹‰ body å…ƒç´ ã€‚&lt;br&gt; æ’å…¥æ¢è¡Œç¬¦ã€‚&lt;button&gt; å®šä¹‰æŒ‰é’®ã€‚&lt;canvas&gt; å®šä¹‰å›¾å½¢ã€‚&lt;caption&gt; å®šä¹‰è¡¨æ ¼æ ‡é¢˜ã€‚&lt;cite&gt; å®šä¹‰å¼•ç”¨ã€‚&lt;code&gt; å®šä¹‰è®¡ç®—æœºä»£ç æ–‡æœ¬ã€‚&lt;col&gt; å®šä¹‰è¡¨æ ¼åˆ—çš„å±žæ€§ã€‚&lt;colgroup&gt; å®šä¹‰è¡¨æ ¼åˆ—çš„åˆ†ç»„ã€‚&lt;command&gt; å®šä¹‰å‘½ä»¤æŒ‰é’®ã€‚&lt;datalist&gt; å®šä¹‰ä¸‹æ‹‰åˆ—è¡¨ã€‚&lt;dd&gt; å®šä¹‰å®šä¹‰çš„æè¿°ã€‚ &lt;del&gt; å®šä¹‰åˆ é™¤æ–‡æœ¬ã€‚ &lt;details&gt; å®šä¹‰å…ƒç´ çš„ç»†èŠ‚ã€‚&lt;dfn&gt; å®šä¹‰å®šä¹‰é¡¹ç›®ã€‚ &lt;div&gt; å®šä¹‰æ–‡æ¡£ä¸­çš„ä¸€ä¸ªéƒ¨åˆ†ã€‚&lt;dl&gt; å®šä¹‰å®šä¹‰åˆ—è¡¨ã€‚ &lt;dt&gt; å®šä¹‰å®šä¹‰çš„é¡¹ç›®ã€‚&lt;em&gt; å®šä¹‰å¼ºè°ƒæ–‡æœ¬ã€‚ &lt;embed&gt; å®šä¹‰å¤–éƒ¨äº¤äº’å†…å®¹æˆ–æ’ä»¶ã€‚&lt;fieldset&gt; å®šä¹‰ fieldsetã€‚&lt;figcaption&gt; å®šä¹‰ figure å…ƒç´ çš„æ ‡é¢˜ã€‚&lt;figure&gt; å®šä¹‰åª’ä»‹å†…å®¹çš„åˆ†ç»„ï¼Œä»¥åŠå®ƒä»¬çš„æ ‡é¢˜ã€‚ &lt;footer&gt; å®šä¹‰ section æˆ– page çš„é¡µè„šã€‚&lt;form&gt; å®šä¹‰è¡¨å•ã€‚ &lt;h1&gt; to &lt;h6&gt; å®šä¹‰æ ‡é¢˜ 1 åˆ°æ ‡é¢˜ 6ã€‚&lt;head&gt; å®šä¹‰å…³äºŽæ–‡æ¡£çš„ä¿¡æ¯ã€‚&lt;header&gt; å®šä¹‰ section æˆ– page çš„é¡µçœ‰ã€‚&lt;hgroup&gt; å®šä¹‰æœ‰å…³æ–‡æ¡£ä¸­çš„ section çš„ä¿¡æ¯ã€‚ &lt;hr&gt; å®šä¹‰æ°´å¹³çº¿ã€‚&lt;html&gt; å®šä¹‰ html æ–‡æ¡£ã€‚&lt;i&gt; å®šä¹‰æ–œä½“æ–‡æœ¬ã€‚ &lt;iframe&gt; å®šä¹‰è¡Œå†…çš„å­çª—å£ï¼ˆæ¡†æž¶ï¼‰ã€‚&lt;img&gt; å®šä¹‰å›¾åƒã€‚ &lt;input&gt; å®šä¹‰è¾“å…¥åŸŸã€‚&lt;ins&gt; å®šä¹‰æ’å…¥æ–‡æœ¬ã€‚&lt;keygen&gt; å®šä¹‰ç”Ÿæˆå¯†é’¥ã€‚ &lt;kbd&gt; å®šä¹‰é”®ç›˜æ–‡æœ¬ã€‚&lt;label&gt; å®šä¹‰è¡¨å•æŽ§ä»¶çš„æ ‡æ³¨ã€‚&lt;legend&gt; å®šä¹‰ fieldset ä¸­çš„æ ‡é¢˜ã€‚&lt;li&gt; å®šä¹‰åˆ—è¡¨çš„é¡¹ç›®ã€‚&lt;link&gt; å®šä¹‰èµ„æºå¼•ç”¨ã€‚&lt;map&gt; å®šä¹‰å›¾åƒæ˜ å°„ã€‚&lt;mark&gt; å®šä¹‰æœ‰è®°å·çš„æ–‡æœ¬ã€‚&lt;menu&gt; å®šä¹‰èœå•åˆ—è¡¨ã€‚&lt;meta&gt; å®šä¹‰å…ƒä¿¡æ¯ã€‚ &lt;meter&gt; å®šä¹‰é¢„å®šä¹‰èŒƒå›´å†…çš„åº¦é‡ã€‚&lt;nav&gt; å®šä¹‰å¯¼èˆªé“¾æŽ¥ã€‚ &lt;noscript&gt; å®šä¹‰ noscript éƒ¨åˆ†ã€‚&lt;object&gt; å®šä¹‰åµŒå…¥å¯¹è±¡ã€‚&lt;ol&gt; å®šä¹‰æœ‰åºåˆ—è¡¨ã€‚&lt;optgroup&gt; å®šä¹‰é€‰é¡¹ç»„ã€‚&lt;option&gt; å®šä¹‰ä¸‹æ‹‰åˆ—è¡¨ä¸­çš„é€‰é¡¹ã€‚&lt;output&gt; å®šä¹‰è¾“å‡ºçš„ä¸€äº›ç±»åž‹ã€‚&lt;p&gt; å®šä¹‰æ®µè½ã€‚ &lt;param&gt; ä¸ºå¯¹è±¡å®šä¹‰å‚æ•°ã€‚&lt;pre&gt; å®šä¹‰é¢„æ ¼å¼åŒ–æ–‡æœ¬ã€‚&lt;progress&gt; å®šä¹‰ä»»ä½•ç±»åž‹çš„ä»»åŠ¡çš„è¿›åº¦ã€‚&lt;q&gt; å®šä¹‰çŸ­çš„å¼•ç”¨ã€‚&lt;rp&gt; å®šä¹‰è‹¥æµè§ˆå™¨ä¸æ”¯æŒ ruby å…ƒç´ æ˜¾ç¤ºçš„å†…å®¹ã€‚&lt;rt&gt; å®šä¹‰ ruby æ³¨é‡Šçš„è§£é‡Šã€‚&lt;ruby&gt; å®šä¹‰ ruby æ³¨é‡Šã€‚ &lt;samp&gt; å®šä¹‰æ ·æœ¬è®¡ç®—æœºä»£ç ã€‚&lt;script&gt; å®šä¹‰è„šæœ¬ã€‚&lt;section&gt; å®šä¹‰ sectionã€‚&lt;select&gt; å®šä¹‰å¯é€‰åˆ—è¡¨ã€‚&lt;small&gt; å®šä¹‰å°å·æ–‡æœ¬ã€‚&lt;source&gt; å®šä¹‰åª’ä»‹æºã€‚&lt;span&gt; å®šä¹‰æ–‡æ¡£ä¸­çš„ sectionã€‚ &lt;strong&gt; å®šä¹‰å¼ºè°ƒæ–‡æœ¬ã€‚&lt;style&gt; å®šä¹‰æ ·å¼å®šä¹‰ã€‚&lt;sub&gt; å®šä¹‰ä¸‹æ ‡æ–‡æœ¬ã€‚&lt;summary&gt; å®šä¹‰ details å…ƒç´ çš„æ ‡é¢˜ã€‚ &lt;sup&gt; å®šä¹‰ä¸Šæ ‡æ–‡æœ¬ã€‚&lt;table&gt; å®šä¹‰è¡¨æ ¼ã€‚&lt;tbody&gt; å®šä¹‰è¡¨æ ¼çš„ä¸»ä½“ã€‚&lt;td&gt; å®šä¹‰è¡¨æ ¼å•å…ƒã€‚&lt;textarea&gt; å®šä¹‰ textareaã€‚&lt;tfoot&gt; å®šä¹‰è¡¨æ ¼çš„è„šæ³¨ã€‚&lt;th&gt; å®šä¹‰è¡¨å¤´ã€‚&lt;thead&gt; å®šä¹‰è¡¨å¤´ã€‚&lt;time&gt; å®šä¹‰æ—¥æœŸ/æ—¶é—´ã€‚&lt;title&gt; å®šä¹‰æ–‡æ¡£çš„æ ‡é¢˜ã€‚&lt;tr&gt; å®šä¹‰è¡¨æ ¼è¡Œã€‚ &lt;ul&gt; å®šä¹‰æ— åºåˆ—è¡¨ã€‚ &lt;var&gt; å®šä¹‰å˜é‡ã€‚&lt;video&gt; å®šä¹‰è§†é¢‘ã€‚]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
</search>
