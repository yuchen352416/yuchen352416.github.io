<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[《解忧杂货店》—— 东野圭吾]]></title>
    <url>%2F2029%2F03%2F09%2Fdiary%2Fbook%2Fbook_0001%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX1+TeExlnJWsJGzjLSuOax/P1F5TTvg5HTFgZB5sr1jt0gSkbMSA0vQnQc4Z0fiSaA06UiF63cZ+bjRcerLq5wm+LQNhfxXMtJI4azglB5EcZjEsw0nS0ahWx7kvgQpXYGSt/olNkKLf7HnebI9BFKmeowZoA9IhsGcIaGwopKaYQMCHQmGrhf/TQg6rRIctMiQujV85Lr3nYCMPcbs+yu5Cf02BL+pyNeFdY2KMd7A47TKmxNSHSUOsdw3Iyopyv/aVT8bj1L13JzTbThQUkfPEvjgdwBTS5qg9kHPt+dTBT8STqYjV7SnUXWonC/LUQ52JGibF+sW7cjHkbngMJuej+p1I3eLJQWjm2B/aGE01jCMxDJxqg9mmFUVPDDwUnV17IxPL21MSOK1i+GyMyF+fSuQ+bcHw4r3buZn+zT8bvpM8+/2ZwQzuD5PDZ55ihacLgrra1Zwhhfp9u8tWjLumr5U9X6t8NWZNr8BzTenW7ughTKmGdO0noikKnH38VUWyc3pJglpoRAh1IoLRayRdXJlVjajYQJMErPUtMIGNhyu5qL79ih5mREUGy2wN93L4u5yWHKaW8RMXhNj8UBerbjlw8YWGFnufZ/9CH20e5NZzwZ9kSG4skRTGeUL2BqypRISK9nRb9JAYLkKa1se96+2bg8hCV7XLFeB+H8ztgID5RRMPRBRZgFtFANXvrxhpH0SxRLCKD4hr/DFAQWHxqUaNxQWdGCx0o/ylY0ulwHuDoVfn3U9XaL8Lq8aghbgGHZ3R4KCUPEX5Bc7a4zt6HRTkeNkbZxhHdbHJZP5TAh/WRkMPIx5NfXORSt/aPWFoEngTtKAjkK6sT95Shn5TlkW0B2iVzHh5mN4V2yudEqhgBZ2qNt9q7qZ5Ku09VqTAMO8wOPWVdSPpnqJboyeKGTik9Tb/slEMYwHBQHsseME6DLKa5EOJ9ABxnF+Byftmmg0hMdUu0yip8kjUrh42eQZLpvo5Yg0NAVe0QmtWKyT/gxz5jAlqVMHPKC4NIxolqc5+d+SyO4dxbwz4+T37d9R7ss92r+VhYFt9xy3S83/zXE3l4tNKEviEZWp0oXNcQb76sCgQ1A==]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python FastAPI]]></title>
    <url>%2F2020%2F03%2F02%2Farticle%2Fpython%2Farticle-python_15%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[自定义 ClassLoader]]></title>
    <url>%2F2020%2F03%2F01%2Fnode%2Fjava%2Fnode-j2se_15%2F</url>
    <content type="text"><![CDATA[最近在工作中, 遇到了涉及到ClassLoader知识点的内容. 趁周末, 复习了下这部分的内容. 写写知识点. 方便以后的知识梳理. 类加载器类的生命周期类从被加载到虚拟机内存中开始到卸载出内存结束, 它整个的生命周期包括: 加载, 验证, 准备, 初始化, 使用和卸载. 验证, 准备, 解析, 初始化, 是交叉进行的. 加载在类的加载阶段, 虚拟机需要完成3件事: 通过类的全限定名, 获取到定义此类的二进制字节流. 将这个字节流所代表的静态存储结构, 转化为方法区的运行时数据结构 在内存中生成一个代表这个类的java.lang.Class对象, 做为方法区这个类的各种数据的访问入口. 验证验证类的合法性, 分为4个部分: 验证字节流 是否符合Class文件格式. 对加载类, 进行语义分析, 语法检查. 对加载类, 进行代码逻辑的检查(这部分, 是无法保证准确的) 对加载类, 进行符号引用的检查(检查类中引用的类, 方法, 字段的访问性 public, private, protected, default ). 准备在这个阶段中, 主要是对加载类的变量分配内存, 并设置初始值. 并对加载类中的常量, 进行赋值操作 解析这个阶段中, 是对加载类的接口/父类/引用类进行递归加载(重复上面的操作). 这里需要注意的是, 数组元素类型 会初始化元素类型. 比如int[]会被表述为[Ljava/lang/Integer 初始化这个阶段是类加载的最后一步. 在这个过程中, 编译器会收集所有类变量的赋值动作和静态代码块 合并为 &lt;clinit&gt;()方法 静态代码块, 可以对定义在它之后的变量赋值, 但不能访问. 类加载器自定义类加载器123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687package pro.yuchen.demo.classloader;import java.io.ByteArrayOutputStream;import java.io.File;import java.io.IOException;import java.io.InputStream;import java.util.*;import java.util.jar.JarEntry;import java.util.jar.JarFile;public class DynamicFileClassLoader extends ClassLoader &#123; private String classLoaderName; private List&lt;JarFile&gt; jars = new ArrayList&lt;&gt;(); private Map&lt;String, byte[]&gt; classBytes = new HashMap&lt;&gt;(); private Map&lt;String, Class&lt;?&gt;&gt; clazzs = new HashMap&lt;&gt;(); public DynamicFileClassLoader() &#123; super(); &#125; public Collection&lt;Class&lt;?&gt;&gt; getClassList() &#123; return clazzs.values(); &#125; public DynamicFileClassLoader(String classLoaderName) &#123; this.classLoaderName = classLoaderName; &#125; public DynamicFileClassLoader(String classLoaderName, ClassLoader parent) &#123; super(parent); this.classLoaderName = classLoaderName; &#125; public void setFiles(List&lt;File&gt; files) &#123; for (File file : files) &#123; try &#123; JarFile jar = new JarFile(file); this.jars.add(jar); // 解析jar中的class文件, 并放入classBytes中 Enumeration&lt;JarEntry&gt; en = jar.entries(); while (en.hasMoreElements()) &#123; JarEntry element = en.nextElement(); String name = element.getName(); // 这里添加了路径扫描限制 if (name.endsWith(".class")) &#123; String className = name.replace(".class", "").replaceAll("/", "."); InputStream input = jar.getInputStream(element); ByteArrayOutputStream output = new ByteArrayOutputStream(); byte[] buffer = new byte[1024]; int readLength = 0; while ((readLength = input.read(buffer)) != -1) &#123; output.write(buffer, 0, readLength); &#125; output.flush(); classBytes.put(className, output.toByteArray()); &#125; &#125; &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; &#125; @Override public Class&lt;?&gt; findClass(String name) throws ClassNotFoundException &#123; if (clazzs.containsKey(name)) &#123; return clazzs.get(name); &#125; if (classBytes.containsKey(name)) &#123; byte[] bytes = classBytes.get(name); Class&lt;?&gt; clazz = super.defineClass(name, bytes, 0, bytes.length); clazzs.put(name, clazz); return clazz; &#125; else &#123; throw new ClassNotFoundException(); &#125; &#125; @Override public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException &#123; return super.loadClass(name); &#125;&#125; 代码的执行流程, 在双亲委派模型中, 会有详细的描述 实际上要做的, 就只有通过类的全限定名, 获取到定义此类的二进制字节流. 这一项. defineClass 实现了, 根据字节流获取Class的所有步骤 双亲委派模型所谓的双亲委派模型, 是指类在加载时的顺序. 在调用loadClass时, 默认情况下不是在当前的ClassLoder中查找所要加载的类. 而是逐层向上传递查找请求. 当启动加载器 没有找到对应的类时, 再逐层向下传递查找请求. 以上面的代码为例子, 查找顺序为: 自定义类加载器(委托) &gt; 应用加载器(委托) &gt; 扩展加载器(委托) &gt; 启动加载器(查询无果) &gt; 扩展加载器(查询无果) &gt; 应用加载器(查询无果) &gt; 自定义类加载器(终于找到了) 不再遵循双亲委派模型12345678@Overridepublic Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException &#123; // 不再遵循双亲委派模型 if (classBytes.containsKey(name)) &#123; return this.findClass(name); &#125; return super.loadClass(name);&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>ClassLoader</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[听哥哥的但愿人长久]]></title>
    <url>%2F2020%2F02%2F27%2Fdiary%2Fdiary_0033%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX1+cNZZmsLpyFZiF0jwMmY6E4+EWDvFnVOP+JiErPmx7k3/9vh/c7BVvHQAh85l13gfsTciV8bkej29QG3rWT77s+VqbLWcuoEf4VB5UZXP3pS+ZgdpCB1qCndY9Ug2o1EzDBptX7e7FZsxVKEuRRP2ae8wuK8re4nNPe+IH3LbPDsdAGlDTZncx5UX1CAKij1EONbfIidpCVf7AkUockvW1Angjk1YFoACk6cmeJviMNAydycmZARboD2BrqegqQ5zbcop5OaNrVZi1Aysu+h1Lcp+uCMXbLGxS51YiPZSbSC1LoZzAXiwAmRJgqu8cjUpfXsNvBvmZaQgDJjXQ4MglhklaEd19igfcY934Sj0OOOY1JRPCGjdMjU+fFFV5KQntU2YNGezvaiHqC6bZ7KamY/TywvkVCHwZ2WbM6x+wstut8UZMRTwTUi/hxfn4SfQIDq0rTPhc5f8eWJa560nK9UJChIc+XCf0GQkmlw7nmOGG6e1H6Ql2vuaTmysv7lktARfvx14bDFtKMWLX5lsOZc/Gv0xybLbmfDejNPYyJkIrx4r2ZqjhkPn1XQn0liCMSC3F3yN9a5QbP7oiG+zFtYOKYFX3b1KSJS7645kO5tWN8DomX2MBxo3Bb0Edgaf+09ZNkFRPlD2hihgavYAbvRMXLYPzpOUu4fDKR0VtvUeDqd8LwYiMRCM93rJIeTRde27vfiTTvTnzIOmkEEPr1DdH0EpeHCIelbjQsbexQ+TQhwXT3yCPwTnni/WiQonGjbHx+RQ3mdVRU4JSmkXf2oTTYkfuKfJEv0dE1qhgC3gx1lPlWBpzFD69kfw7X2RreOMYJrj50DOe8Z6pkoI6sZmTMWd9JPu8fdRejQ1xkTjYVnFHwPL1MT2cq/FCdD1onf9Rzs64D7WAhGeUR7G7jUEZ40YWZxtzN4k/U2ekFebL5DUnub/m1JZbaSGKCDXq14pFFJb+4Epb8gZxMM0P/KGqnQGBtYwCkZsTUrIgu+lGzbkHe8nbS7vSuy901cHjUK7MfvGF4+78l2rIyYiI1xFRAnFum9MuPTEDt/ABX5qUHLSEbGvK]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[插件记录]]></title>
    <url>%2F2019%2F10%2F16%2Fnode%2Fnode-tools-plugins%2F</url>
    <content type="text"><![CDATA[工欲善其事, 必先利其器. 这里就记录一些平时开发过程中经常用到的插件. 以 IntelliJ 系列为主, 也有SublimeText3的.]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决MacOS系统下SublimeText3中文乱码的问题]]></title>
    <url>%2F2019%2F10%2F13%2Fnode%2Fnode-tools-sublime%2F</url>
    <content type="text"><![CDATA[解决MacOS系统下SublimeText3中文乱码的问题 1、打开控制台打开 sublime，control+~打开控制台。 2、下载 Package Control输入： 1import urllib.request,os,hashlib; h = &apos;6f4c264a24d933ce70df5dedcf1dcaee&apos; + &apos;ebe013ee18cced0ef93d5f746d80ef60&apos;; pf = &apos;Package Control.sublime-package&apos;; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( &apos;http://packagecontrol.io/&apos; + pf.replace(&apos; &apos;, &apos;%20&apos;)).read(); dh = hashlib.sha256(by).hexdigest(); print(&apos;Error validating download (got %s instead of %s), please try manual install&apos; % (dh, h)) if dh != h else open(os.path.join( ipp, pf), &apos;wb&apos; ).write(by) 详情见官网 3、下载ConvertToUTF8重启sublime。command+shift+p，在输入框输入Package Control: Install Package，待载入所有的包目录后输入ConvertToUTF8，回车安装。 4、安装Codecs33如果重启sublime之后仍然无法正确解码，需要下载Codecs33。将下载完的压缩包解压，把文件夹的名字修改为Codecs33并放在sublime的package目录下。 重启之后就大功告成啦。 参考文章: 解决Mac下sublime text中文出现乱码]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sofa-ark 轻量级jar包隔离]]></title>
    <url>%2F2019%2F10%2F10%2Fnode%2Fjava%2Fnode-j2se_14%2F</url>
    <content type="text"><![CDATA[之前在做MongoDB数据源时, 遇到了模块jar包冲突的情况. 当是直接将依赖到的包以源代码的形式放在自己项目的包中. 但这不是个长久之计.所以就想到要上jar包隔离. OSGI技术使用OSGI技术，用felix、karaf或者Jigsaw这样的容器对jar包进行暴露和隔离。OSGI技术实际上是对代码进行了更高一级的抽象，将“模块”作为一个基本单位，用Bundle包对jar包再进行一级权限管理，将一些导入或导出的资源配置在Manifest文件里。这样我们就可以在Bundle层面进行功能的引入和暴露。同时也在bundle层面引入了Activator的概念，用来向外部模块暴露自身的服务、或者是注册一些生命周期的代码。 其实大家采用这个技术主要还是为了做应用的热加载和热更新，仅仅用来做依赖隔离确实有点杀鸡用牛刀了。而且对于OSGI容器自身就是一个守护进程，他的使用、管理和维护都会有额外的代价。因此一般来说我们都认为OSGI技术太”重”了. 不过OSGI技术给我们提供了一个不错的思路，总结下来有如下几点： 对Jar包进行更高级的抽象，并支持对类和资源访问控制。 程序运行在一个容器中，由容器来启动和管理各个业务组件。 每个业务组件有一个独立的ClassLoader，因此不同业务组件之间的依赖不会互相影响。 支持组件向容器进行服务的注册，以及服务的互相调用。 Sofa-ark项目事实上，为了从根本上解决类冲突问题，我们还是需要OSGI那种通过ClassLoader进行类隔离的思路。但是OSGI还是太”重”了，有没有稍微”轻”一点的技术呢？还好蚂蚁金服给我们提供了他们的一个不错的实践——Sofa-ark项目。 sofa-ark项目从概念上其实并没有什么石破天惊的独创，可以说他就是用FatJar技术去实现OSGI的功能。下面我们主要就来分析一下这个sofa-ark项目，在讲sofa-ark项目之前，我们先讲一下FatJar技术。 Fat-jar技术OSGI技术刚才大概讲过，那么FatJar技术又是什么呢？我们知道，在用打包插件对springboot项目进行打包时，打出来的那一个jar包是可以直接通过java -jar直接运行的。可要知道，这并不是天经地义的事情，通常情况下，如果要运行一个jar包，至少得满足两个条件： 在jar包中的Manifest文件中要通过”Main-Class”属性，告诉jvm去启动哪个类的main函数。 在jvm的classpath中要有项目所有依赖的jar包。 但我们要知道，在用springboot打包插件进行打包的时候，我们并没有指定Main-Class，而且也没有将依赖下载到classpath的过程。这是因为这一切都是由打包插件帮我们做掉了。在打出来的包里，已经包含了所有配置信息，以及依赖的jar包。这个包一般被称为executable-jar或者fat-jar。 springboot的一个典型的fat-jar大抵如此： 1234567891011121314151617example.jar | +-META-INF | +-MANIFEST.MF +-org | +-springframework | +-boot | +-loader | +-&lt;spring boot loader classes&gt; +-BOOT-INF +-classes | +-mycompany | +-project | +-YourClasses.class +-lib +-dependency1.jar +-dependency2.jar 在对项目进行打包的时候，插件会把所有依赖的包下载好，放到一个自定义的文件夹下（这里是BOOT-INF/lib）。但是仅仅放进来也是不够的，因为jvm并不知道要去这里拿这些依赖。为此，在启动真正的项目之前，我们还要想办法加载这些依赖。所以你会发现在jar包中有一块org.springframework.boot.loader包的代码，并且如果你打开MANIFEST.MF查看你会发现类似下面的配置： 123456Manifest-Version: 1.0Start-Class: mycompany.project.YourClassesSpring-Boot-Classes: BOOT-INF/classes/Spring-Boot-Lib: BOOT-INF/lib/Spring-Boot-Version: 1.5.4.RELEASEMain-Class: org.springframework.boot.loader.JarLauncher 也就是说，jar包在启动时实际上启动的是springboot自己的JarLauncher，通过这个JarLauncher去加载lib下的依赖，然后去启动Start-Class配置对应下的类（这个配置实际上是在用插件打包时扫描@SpringBootApplication注解得到的）。 以上就是Fat-Jar技术的基本原理，其实核心就在于要定义一套Jar包的文件规范，并且写一个打包插件按照这个规范打包，然后写一个Launcher进行解包、用依赖包配置ClassLoader、用反射调用实际main函数。 需要注意的是，如果仅仅是在IDE中运行代码，是完全感知不到打包逻辑的，因为IDE会自动帮你下载Jar包、指定classPath。 sofa-ark 基础知识讲了那么多准备知识，接下来就进入正题，讲一讲sofa-ark项目到底是怎么一回事。 在继续阅读之前，最好先去看一下sofa-ark项目的基本使用，否则可能会有阅读难度。 sofa-ark项目自称是“一款基于Java实现的轻量级类隔离加载容器”。在这个项目中，会打三种类型的包： Ark Plugin包 Ark Biz包 Ark包 Ark Plugin包Ark Plugin，SOFAArk 定义特殊格式的 Fat Jar，使用官方提供的 Maven 插件 sofa-ark-plugin-maven-plugin 可以将一个或多个普通的 Java Jar 包打包成一个标准格式的 Ark Plugin； Ark Plugin 会包含一份配置文件，通常包括插件类和资源的导入导出配置、插件启动优先级等；运行时，Ark 容器会使用独立的 PluginClassLoader 加载插件，并根据插件配置构建类加载索引表，从而使插件与插件、插件与应用之间相互隔离； Ark Biz包Ark Biz, SOFAArk 定义特殊格式的 Fat Jar ，使用官方提供的 Maven 插件 sofa-ark-maven-plugin 可以将工程应用打包成一个标准格式的 Ark Biz 包；作用有两点: 在 Ark 包 中，作为工程应用模块及其依赖包的组织单元； 可以被其他应用当成普通 Jar 包依赖，用于在同一个 SOFAArk 容器启动多个 Ark Biz；多个 Ark Biz 共享 Ark Container 和 Ark Plugin ； Ark包ark, SOFAArk 定义特殊格式的可执行 Jar 包，使用官方提供的 Maven 插件 sofa-ark-maven-plugin 可以将工程应用打包成一个标准格式的 Ark 包；使用命令 java -jar 即可在 SOFAArk 容器之上启动应用；Ark 包 通常包含 Ark Container 、Ark Plugin 依赖（如果有）、合并部署的 Ark Biz （如果有）以及应用自身的 Ark Biz； sofa-ark 使用模拟真实场景: 项目 data-extraction 下有三个模块: api , extr-mongodb 和 execute data-extraction 模拟数据抽取的过程 extr-mongodb 模块: 从MongoDB中抽数据 execute 模块: 向MySQL中插数据 api 模块: 共同遵守的接口规范 data-extraction 引入的依赖 : 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;data-extraction&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;name&gt;data-extraction&lt;/name&gt; &lt;modules&gt; &lt;module&gt;api&lt;/module&gt; &lt;module&gt;execute&lt;/module&gt; &lt;module&gt;extr-mongodb&lt;/module&gt; &lt;/modules&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;!--&lt;dependency&gt;--&gt; &lt;!--&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt; &lt;!--&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;--&gt; &lt;!--&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;--&gt; &lt;!--&lt;type&gt;pom&lt;/type&gt;--&gt; &lt;!--&lt;scope&gt;import&lt;/scope&gt;--&gt; &lt;!--&lt;/dependency&gt;--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofaboot-dependencies&lt;/artifactId&gt; &lt;version&gt;3.2.0&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbutils&lt;/groupId&gt; &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt; &lt;version&gt;1.7&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;$&#123;java.version&#125;&lt;/source&gt; &lt;target&gt;$&#123;java.version&#125;&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; execute 模块: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;artifactId&gt;data-extraction&lt;/artifactId&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;artifactId&gt;execute&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;extr-mongodb&lt;/artifactId&gt; &lt;classifier&gt;ark-plugin&lt;/classifier&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;extr-mongodb&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.13&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbutils&lt;/groupId&gt; &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;cn.hutool&lt;/groupId&gt; &lt;artifactId&gt;hutool-all&lt;/artifactId&gt; &lt;version&gt;4.5.16&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!--ark spring boot starter--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofa-ark-springboot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;$&#123;java.version&#125;&lt;/source&gt; &lt;target&gt;$&#123;java.version&#125;&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofa-ark-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;ark_execute&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;!-- 配置信息 --&gt; &lt;attach&gt;false&lt;/attach&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; extr-mongodb 模块 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;parent&gt; &lt;artifactId&gt;data-extraction&lt;/artifactId&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;extr-mongodb&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;artifactId&gt;mongosql-auth&lt;/artifactId&gt; &lt;version&gt;1.2.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.42&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbutils&lt;/groupId&gt; &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofa-ark-plugin-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;$&#123;java.version&#125;&lt;/source&gt; &lt;target&gt;$&#123;java.version&#125;&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofa-ark-plugin-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;ark_plugin_mysql5_7&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;ark-plugin&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;classifier&gt;ark-plugin&lt;/classifier&gt; &lt;imported&gt; &lt;/imported&gt; &lt;exported&gt; &lt;!--&lt;classes&gt;--&gt; &lt;!--&lt;class&gt;pro.yuchen.demo.query.QueryMongoDB&lt;/class&gt;--&gt; &lt;!--&lt;/classes&gt;--&gt; &lt;packages&gt; &lt;package&gt;pro.yuchen.demo.query&lt;/package&gt; &lt;/packages&gt; &lt;/exported&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; jar包冲突分析:extr-mongodb 模块中引用了mysql-connector-java:5.1, execute 模块中引用了mysql-connector-java:8.0这两个版本是不兼容的. 在execute 模块中引用了extr-mongodb 模块. 引入sofa-ark解决问题构建 ark plugin 在 extr-mongodb的pom文件中引入: 1234567891011121314151617181920212223242526272829&lt;!-- 添加sofa-ark插件 --&gt;&lt;plugin&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofa-ark-plugin-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;ark_plugin_mysql5_7&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;ark-plugin&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;classifier&gt;ark-plugin&lt;/classifier&gt; &lt;imported&gt; &lt;/imported&gt; &lt;exported&gt; &lt;!--&lt;classes&gt;--&gt; &lt;!--&lt;class&gt;pro.yuchen.demo.query.QueryMongoDB&lt;/class&gt;--&gt; &lt;!--&lt;/classes&gt;--&gt; &lt;packages&gt; &lt;package&gt;pro.yuchen.demo.query&lt;/package&gt; &lt;/packages&gt; &lt;/exported&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; 介绍一下 configuration 中的信息: classifier 表示要打成ark-plugin, 而非普通jar包 imported 表示需要导入其他plugin中的类 exported 表示需要开放出的类 这里只是一些我用到的配置项, 官方给出了更为详细的配置内容. 因为我们需求是要将 extr-mongodb 模块 打成plugin, 解决jar冲突. 所以classifier是必填项. 官方说的classifier为非必填项是站在sofa-ark层面去说的, 各位看官还要结合实际业务场景去理解.(我就入了这个坑) 构建 ark biz 与 ark包在data-extraction 的pom中引入 : 1234567&lt;dependency&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofaboot-dependencies&lt;/artifactId&gt; &lt;version&gt;3.2.0&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt;&lt;/dependency&gt; 首先因为sofa-ark改变了SpringBoot的 fat jar所以要用sofaboot-dependencies来替换spring-boot-dependencies 这里用的是sofaboot-dependencies:3.2.0版本对应spring-boot-dependencies:2.1.x版本, 而sofaboot-dependencies:3.2.0版本中使用的sofa-ark是1.0.0版本 在execute的pom文件中引入: 123456789101112131415161718192021222324252627282930313233343536373839&lt;!--ark spring boot starter--&gt;&lt;dependency&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofa-ark-springboot-starter&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;extr-mongodb&lt;/artifactId&gt; &lt;classifier&gt;ark-plugin&lt;/classifier&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;extr-mongodb&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;!--添加插件--&gt;&lt;plugin&gt; &lt;groupId&gt;com.alipay.sofa&lt;/groupId&gt; &lt;artifactId&gt;sofa-ark-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;ark_execute&lt;/id&gt; &lt;goals&gt; &lt;goal&gt;repackage&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;!-- 配置信息 --&gt; &lt;attach&gt;false&lt;/attach&gt; &lt;/configuration&gt;&lt;/plugin&gt; 介绍一下 plugin 中的信息: attach 为 true 时，会打包发布 Ark Biz, 我们现在是要把execute 打成一个可执行的jar, 所以要打成ark包, 所以为false. 在打ark包时, 会把自身打成一个biz包所以在编译目录会有三个jar包分别是普通jar包, biz包, ark包 参考文章: https://blog.mythsman.com/post/5d29b12c373f140fc98304a1/ https://www.sofastack.tech/projects/sofa-boot/sofa-ark-readme/ https://github.com/QilongZhang/sofa-ark]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>jar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kylin使用HikariCP JDBC连接池]]></title>
    <url>%2F2019%2F10%2F08%2Fnode%2Fjava%2Fnode-j2se_13%2F</url>
    <content type="text"><![CDATA[最近在做Kylin的数据源的可视化开发工作, 就涉及到了JDBC的连接池. 测试方法代码如下： 12345678910111213141516171819202122232425262728293031public class KylinTest &#123; public static void main(String[] args) throws Exception&#123; //首先根据数据库/表id获取该数据库的连接方式 //得到后，构建对该数据库表的连接 QueryRunner run = new QueryRunner(getDataSource()); final String sql = "SELECT\n" + "KYLIN_SALES.PART_DT\n" + ",KYLIN_SALES.LEAF_CATEG_ID\n" + ",KYLIN_SALES.LSTG_SITE_ID\n" + ",KYLIN_SALES.LSTG_FORMAT_NAME\n" + ",KYLIN_SALES.PRICE\n" + ",KYLIN_SALES.SELLER_ID\n" + "FROM KYLIN_SALES"; List&lt;Map&lt;String, Object&gt;&gt; results = run.query(sql, new MapListHandler()); System.out.println("list size: " + results.size()); &#125; /** * 获取数据源 */ public static DataSource getDataSource()&#123; HikariDataSource ds = new HikariDataSource(); //需要对HikariConfig的connectionTestQuery赋值 ds.setConnectionTestQuery("select 1"); ds.setJdbcUrl("jdbc:kylin://192.168.195.169:7070/learn_kylin"); ds.setDriverClassName("org.apache.kylin.jdbc.Driver"); ds.setUsername("ADMIN"); ds.setPassword("KYLIN"); return ds; &#125;&#125; 需要注意： 如果在DataSource设置时没有对HiKariConfig的connectionTestQuery赋值，即注释掉ds.setConnectionTestQuery(&quot;select 1&quot;);这句代码，则会报如下异常： [main] ERROR com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to execute isValid() for connection, configure connection test query. (null) 报错原因：AvaticaConnection类对isValid方法并没有实现。因此通过设置HikariConfig类的connectionTestQuery字段，当该字段不为null时，HikariCP的PoolBase类的isUseJdbc4Validation属性会被赋为false，在这种情况下测试jdbc连接将通过connectionTestQuery字段设置的语句测试（如show tables），而不是去调用connection的isValid()方法。 需要配置的Maven依赖： 1234567891011121314151617181920&lt;!-- Kylin 连接 --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.kylin&lt;/groupId&gt; &lt;artifactId&gt;kylin-jdbc&lt;/artifactId&gt; &lt;version&gt;1.6.0&lt;/version&gt;&lt;/dependency&gt;&lt;!-- JDBC 连接池 --&gt;&lt;dependency&gt; &lt;groupId&gt;com.zaxxer&lt;/groupId&gt; &lt;artifactId&gt;HikariCP-java7&lt;/artifactId&gt; &lt;version&gt;2.4.11&lt;/version&gt;&lt;/dependency&gt;&lt;!-- JDBC 工具包 --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-dbutils&lt;/groupId&gt; &lt;artifactId&gt;commons-dbutils&lt;/artifactId&gt; &lt;version&gt;1.6&lt;/version&gt;&lt;/dependency&gt;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Kylin</tag>
        <tag>HikariCP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[拼天赋?]]></title>
    <url>%2F2019%2F09%2F19%2Fdiary%2Fdiary_0032%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX19UQSJyMz0SRNbJ9zyLZ1XfxA1fUamiRoZdvXqY+wTakRyoamr/WyEJeTWMZ9YB8jSSA3bZnIEDsKBunEVATWoR4QD3eODdj783D69LFwWTpSI1D2B2A8tBl8QyEWO3/Hquzrwizb2NV9644INDyPjTRNa2covTf5Rtxjxi6V60SkLUQedSUS7AfxsxJ875o/qpYaglPexCwUxRS9A6Ybcu1J1Owv8T6oZiMGXgBweQBRvWKdVscuW/puInSg4Vj6lN4Cop4qFnYM8ASCohPPhjcYp4FQCf/2MsnMruT20y6s1wPWH1Ijvb9X/rthbwuSvK4G/Mr2x4kCcQ3oioUsyAEwwXlxOkGvD9gW7tCcuK2yimAxPUPVb7Cr5joYvPbvDvAn64LEZO1DdoQRwC4r+yJbUH2rvPsshbZWe69xLivPBBjW4M6MCO1bZXhXD4gfLXq3fneoMCxS/a+np3A7LBiv5a7v4/NSmd1xOrUXPYziBbWXhnyKsgqjJrNswC1wOrMT4XFt9vnVnuX2lZBYorPOfHwOwX5OZ1TZyzVoazfKqnIMRUc5dh0l21zJwMe0tGGjSUK2LByk/42xAHn5jbzyvP45Dl4Wb47RZTOiiBQLuGO/u33bPZZKGhcyd9xKkB+2hICVR9o9sfiD2kGh2DSKAvDQH8pfq+hZp4fWitcqYMwx8eAuvBNqqU/9ddu3KyOM2A30sa0A7qfOIQIqBKggEJ437TfTs/qSxPnp1kFCl/jjTFwZiqAvaj/T3WnsV56fWmjBxyng==]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[孤独]]></title>
    <url>%2F2019%2F09%2F09%2Fdiary%2Fdiary_0031%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX18vECuJoq4FbwON9qlBA1qS7u1OvmQqLYDCgaCig+QiUAneKHvVMUIXyzqAWbcMdj/ffSTmL34Q7H6O91is8/3Jj8KcOM0kdxMqOD7ZOK6WaN/7bh0bz8FGgqj9bocll9Fds09h+BNpT+bfnTlMFmAdKHhuqu7EMyDDBTJVV7xgbksx5M5mGaPylBTNAuY8ublp+/uls+oX5fCnwznsFBGWe0knQcOBZjao8i4xvdtvGKv2GmywgH3j8JdRh1zZBeYaxRT00AB/7X2KuXxUoY19vWE0koiyDGYG8EQWnM3jq3VW9jpuyUSlKIxxkIQIqjH77roDMIB0DdN7dniPP0gVJlRS+OO03BV+uqfg2QcRj/BNNIW35Gkas26IX8U23QZTzq3voufh8BlLxZAzFOF+4/PyzhROKKr/IB5cP/UgzlmefQXSpHcdZITDi10cec40CKivUermjyLGmgXxBwuBK/Xv9vG/Vl6g4jvHrjv3NnUoh0vi7sPfQULmmjijH/aexQ613nvm75vzxPKDjQKawi+/iwi/+driBmFAt8QwVRc9awJvegqbXuzVtUZ/YdArxKwLTPAyz6W4Nx/l1qExBMQEvRfDAWuHrBHZEbKIZ2Z3sCnq0NIVnrp5WHJtRptZ/adwWe0n7ZcQsC3ed7ioQbMNOItse67Z1gHKCh9oC1ArPPdbC0xNN/y0NudNahCubLT+n4C4z6d4iZZFujA+gGOcwXHCAIjlqq6yabgQZsZPNNnEZsVpKa6ZaYPsCaaBKa1ks4WozENlUQ2bau+2GG6trYxe3o/r+ha3tnUCjC2FscRcWfHKzvxa9xoPHh2AdmLaA/tyGWo2dvrs+dBEHaR1++q8nE0esUMhvAmWvBdI0kTbMew4AMmvtcEla+o39WcrnCLpf1EKGMHx8G1HnhVjywRSXarfuSxBq+yqD9W+tlw3lj+wfGOylWWJj2yx+dtvbUlQ4LPJKk2y25sty4kEH/Zfn5Mershrq7BQeyVpwdwz7Yau77KgOx6DqCjflRGGVsWa+Ui/rDSKAHFsNmLVLq3Hq//mAvwSJLj/Sph9tQSabR4gkLE3lPqKL2uWRD7nMWTKOV0iAtGvM/pTwXMj2yXe6GryMXdroe5Ev5gQKZnoNHz2i4iIpYCxys1eHFYmRu8cnr4g/9fEmD5/cHvPrlrw+k2+Xo87DENdt/vITslYBdfipzrRA4HCUTjjqOwnnAowPIUdVZqp/qYf0JUFXaRx7ug=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一个分词的Bug]]></title>
    <url>%2F2019%2F09%2F09%2Fnode%2Fjava%2Fnode-j2se_12%2F</url>
    <content type="text"><![CDATA[今天遇到了个Bug. 症状: 本地功能完好, 线上功能失效. Bug 描述分词工具类, 在本地可以正常分词. 线上却无法分词. 复现Bug查看线上日志: 发现入参正常输入, 但输出却是空. 怀疑分词组件未加载系统词库导致. 这里分词工具用的是: 12345&lt;dependency&gt; &lt;groupId&gt;org.lionsoul&lt;/groupId&gt; &lt;artifactId&gt;jcseg-core&lt;/artifactId&gt; &lt;version&gt;2.4.0&lt;/version&gt;&lt;/dependency&gt; 跟到源码里, 看到加载词库是从jcseg-core-2.4.0.jar中加载的. 而且代码如是: 12345678910111213141516171819202122232425262728public void loadClassPath() throws IOException &#123; Class&lt;?&gt; dClass = this.getClass(); CodeSource codeSrc = this.getClass().getProtectionDomain().getCodeSource(); if ( codeSrc == null ) &#123; return; &#125; String codePath = codeSrc.getLocation().getPath(); if ( codePath.toLowerCase().endsWith(".jar") ) &#123; ZipInputStream zip = new ZipInputStream(codeSrc.getLocation().openStream()); while ( true ) &#123; ZipEntry e = zip.getNextEntry(); if ( e == null ) &#123; break; &#125; String fileName = e.getName(); if ( fileName.endsWith(".lex") &amp;&amp; fileName.startsWith("lexicon/lex-") ) &#123; load(dClass.getResourceAsStream("/"+fileName)); &#125; &#125; &#125; else &#123; //now, the classpath is an IDE directory // like eclipse ./bin or maven ./target/classes/ loadDirectory(codePath+"/lexicon"); &#125;&#125; 线上环境是把SpringBoot项目打成jar包运行的. 模拟线上环境, 把项目打包 1mvn clean install -Dmaven.test.skip=true 运行项目 1java -jar bi-server-0.0.1-SNAPSHOT.jar 结果BUG复现了…… 看看jar包里长啥样? 1unzip -x -q bi-server-0.0.1-SNAPSHOT.jar -d bi-server 因为上面代码中提到了 jcseg-core-2.4.0.jar 中的 lexicon文件夹 打开看一下 1unzip -x -q jcseg-core-2.4.0.jar -d jcseg-core 我就想看到在jar方式运行时, codePath 究竟是什么内容, 初步怀疑是原有代码未能读取到jar包中的词库 这就要用到远程调试了. debug 模式启动jar包 1java -Xdebug -Xrunjdwp:transport=dt_socket,address=5005,server=y,suspend=y -jar bi-server-0.0.1-SNAPSHOT.jar 在IDEA中添加远程调试的启动模式 调试下看到的路径是: file:/Users/selfimpr/development/workspace/idea/data-et/branches/20190722_zoro/bi-server/target/bi-server-0.0.1-SNAPSHOT.jar!/BOOT-INF/lib/jcseg-core-2.4.0.jar!/ 与源码中取得是磁盘中Maven本地仓库的jar文件(codePath.toLowerCase().endsWith(&quot;.jar&quot;)) , 而现在jcseg-core-2.4.0.jar 被封到jar包了. 解决现在情况搞清楚了, 就是读不到配置文件了 常规解法(不适用)1File file = ResourceUtils.getFile("classpath:defult.properties"); 在开发过程中，文件是真实存在于磁盘的某个目录。此时通过获取文件路径，是可以正常读取的，因为文件确实存在。而打包成jar以后，实际上文件是存在于jar这个文件里面的资源文件，在磁盘是没有真实路径的。所以通过ResourceUtils.getFile或者this.getClass().getResource(“”)方法无法正确获取文件。 所以取jar包中的文件时 12InputStream stream = Thread.currentThread().getContextClassLoader() .getResourceAsStream("defult.properties"); 使用Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;&quot;);会指定要加载的资源路径与当线程所在包的路径一致。因此能正常读取文件。 这种方法是不适用于当前业务逻辑的, 我要取jar包里的所依赖的jar包里的文件夹里的指定类型的文件(有点儿绕). 开始真正的表演结合jcseg-core中的源码, 我想是不是可以拿到jar包所以依赖的jar包的文件流. 1234567891011121314151617CodeSource codeSource = this.getClass().getProtectionDomain().getCodeSource();ZipInputStream zip = new ZipInputStream(codeSource.getLocation().openStream());while (true) &#123; try &#123; ZipEntry entry = zip.getNextEntry(); if (Objects.isNull(entry)) &#123; break; &#125; String fileName = entry.getName(); log.info("FileName: &#123;&#125;", fileName); if (fileName.endsWith(".lex") &amp;&amp; fileName.startsWith("lexicon/lex-")) &#123; ClassPathResource resource = new ClassPathResource(fileName); dic.load(resource.getInputStream()); &#125; &#125; catch (IOException e) &#123; log.error("加载系统词库失败..."); e.printStackTrace(); &#125;&#125; 我把分词的词库放到分词工具类同项目下. 同时bi-common 被bi-servier引用. 看似没有问题? ZipInputStream zip = new ZipInputStream(codeSource.getLocation().openStream());因为取不到jar包的文件名, 所以SpringBoot的ClassLoader会报错. 回到一开始的思路, jar包下的文件也是可以当作资源来使用的. 也就是说, 我可以拿到bi-server 依赖的bi-common.jar文件的流. 对于原始的JarFile URL，只支持一个’!/‘，SpringBoot扩展了此协议，使其支持多个’!/‘，以实现jar in jar的资源，如jar:file:/data/spring-boot-theory.jar!/BOOT-INF/lib/spring-aop-5.0.4.RELEASE.jar!/org/springframework/aop/SpringProxy.class 1234567891011121314151617181920CodeSource codeSource = this.getClass().getProtectionDomain().getCodeSource();String codePath = codeSource.getLocation().getPath();log.info("CodePath: &#123;&#125;", codePath);ResourceLoader resourceLoader = new DefaultResourceLoader();InputStream is = resourceLoader.getResource("jar:" + codePath.substring(0, codePath.length() - 2)).getInputStream();ZipInputStream zip = new ZipInputStream(is);while (true) &#123; try &#123; ZipEntry entry = zip.getNextEntry(); if (Objects.isNull(entry)) &#123; break; &#125; String fileName = entry.getName(); log.info("FileName: &#123;&#125;", fileName); if (fileName.endsWith(".lex") &amp;&amp; fileName.startsWith("lexicon/lex-")) &#123; ClassPathResource resource = new ClassPathResource(fileName); dic.load(resource.getInputStream()); &#125; &#125; catch (IOException e) &#123; log.error("加载系统词库失败...", e); &#125;&#125; 参考文章 https://segmentfault.com/a/1190000013532009#articleHeader4 https://blog.csdn.net/baidu_23275675/article/details/82622577 https://blog.csdn.net/whm114336793/article/details/80846041 https://www.iteye.com/blog/hxraid-483115 https://stackoverflow.com/questions/25869428/classpath-resource-not-found-when-running-as-jar]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Bug</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[学习者宣言]]></title>
    <url>%2F2019%2F08%2F29%2Fdiary%2Fdiary_0030%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ElasticSearch 数据源设计]]></title>
    <url>%2F2019%2F08%2F23%2Fnode%2Fdatabase%2Felasticsearch%2Fnode-elasticsearch_02%2F</url>
    <content type="text"><![CDATA[ElasticSearch 数据源设计(基于7.x版本) ElasticSearch 数据源基于7.2版本开发, 建议6.x及以上版本使用 创建数据源 所需参数: 所需信息名 是否必填 描述 数据源名称 是 创建的数据源名 服务器地址 是 用于访问ElasticSearch(IP或域名皆可, 需公网可访问) 端口号 是 用于访问ElasticSearch(需公网可访问) 验证用户 是 用于标识访问ElasticSearch时, 是否需要验证用户信息 用户名 否 当需要验证用户信息时, 必填 密码 否 当需要验证用户信息时, 必填 例1: 1&#123;"datasourceName":"ES_Test", "host":"192.168.10.13", "port":"9400", "isAuth":"false"&#125; 例2: 12345678&#123; "datasourceName":"ES_Test", "host": "192.168.10.13", "port": "9400", "isAuth": "true", "username": "admin", "password": "123456"&#125; 验证失败信息尚未做处理(比如: 连接失败或用户名密码错误未做分类) 创建数据表所需参数: 所需信息名 是否必填 描述 数据源ID 是 所属的数据源 表名 是 创建的表名 索引(index) 是 ElasticSearch的index名 类型(type) 是 指定index的type，默认是_doc 精确匹配(exactMatch) 是 是否精确匹配index 例1: 1234567&#123; "datasourceId":469, "tablename":"ES_Table", "index":"user", "type":"_doc", "exactMatch":true&#125; 例2: 1234567&#123; "datasourceId":469, "tablename":"ES_Table", "index":"user,user_info", "type":"_doc", "exactMatch":false&#125; 建议index与type为一对一关系(这也是ElasticSearch官方的态度). index 与 type 的录入与展示方式: 后台可以获得所有index, 但无法活得 type信息. index 可能会比较多, 建议分页展示. type 由于后台无法获取到, 所以要用户自己输入. 用户不输入, 默认为_doc 当模糊检索index信息时, 索引名既可以写全名用,隔开也可以用通配符* (eg: use*, *se*) 从ElasticSearch的语法上是支持只加一个*的(检索所有index), 但我们是不允许这样的(后台会做限制). 若模糊检索index, 表达式匹配到的表结构要求一致. ElasticSearch 数据源暂时不支持 合表 预览数据表 入参与其他数据源一致, 这里就不一一罗列了. 需要注意: ElasticSearch 不支持 表达式过滤 在进行精确查询时, 字符串类型数据只支持keyword类型数据 ElasticSearch 数据源暂时不支持 添加字段 预览图表(聚合数据) 入参与其他数据源一致, 这里就不一一罗列了. 需要注意: 时间做维度时, 暂时不支持按周, 按年周 聚合 注: 上述所需参数只做为示例, 具体传参形式, 后期与前端一起商定. 目前以精确匹配index做的开发, 模糊匹配尚不支持.]]></content>
      <categories>
        <category>ElasticSearch</category>
      </categories>
      <tags>
        <tag>DataBase</tag>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[分词工具]]></title>
    <url>%2F2019%2F08%2F02%2Farticle%2Flibrary%2Fpart-word%2F</url>
    <content type="text"><![CDATA[分词工具 12345678910&lt;dependency&gt; &lt;groupId&gt;org.lionsoul&lt;/groupId&gt; &lt;artifactId&gt;jcseg-core&lt;/artifactId&gt; &lt;version&gt;2.4.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.lionsoul&lt;/groupId&gt; &lt;artifactId&gt;jcseg-analyzer&lt;/artifactId&gt; &lt;version&gt;2.4.0&lt;/version&gt;&lt;/dependency&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119import com.google.common.collect.Lists;import lombok.extern.slf4j.Slf4j;import org.lionsoul.jcseg.extractor.impl.TextRankKeywordsExtractor;import org.lionsoul.jcseg.tokenizer.core.*;import java.io.IOException;import java.io.StringReader;import java.util.List;import java.util.Objects;import java.util.stream.Stream;import static java.util.stream.Collectors.joining;import static java.util.stream.Collectors.toList;/** * @description: 分词工具 * @author: Mr.Lee * @date: 2019-08-02 10:48 */@Slf4jpublic class PartWordUtil &#123; private ADictionary dic; private JcsegTaskConfig config; private static PartWordUtil instance = null; /** * 构建分词工具类 * @return 分词工具类 */ public static PartWordUtil getInstance() &#123; if (instance == null) &#123; instance = new PartWordUtil(null); &#125; return instance; &#125; /** * 构建分词工具类-加载自定义词库 * @param customWordsPath 自定义的词库路径 * @return 分词工具类 */ public static PartWordUtil getInstance(String[] customWordsPath) &#123; if (instance == null) &#123; instance = new PartWordUtil(customWordsPath); &#125; return instance; &#125; private PartWordUtil(String[] customWordsPath) &#123; // 创建JcsegTaskConfig分词配置实例，自动查找加载jcseg.properties配置项来初始化 config = new JcsegTaskConfig(true); // 设置过滤停止词 config.setClearStopwords(true); // 关闭同义词追加 config.setAppendCJKSyn(false); // 去除不识别的词条 config.setKeepUnregWords(false); // 会忽略系统词库(可能在特殊场景下会用到) // path是文件夹路径, 且词库文件以`lex-`开头, 以`.lex`结尾 // config.setLexiconPath(customWordsPath); // 创建默认单例词库实现，并且按照config配置加载词库 dic = DictionaryFactory.createSingletonDictionary(config); // 设置自定义词库 if (Objects.nonNull(customWordsPath)) &#123; Stream.of(customWordsPath).forEach(path -&gt; &#123; try &#123; dic.load(path); &#125; catch (IOException e) &#123; log.error("自定义词库路径无效, 忽略此词库: &#123;&#125;", path); &#125; &#125;); &#125; &#125; /** * 对数据进行分词 * @param data 需要分词的数据 * @param maxNum 分词的最大数量 * @return */ public synchronized String[] part(String[] data, int maxNum) &#123; List&lt;String&gt; words = Lists.newArrayList(); String content = Stream.of(data).filter(Objects::nonNull).collect(joining(",")); try &#123; // 依据给定的ADictionary和JcsegTaskConfig来创建ISegment ISegment segment = SegmentFactory.createJcseg(JcsegTaskConfig.DETECT_MODE, new Object[]&#123;config, dic&#125;); // 构建取词器 TextRankKeywordsExtractor extractor = new TextRankKeywordsExtractor(segment); // 设置PageRank算法, 最大迭代次数. // extractor.setMaxIterateNum(100); // 设置TextRank计算窗口大小. // extractor.setWindowSize(5); // 设置最大返回的关键词个数 extractor.setKeywordsNum(maxNum); words = extractor.getKeywords(new StringReader(content)); &#125; catch (JcsegException e) &#123; log.error("生成取词器失败..."); e.printStackTrace(); &#125; catch (IOException e) &#123; log.error("取词失败..."); e.printStackTrace(); &#125; return words.stream().distinct().collect(toList()).toArray(new String[]&#123;&#125;); &#125;&#125;]]></content>
      <categories>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Library</tag>
        <tag>PartWord</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[渴望被爱?]]></title>
    <url>%2F2019%2F07%2F31%2Fdiary%2Fdiary_0029%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ElasticSearch Rest API]]></title>
    <url>%2F2019%2F07%2F29%2Fnode%2Fdatabase%2Felasticsearch%2Fnode-elasticsearch_01%2F</url>
    <content type="text"><![CDATA[ElasticSearch Rest 接口 Elasticsearch 基本介绍Elasticsearch 是一种NoSQL数据库（非关系型数据库），和常规的关系型数据库（比如：MySQL，Oralce等）的基本概念，对应关系如下： Elasticsearch：index –&gt; type –&gt; doc –&gt; field MySQL: 数据库 –&gt; 数据表 –&gt; 行 –&gt; 列 一个客观的现象和事实如下： Elasticsearch 官网提出的近期版本对 Type 概念的演变情况如下： 在 5.x 版本中，一个 Index 下可以创建多个 Type 在 6.x 版本中，一个 Index 下官方建议只建一个 Type 在 7.x 版本中，官方说是去除了 Type 的概念，但是在创建Index时ES会默认创建一个名为_doc的Type. 且不能创建其他Type. 当Index只一个Type时, Index更像是一个数据表… 现在我们已经有一个正常运行的节点（和集群）了，下一步就是要去理解怎样与其通信了。幸运的是，Elasticsearch提供了非常全面和强大的REST API，利用这个REST API你可以同你的集群交互。下面是利用这个API，可以做的几件事情： 检查你的集群、节点和索引的健康状态、和各种统计信息 管理你的集群、节点、索引数据和元数据 对你的索引进行CRUD（创建、读取、更新和删除）和搜索操作 执行高级的查询操作，像是分页、排序、过滤、脚本编写（scripting）、小平面刻画（faceting）、聚合（aggregations）和许多其它操作 构建数据环境测试数据123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143[ &#123; "name": "叶秋", "age": 25, "role": [ &#123;"name": "一叶知秋", "career": "战法"&#125; ], "create_time": "2018-01-10 13:20:29" &#125;, &#123; "name": "苏沐橙", "age": 21, "role": [ &#123;"name": "沐雨橙风", "career": "枪炮师"&#125;, &#123;"name": "风梳烟沐", "career": "枪炮师"&#125; ], "create_time": "2018-01-10 13:20:30" &#125;, &#123; "name": "苏沐秋", "age": 18, "role": [ &#123;"name": "秋沐苏", "career": "神枪"&#125; ], "create_time": "2018-01-10 13:20:31" &#125;, &#123; "name": "叶修", "age": 25, "role": [ &#123;"name": "君莫笑", "career": "散人"&#125;, &#123;"name": "悟道君", "career": "牧师"&#125;, &#123;"name": "神说要有光", "career": "战法"&#125;, &#123;"name": "无敌最俊朗", "career": "骑士"&#125; ], "create_time": "2018-01-10 13:20:21" &#125;, &#123; "name": "陈果", "age": 27, "role": [ &#123;"name": "逐烟霞", "career": "枪炮师"&#125; ], "create_time": "2018-01-10 13:20:22" &#125;, &#123; "name": "唐柔", "age": 23, "role": [ &#123;"name": "寒烟柔", "career": "战法"&#125; ], "create_time": "2018-01-10 13:20:23" &#125;, &#123; "name": "包容兴", "age": 23, "role": [ &#123;"name": "包子入侵", "career": "流氓"&#125; ], "create_time": "2018-01-10 13:20:24" &#125;, &#123; "name": "乔一帆", "age": 21, "role": [ &#123;"name": "一寸灰", "career": "鬼剑"&#125; ], "create_time": "2018-01-10 13:20:25" &#125;, &#123; "name": "安文逸", "age": 21, "role": [ &#123;"name": "小手冰凉", "career": "牧师"&#125;, &#123;"name": "忧郁小猫猫", "career": "守护天使"&#125; ], "create_time": "2018-01-10 13:20:26" &#125;, &#123; "name": "莫凡", "age": 22, "role": [ &#123;"name": "毁人不倦", "career": "忍者"&#125;, &#123;"name": "墨白", "career": "刺客"&#125;, &#123;"name": "白墨", "career": "刺客"&#125; ], "create_time": "2018-01-10 13:20:27" &#125;, &#123; "name": "许斌", "age": 21, "role": [ &#123;"name": "潮汐", "career": "魔剑士"&#125; ], "create_time": "2018-01-10 13:20:20" &#125;, &#123; "name": "白庶", "age": 21, "role": [ &#123;"name": "独活", "career": "骑士"&#125; ], "create_time": "2018-01-10 13:20:28" &#125;, &#123; "name": "魏琛", "age": 32, "role": [ &#123;"name": "迎风布阵", "career": "术士"&#125; ], "create_time": "2018-01-10 13:20:33" &#125;, &#123; "name": "卢瀚文", "age": 14, "role": [ &#123;"name": "流云", "career": "剑客"&#125; ], "create_time": "2018-01-10 13:20:34" &#125;, &#123; "name": "舒可怡", "age": 20, "role": [ &#123; "name": "谁不低头", "career": "神枪" &#125; ], "create_time": "2018-01-10 13:20:35" &#125;, &#123; "name": "舒可欣", "age": 20, "role": [ &#123; "name": "莫敢回首", "career": "神枪" &#125; ], "create_time": "2018-01-10 13:20:36" &#125;] 检查集群健康 GET http://192.168.10.13:9400/_cat/health?v 获得集群中的节点 GET http://192.168.10.13:9400/_cat/nodes?v 列出所有的索引 GET http://192.168.10.13:9400/_cat/indices?v 创建索引 PUT http://192.168.10.13:9400/user123456789101112131415&#123; "mappings":&#123; "properties":&#123; "name":&#123;"type":"text"&#125;, "age":&#123;"type":"integer"&#125;, "create_time":&#123;"type":"date", "format":"yyyy-MM-dd HH:mm:ss || yyyy-MM-dd"&#125;, "role":&#123; "properties":&#123; "name":&#123;"type":"keyword"&#125;, "career":&#123;"type":"keyword"&#125; &#125; &#125; &#125; &#125;&#125; 创建user索引, 默认Type为_doc 创建文档(类似插入一条记录) PUT http://192.168.10.13:9400/user/_doc/15 12345678&#123; "name": "舒可怡", "age": 20, "role": [ &#123;"name":"谁不低头", "career": "神枪"&#125; ], "create_time": "2018-01-10 13:20:35"&#125; 查询Index的Mapping(类似查询表结构) GET http://192.168.10.13:9400/user/_mapping 查询一个文档 GET http://192.168.10.13:9400/user/_doc/9 查询类型下所有文档 POST http://192.168.10.13:9400/user/_doc/_search 1234&#123; "from":0, "size":100&#125; Elasticsearch 默认只检索前10条记录, 所以查询所有文档, 需要size足够大 Elasticsearch 查询方式 复合查询 bool must (与) should (或) must_not (非) dis_max constant_score 子查询 match: term,terms: 精确查询 range: 范围查询 检索范围内数据 POST http://192.168.10.13:9400/user/_search 12345678910111213&#123; "query": &#123; "bool": &#123; "must": &#123; "range":&#123; "create_time": &#123;"gte":"2018-01-10 13:20:24", "lte": "2018-01-10 13:20:27"&#125; &#125; &#125; &#125; &#125;, "from": 0, "size": 100&#125; 等价于 create_time &gt;= &#39;2018-01-10 13:20:24&#39; AND create_time &lt;= &#39;2018-01-10 13:20:27&#39;gt :: 大于gte :: 大于等于lt :: 小于lte :: 小于等于 精确条件查询(一) POST http://192.168.10.13:9400/user/_search 123456789&#123; "query": &#123; "bool": &#123; "must": &#123;"term":&#123;"roles": "君莫笑"&#125;&#125; &#125; &#125;, "from": 0, "size": 100&#125; 等价于 roles = ‘君莫笑’, 需要注意的是 roles 为 keyword类型. 而text 类型, 不支持精确查询. 但是日期与数字类型不受影响 精确条件查询(二) POST http://192.168.10.13:9400/user/_search 1234567891011&#123; "query": &#123; "bool": &#123; "must": &#123; "terms":&#123; "age": [21, 18] &#125; &#125; &#125; &#125;, "from": 0, "size": 100&#125; 等价于 age = 21 or age = 18 或者 age IN (21, 18) 与(AND) POST http://192.168.10.13:9400/user/_search 123456789101112&#123; "query": &#123; "bool": &#123; "must": [ &#123;"term":&#123;"age": 21&#125; &#125;, &#123;"range":&#123;"create_time":&#123;"gt":"2018-01-10 13:20:25"&#125; &#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; must 全根据匹配度计算得分, 然后根据得分排序输出. 123456789101112&#123; "query": &#123; "bool": &#123; "filter": [ &#123;"term":&#123;"age": 21&#125; &#125;, &#123;"range":&#123;"create_time":&#123;"gt":"2018-01-10 13:20:27"&#125; &#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; filter 不会计算得分, 会以原顺序输出结果 等价于 age = 21 AND create_time &gt; ‘2018-01-10 13:20:25’ 或(OR) POST http://192.168.10.13:9400/user/_search 123456789101112&#123; "query": &#123; "bool": &#123; "should": [ &#123;"term":&#123;"age": 18&#125; &#125;, &#123;"range":&#123;"create_time":&#123;"gt":"2018-01-10 13:20:32"&#125; &#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; 等价于: age = 18 OR create_time &gt; ‘2018-01-10 13:20:32’ 非(NOT) POST http://192.168.10.13:9400/user/_search 1234567891011&#123; "query": &#123; "bool": &#123; "must_not": [ &#123;"term":&#123;"role.career": "战法"&#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; 等价于: role_career &lt;&gt; ‘战法’ 层级查询 POST http://192.168.10.13:9400/user/_search 1234567891011&#123; "query": &#123; "bool": &#123; "must": [ &#123;"term":&#123;"role.career": "战法"&#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; 等价于: role_career = ‘战法’ 模糊查询 POST http://192.168.10.13:9400/user/_search 123456789&#123; "query":&#123; "wildcard":&#123; "role.name":&#123; "value":"*不*"&#125; &#125; &#125;, "from":0, "size":100&#125; 等价于: role_name LIKE ‘%不%’ 复杂查询(一) POST http://192.168.10.13:9400/user/_search 123456789101112131415&#123; "query": &#123; "bool": &#123; "must": [ &#123;"range":&#123;"age": &#123;"gte": 20&#125; &#125; &#125;, &#123;"wildcard": &#123;"role.name":&#123;"value": "*不*"&#125; &#125; &#125; ], "must_not": [ &#123;"term":&#123;"role.career": "忍者"&#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; 等价于: age &gt;= 20 AND role_name LIKE ‘%不%’ AND role_career &lt;&gt; ‘忍者’ 复杂查询(二) POST http://192.168.10.13:9400/user/_search 12345678910111213141516&#123; "query": &#123; "bool": &#123; "must": [ &#123;"range":&#123;"age": &#123;"gte": 20&#125; &#125; &#125;, &#123;"wildcard": &#123;"role.name":&#123;"value": "*烟*"&#125; &#125; &#125; ], "must_not": [ &#123;"term":&#123;"role.career": "战法"&#125; &#125;, &#123;"match": &#123;"name": "苏"&#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; 等价于: age &gt;= 20 AND role_name LIKE ‘%烟%’ AND role_career &lt;&gt; ‘战法’ AND name NOT LIKE ‘%苏%’ 需要注意: match 与 term , term 用于精确查找, 仅支持keyword类型数据, 而match用来查找是否包含, 仅支持text类型. 复杂查询(三) POST http://192.168.10.13:9400/user/_search 12345678910111213141516171819&#123; "query": &#123; "bool": &#123; "should": [ &#123;"wildcard": &#123;"role.name":&#123;"value": "*烟*"&#125; &#125; &#125;, &#123; "bool": &#123; "must_not": [&#123;"match": &#123;"name": "苏" &#125; &#125;] &#125; &#125; ], "must_not": [ &#123;"term":&#123;"role.career": "战法"&#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; 等价于: (role_name LIKE ‘%烟%’ OR name NOT LIKE ‘%苏%’) AND role_career &lt;&gt; ‘战法’ 复杂查询(四) POST http://192.168.10.13:9400/user/_search 123456789101112131415&#123; "query": &#123; "bool": &#123; "must": [ ], "must_not": [ &#123;"exists": &#123; "field": "roles"&#125; &#125; ] &#125; &#125;, "from": 0, "size": 100&#125; 等价于: roles IS NULL 统计查询统计查询(一) POST http://192.168.10.13:9400/user/_search 123456789&#123; "aggs": &#123; "all_interests": &#123; "terms": &#123; "field": "role.career" &#125; &#125; &#125;&#125; 等价于: SELECT role_career, COUNT(1) FROM user GROUP BY role_career 统计查询(二) POST http://192.168.10.13:9400/population/_search 1234567891011121314151617181920212223242526272829&#123; "from": 0, "size": 10000, "query": &#123; "bool": &#123; "must": [ &#123;"terms": &#123;"sheng": ["上海市", "北京市", "广东省", "河北省", "浙江省"] &#125; &#125; ] &#125; &#125;, "aggs": &#123; "sheng": &#123; "terms": &#123; "field": "sheng" &#125;, "aggs": &#123; "sheng": &#123; "terms": &#123; "field": "shi" &#125;, "aggs": &#123; "avg_mj": &#123; "avg": &#123; "field": "mj" &#125; &#125;, "sum_rk": &#123; "sum": &#123; "field": "rk" &#125; &#125; &#125; &#125; &#125; &#125; &#125;, "sort": [ &#123; "sheng": &#123;"order": "desc"&#125; &#125; ] &#125; 多字段聚合 12345678910111213141516171819202122232425&#123; "from": 0, "size": 1000, "query": &#123; "bool": &#123; "must": [ &#123;"terms": &#123;"sheng": ["上海市", "北京市", "广东省", "河北省", "浙江省"] &#125; &#125; ] &#125; &#125;, "aggs" : &#123; "all_interests" : &#123; "terms" : &#123; "script": &#123; "lang": "painless", "source": "doc['sheng'].value + '-split-' + doc['shi'].value" &#125; &#125;, "aggs": &#123; "avg_mj": &#123; "avg": &#123; "field": "mj" &#125; &#125;, "sum_rk": &#123; "sum": &#123; "field": "rk" &#125; &#125; &#125; &#125; &#125;&#125; 多字段聚合 123456789101112131415161718192021&#123; "aggs": &#123; "sheng": &#123; "terms": &#123; "script": &#123; "lang": "painless", "source": "doc['sheng'].value + '-split-' + doc['create_time'].value.year" &#125;, "size" : 500 &#125;, "aggs": &#123; "distinct": &#123; "terms": &#123;"field": "shi", "size":99999999 &#125; &#125;, "max_mj": &#123; "max": &#123; "field": "mj" &#125; &#125;, "min_mj": &#123; "min": &#123; "field": "mj" &#125; &#125;, "avg_mj": &#123; "avg": &#123; "field": "mj" &#125; &#125;, "sum_mj": &#123; "sum": &#123; "field": "mj" &#125; &#125; &#125; &#125; &#125; &#125;]]></content>
      <categories>
        <category>ElasticSearch</category>
      </categories>
      <tags>
        <tag>DataBase</tag>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于 MongoDB BI Connector 性能测试]]></title>
    <url>%2F2019%2F07%2F18%2Fnode%2Fdatabase%2Fnode-db_001%2F</url>
    <content type="text"><![CDATA[关于 MongoDB BI Connector 性能测试 价格摘要报告查询1234567891011121314SELECT l_returnflag, l_linestatus, SUM(l_quantity) AS sum_qty, SUM(l_extendedprice) AS sum_base_price, SUM(l_extendedprice * (1 - l_discount)) AS sum_disc_price, SUM(l_extendedprice * (1 - l_discount) * (1 + l_tax)) AS sum_charge, AVG(l_quantity) AS avg_qty, AVG(l_extendedprice) AS avg_price, AVG(l_discount) AS avg_disc, COUNT(1) AS count_order FROM lineitem WHERE l_shipdate &lt;= ADDDATE('1998-12-01', -90) GROUP BY l_returnflag, l_linestatus ORDER BY l_returnflag, l_linestatus; 4 rows retrieved starting from 1 in 47s 828ms (execution: 47s 796ms, fetching: 32ms) 1SELECT COUNT(1) FROM tpch.lineitem; -- 6001215 execution: 5s 600ms, fetching: 5ms 带有分组、排序、聚集操作并存的单表查询操作。 最小代价供应者查询123456789101112131415161718192021222324SELECT s_acctbal, s_name, n_name, p_partkey, p_mfgr, s_address, s_phone, s_comment FROM part, supplier, partsupp, nation, region WHERE p_partkey = ps_partkey AND s_suppkey = ps_suppkey AND p_size = 15 AND p_type like '%BRASS' AND s_nationkey = n_nationkey AND n_regionkey = r_regionkey AND r_name = 'EUROPE' AND ps_supplycost = (SELECT MIN(ps_supplycost) FROM partsupp, supplier, nation, region WHERE p_partkey = ps_partkey AND s_suppkey = ps_suppkey AND s_nationkey = n_nationkey AND n_regionkey = r_regionkey AND r_name = 'EUROPE') ORDER BY s_acctbal desc, n_name, s_name, p_partkey; 时间太久, 终止查询 12345SELECT COUNT(1) FROM tpch.part; -- 200000SELECT COUNT(1) FROM tpch.supplier; -- 10000SELECT COUNT(1) FROM tpch.partsupp; -- 800000SELECT COUNT(1) FROM tpch.nation; -- 25SELECT COUNT(1) FROM tpch.region; -- 5 sql&gt; SELECT COUNT(1) FROM tpch.part[2019-07-18 13:50:20] 1 row retrieved starting from 1 in 191ms (execution: 177ms, fetching: 14ms) sql&gt; SELECT COUNT(1) FROM tpch.supplier[2019-07-18 13:50:20] 1 row retrieved starting from 1 in 40ms (execution: 33ms, fetching: 7ms) sql&gt; SELECT COUNT(1) FROM tpch.partsupp[2019-07-18 13:50:21] 1 row retrieved starting from 1 in 484ms (execution: 480ms, fetching: 4ms) sql&gt; SELECT COUNT(1) FROM tpch.nation[2019-07-18 13:50:21] 1 row retrieved starting from 1 in 54ms (execution: 37ms, fetching: 17ms) sql&gt; SELECT COUNT(1) FROM tpch.region[2019-07-18 13:50:21] 1 row retrieved starting from 1 in 54ms (execution: 41ms, fetching: 13ms) 这个查询给出在给定的区域内，对于指定的零件，应该选择哪个供应者来订货 尝试最简单的两表关联查询:1234SELECT l_orderkey FROM tpch.orders LEFT JOIN tpch.lineitem ON l_orderkey = o_orderkey WHERE l_shipdate &gt; '1995-03-15' [104 虚拟机中] 500 rows retrieved starting from 1 in 23m 28s 986ms (execution: 5m 36s 666ms, fetching: 17m 52s 320ms) [13 服务器中] 500 rows retrieved starting from 1 in 13m 50s 643ms (execution: 2m 48s 126ms, fetching: 11m 2s 517ms) 查询期间服务器的状态: mongod 与 mongosqld 占据了服务器80%的资源. 这里推测: execution: 5m 36s 666ms 执行查询 由 mongod 进程完成. fetching: 17m 52s 320ms 取回查询 由 mongosqld 进程完成. 可能先由 mongod 根据条件查询出所需数据, 再由 mongosqld 进行聚合加工出结果数据. Ps: 加工数据时, 会消耗大量的CPU资源 总结:MongoDB BI Connector 是对MongoDB 用户SQL需求的补充, 也提供了一定的计算能力. 在没有表关联的需求情况下, 是个不错的选择. 但当业务逻辑中涉及到表间关联时, 还是不要用MongoDB BI Connector 了]]></content>
      <categories>
        <category>MongoDB</category>
      </categories>
      <tags>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Kylin 数据源]]></title>
    <url>%2F2019%2F07%2F18%2Fnode%2Fdatabase%2Fkylin%2Fnode-kylin_001%2F</url>
    <content type="text"><![CDATA[麒麟出没，必有祥瑞 Apache Kylin采用“预计算”的模式，用户只需要提前定义好查询维度，Kylin将帮助我们进行计算，并将结果存储到HBase中，为海量数据的查询和分析提供亚秒级返回，是一种典型的“空间换时间”的解决方案。 Apache Kylin 技术架构Apache Kylin系统主要可以分为离线构建和在线查询两部分 离线构建目前Kylin默认的数据源是Hive, 保存着待分析的用户数据. 根据元数据的定义, 构建引擎(MapReduce)从数据源抽取数据, 并构建Cube。数据以关系表的形式输入，并且必须符合星形模型。 构建后的Cube保存到存储引擎中(HBase) 在线查询Kylin提供了RESTful API, JDBC/ODBC接口供用户调用. SQL 由REST Server转交给查询引擎(Query Engine)处理. 查询引擎解析SQL, 生成基于关系表的逻辑执行计划, 然后将其转译为基于Cube的物理执行计划, 最后查询预计算生成的Cube并产生结果. Kylin对数据源, 执行引擎和Cube存储三个核心模块抽象提出, 比如: Spark替代MapReduce作为Cube的构建引擎 Cassandra替代HBase作为Cube计算后数据的存储 Kylin 特性: 支持标准SQL 支持超大数据集(Kylin在数据集规模上的局限性主要取决于维度的个数和基数, 而不是数据集的大小, 所以Kylin能更好地支持海量数据集的查询.) 亚秒级响应(受益于预计算技术, 复杂的连接, 聚合等操作都在Cube的构建过程中已经完成了) 可伸缩性和高吞吐率 以上整理自网络…. 个人理解: Kylin SQL查询的是Cube Cube 是由源数据 筛选, 聚合 得来的 问题来了, Cube 是什么? 所有纬度与度量的所有组合 xxx]]></content>
      <categories>
        <category>Kylin</category>
      </categories>
      <tags>
        <tag>Kylin</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于 MongoDB 做数据仓库数据库的分析报告]]></title>
    <url>%2F2019%2F07%2F17%2Fnode%2Fdatabase%2Fnode-db_002%2F</url>
    <content type="text"><![CDATA[关于 MongoDB 做数据仓库数据库的分析报告 数据仓库数据库是整个数据仓库环境的核心, 是数据存放的地方和提供对数据检索的支持. 相对于业务型数据库来说, 其突出的特点是 对海量数据的支持 和 快速检索技术. MongoDB做为分布式文档型数据库: 单文档查询效率高 松散的数据结构 灵活动态的文档模型 支持水平扩展 支持表的分片 支持全文索引 但是做为数据仓库的数据库, 还需要具有快速检索能力. 而数据仓库中的数据, 多是存在纬表与事实表间的关联关系. 虽然使用MongoDB Connector for BI组件后, 可以使用SQL语句进行类似关系数据库的JOIN,GROUP BY 与聚合等操作 , 但执行的速度太慢了, 不符合数据仓库所要求的.]]></content>
      <categories>
        <category>MongoDB</category>
      </categories>
      <tags>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS7 安装MongoDB]]></title>
    <url>%2F2019%2F07%2F04%2Fnode%2Flinux%2Fnode-linux_16%2F</url>
    <content type="text"><![CDATA[CentOS7 安装MongoDB 安装 MongoDB 下载安装包 https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.0.10.tgz 解压 tar -xzvf mongodb-linux-x86_64-rhel70-4.0.10.tgz 添加环境变量 vim /etc/profile 尾部添加: export PATH=/usr/local/software/mongodb/bin:$PATH 立即生效: source /etc/profile 创建目录 与 配置文件 mkdir data log config vim config/mongodb.conf 1234567891011121314151617181920212223242526272829303132# 数据库文件位置dbpath=/usr/local/software/mongodb/data# 日志文件位置logpath=/usr/local/software/mongodb/log/mongo.log# 是否追加写入日志logappend=true# 端口port=27017#是否以守护进程方式运行fork=true# 日志信息冗余 级别 从vv-vvvvv | vvvv=true,v越多记录越详细verbose=vv# 是否以安全认证方式运行，默认是不认证的非安全方式#noauth = true#auth = true# 绑定地址,可以用逗号分隔绑定多个bind_ip = 127.0.0.1# 最大连接数maxConns=100#进程IDpidfilepath = /var/run/mongo.pid# 启用定期记录, 每4s报告cpu利用率和io等待cpu = true 启动 MongoDB cd bin ./mongod --config ../config/mongodb.conf 安装 MongoDB Connector for BI 下载安装包 https://info-mongodb-com.s3.amazonaws.com/mongodb-bi/v2/mongodb-bi-linux-x86_64-rhel70-v2.11.0.tgz 解压 tar -xzvf mongodb-bi-linux-x86_64-rhel70-v2.11.0.tgz 添加环境变量 vim /etc/profile 尾部添加: export PATH=/usr/local/software/mongodb-bi/bin:$PATH 立即生效: source /etc/profile 创建目录 与 配置文件 mkdir logs config vim config/mongosqld.yml 12345systemLog: path: '/usr/local/software/mongodb-bi/logs/mongosqld.log'net: bindIp: "127.0.0.1,10.13.144.104" port: 3307 注册并启动 Service cd /bin mongosqld install --config /usr/local/software/mongodb-bi/config/example-mongosqld-config.yml systemctl start mongosql.service 网络问题CentOS开放端口号 123firewall-cmd --permanent --add-port=27017/tcpfirewall-cmd --permanent --add-port=3307/tcpfirewall-cmd --reload]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS7 安装 ElacticSearch]]></title>
    <url>%2F2019%2F07%2F04%2Fnode%2Flinux%2Fnode-linux_17%2F</url>
    <content type="text"><![CDATA[CentOS7 安装ElacticSearch 参考: https://blog.csdn.net/Zereao/article/details/89373246 https://discuss.elastic.co/t/error-while-clustering-nodes-from-different-host-machines-es-7-0/179493/2]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>ElacticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 使用 MongoDB]]></title>
    <url>%2F2019%2F07%2F03%2Farticle%2FSpringBoot%2Farticle-spring-boot_21%2F</url>
    <content type="text"><![CDATA[Spring Boot 使用 MongoDB 1. 下载 MongoDB 的 Docker镜像 docker pull mongo 2. 启动本地 MongoDB docker run --name mongodb -v /Users/Selfimpr/development/workspace/mongodb:/data/db -p 27017:27017 -d mongo --auth -d mongo 镜像ID --auth 连接MongoDB时, 需要授权 3. 设置 MongoDB 的用户12345678910111213141516171819202122232425262728293031323334353637# 进入容器&gt; docker exec -it mongodb /bin/bash# 进入 MongoDB 控制台&gt; mongoMongoDB shell version v4.0.10connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodbImplicit session: session &#123; "id" : UUID("96e72aaf-8837-48fc-817b-d5983a0d88b1") &#125;MongoDB server version: 4.0.10Welcome to the MongoDB shell.For interactive help, type "help".For more comprehensive documentation, see http://docs.mongodb.org/Questions? Try the support group http://groups.google.com/group/mongodb-user# 切换到管理员用户&gt; use adminswitched to db admin# 为 MongoDB 添加管理员用户&gt; db.createUser(&#123;user:"root",pwd:"root",roles:[&#123;role:'root',db:'admin'&#125;]&#125;)Successfully added user: &#123; "user" : "root", "roles" : [ &#123; "role" : "root", "db" : "admin" &#125; ]&#125;# 退出 MongoDB&gt; exit# 退出镜像&gt; exit]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot MongoDB Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 内置组件介绍]]></title>
    <url>%2F2019%2F07%2F01%2Farticle%2FSpringBoot%2Farticle-spring-boot_20%2F</url>
    <content type="text"><![CDATA[Spring Boot 内置组件简介 组件 作用 spring-boot-starter 核心启动器，包括自动配置支持，日志记录和YAML spring-boot-starter-activemq 使用Apache ActiveMQ进行JMS消息传递的入门者 spring-boot-starter-amqp 使用Spring AMQP和Rabbit MQ的入门者 spring-boot-starter-aop 使用Spring AOP和AspectJ进行面向方面编程的入门者 spring-boot-starter-artemis 使用Apache Artemis进行JMS消息传递的入门者 spring-boot-starter-batch 使用Spring Batch的入门者 spring-boot-starter-cache 使用Spring Framework的缓存支持的初学者 spring-boot-starter-cloud-connectors 使用Spring Cloud Connectors的初学者简化了Cloud Foundry和Heroku等云平台中的服务连接 spring-boot-starter-data-cassandra 使用Cassandra分布式数据库和Spring Data Cassandra的入门者 spring-boot-starter-data-cassandra-reactive 使用Cassandra分布式数据库和Spring Data Cassandra Reactive的入门者 spring-boot-starter-data-couchbase 使用Couchbase面向文档的数据库和Spring Data Couchbase的入门者 spring-boot-starter-data-couchbase-reactive 使用Couchbase面向文档的数据库和Spring Data Couchbase Reactive的入门者 spring-boot-starter-data-elasticsearch 使用Elasticsearch搜索和分析引擎以及Spring Data Elasticsearch的初学者 spring-boot-starter-data-jdbc 使用Spring Data JDBC的入门者 spring-boot-starter-data-jpa 将Spring Data JPA与Hibernate一起使用的初学者 spring-boot-starter-data-ldap 使用Spring Data LDAP的入门者 spring-boot-starter-data-mongodb 使用MongoDB面向文档的数据库和Spring Data MongoDB的初学者 spring-boot-starter-data-mongodb-reactive 使用MongoDB面向文档的数据库和Spring Data MongoDB Reactive的入门者 spring-boot-starter-data-neo4j 使用Neo4j图形数据库和Spring Data Neo4j的入门者 spring-boot-starter-data-redis 在Spring Data Redis和Lettuce客户端上使用Redis键值数据存储的初学者 spring-boot-starter-data-redis-reactive 使用带有Spring Data Redis被动的Redis键值数据存储和Lettuce客户端的入门者 spring-boot-starter-data-rest 使用Spring Data REST通过REST公开Spring Data存储库的入门者 spring-boot-starter-data-solr 在Spring Data Solr中使用Apache Solr搜索平台的初学者 spring-boot-starter-freemarker 使用FreeMarker视图构建MVC Web应用程序的入门者 spring-boot-starter-groovy-templates 使用Groovy模板视图构建MVC Web应用程序的入门者 spring-boot-starter-hateoas 使用Spring MVC和Spring HATEOAS构建基于超媒体的RESTful Web应用程序的入门者 spring-boot-starter-integration 使用Spring Integration的入门者 spring-boot-starter-jdbc 将JDBC与HikariCP连接池一起使用的入门者 spring-boot-starter-jersey 使用JAX-RS和Jersey构建RESTful Web应用程序的初学者。spring-boot-starter-web的替代品 spring-boot-starter-jta-atomikos 使用Atomic进行JTA事务的入门者 spring-boot-starter-jta-bitronix 使用Bitronix进行JTA事务的入门者 spring-boot-starter-mail 使用Java Mail和Spring Framework的电子邮件发送支持的入门者 spring-boot-starter-mustache 使用Mustache视图构建Web应用程序的入门者 spring-boot-starter-oauth2-client 使用Spring Security的OAuth2 / OpenID Connect客户端功能的初学者 spring-boot-starter-oauth2-resource-server 使用Spring Security的OAuth2资源服务器功能的入门者 spring-boot-starter-quartz 使用Quartz调度程序的入门者 spring-boot-starter-security 使用Spring Security的入门者 spring-boot-starter-test 使用JUnit，Hamcrest和Mockito等库来测试Spring Boot应用程序的初学者 spring-boot-starter-thymeleaf 使用Thymeleaf视图构建MVC Web应用程序的入门者 spring-boot-starter-validation 使用Java Bean Validation和Hibernate Validator的初学者 spring-boot-starter-web 使用Spring MVC构建Web（包括RESTful）应用程序的入门者。使用Tomcat作为默认嵌入式容器 spring-boot-starter-web-services 使用Spring Web Services的入门者 spring-boot-starter-webflux 使用Spring Framework的Reactive Web支持构建WebFlux应用程序的初学者 spring-boot-starter-websocket 使用Spring Framework的WebSocket支持构建WebSocket应用程序的初学者 spring-boot-starter-actuator 使用Spring Boot的Actuator的初学者，它提供生产就绪功能，帮助您监控和管理您的应用程序 spring-boot-starter-jetty 使用Jetty作为嵌入式servlet容器的入门。spring-boot-starter-tomcat的替代品 spring-boot-starter-reactor-netty 使用Reactor Netty作为嵌入式响应式HTTP服务器的入门者。 spring-boot-starter-tomcat 使用Tomcat作为嵌入式servlet容器的入门者。spring-boot-starter-web使用的默认servlet容器启动器]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java中的浮点数计算]]></title>
    <url>%2F2019%2F06%2F20%2Fnode%2Fjava%2Fnode-j2se_11%2F</url>
    <content type="text"><![CDATA[Java中的浮点数计算 一般各种编程语言都采用IEEE的浮点数规范，Java也不例外，float类型浮点数共32位，其中1个符号位，23个有效数字位，8个指数位；任何也数字都将表示成（M 乘 2的N次方）的形式，其中M是含符号的23位二进制数字，N是8位二进制数。可以算一下，十进制小数中只有类似0.5、0.25、0.125、0.75…这些以5结尾数可以精确的表示，其他的数字只能近似表示，也就是说23位有效数字的最后一位是不可靠的并不能精确的”相等”，只是在0和1这两个都不准确的数中选了一个相对准一点儿的。回到题目，第1个，IEEE规范和硬件无关，只要数字位数一样就是一样计算逻辑。然后1.0f-0.9f到底等不等于0.9f-0.8f ？其实单看题目是没法简单的给出答案的，除非把这三个数字的二进制表示算出来，再把这个减法做了，再看最后的二进制表示到底一不一样。但是，1.0f是可以精确表示的，另外两个不能，大概率不相等，选B。给工程的启示是，不要比较”浮点数”精确相等，一般都用abs(a-b)&lt;某个常量来判断是否相等。]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOS下重新授权SVN与初始化项目]]></title>
    <url>%2F2019%2F06%2F19%2Fnode%2Flinux%2Fnode-mac_02%2F</url>
    <content type="text"><![CDATA[MacOS下重新授权SVN与初始化项目 因为测试服务器重装了, 所以… 1. 清除本地SVN授权1rm -rf ~/.subversion/auth/ 2. 重新检出项目1svn co https://192.168.10.20/svn/riwon-doc/ 在没有授权的情况下, 会要求输入用户名与密码进行授权 3. 初始化项目1svn import ./rbi_revision_20190409/ https://192.168.10.20/svn/data-et/trunk -m "init"]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>SVN</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOS下安装puppeteer]]></title>
    <url>%2F2019%2F06%2F19%2Fnode%2Flinux%2Fnode-mac_01%2F</url>
    <content type="text"><![CDATA[MacOS下设置Node全局模块 今天开发环境中, 要加个 puppeteer 用于项目中的截图功能. npm -g install puppeteer cd /usr/local/lib/node_modules/puppeteer/ node install.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869// 截取图片const argv = process.argv;// 启动浏览器(async () =&gt; &#123; let url = "https://www.baidu.com"; const puppeteer = require('puppeteer'); const browser = await puppeteer.launch(&#123; // 关闭无头模式，方便我们看到这个无头浏览器执行的过程 // headless: false, timeout: 30000, // 默认超时为30秒，设置为0则表示不设置超时 &#125;); // 打开空白页面 const page = await browser.newPage(); await page.goto(url); /* await page.setCookie(&#123; name:"JSESSIONID", value:argv[7], domain:argv[8], path:"/", httpOnly:true, secure:false &#125;); */ await page.reload(url, &#123; waitUntil:"networkidle0" &#125;); // 页面分辨率 page.setViewport(&#123; width:1920, height:1080, deviceScaleFactor:1 &#125;); // 滚动 // await autoScroll(page); // 截图 await page.screenshot(&#123; path:'/Users/Selfimpr/development/workspace/temp/1.png', fullPage: true &#125;); // 关闭浏览器 await browser.close();&#125;)();function autoScroll(page) &#123; return page.evaluate(() =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; var totalHeight = 0; var distance = 100; var timer = setInterval(() =&gt; &#123; var scrollHeight = document.body.scrollHeight; window.scrollBy(0, distance); totalHeight += distance; if (totalHeight &gt;= scrollHeight) &#123; clearInterval(timer); resolve(); &#125; &#125;, 100); &#125;) &#125;);&#125; node cut.js 提示: 找不能 puppeteer 模块 设置全局的Node模块 因为我的Node模块, 都安装在 /usr/local/lib/node_modules/ 下, 所以配置 NODE_PATH 的环境变量就好了. 说干就干. 打开当前用户的Profile: vim ~/.bash_profile 在文件末尾添加: export NODE_PATH=/usr/local/lib/node_modules 让Profile生效: source ~/.bash_profile]]></content>
      <categories>
        <category>MacOS</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>Node</tag>
        <tag>Puppeteer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[利用Docker安装Maven私服]]></title>
    <url>%2F2019%2F06%2F18%2Fnode%2Flinux%2Fnode-docker_03%2F</url>
    <content type="text"><![CDATA[利用Docker安装Maven私服 1. 下载 Nexus镜像 docker pull sonatype/nexus3 2. 创建容器挂载宿主机路径 mkdir /Users/Selfimpr/development/workspace/nexus-data chmod 777 /Users/Selfimpr/development/workspace/nexus-data 3. 启动容器 docker run -d -p 8081:8081 --name nexus -e NEXUS_CONTEXT=nexus -e INSTALL4J_ADD_VM_PARAMS=&quot;-Xms2g -Xmx2g -XX:MaxDirectMemorySize=3g -Djava.util.prefs.userRoot=/some-other-dir&quot; -v /Users/Selfimpr/development/workspace/nexus-data:/nexus-data sonatype/nexus3 -e NEXUS_CONTEXT=nexus 指定Web访问Nexus3时, URL加的后缀. 默认为: / -e INSTALL4J_ADD_VM_PARAMS=&quot;-Xms2g -Xmx2g -XX:MaxDirectMemorySize=3g -Djava.util.prefs.userRoot=/some-other-dir&quot; 配置一些 JVM 的参数变量. -v /Users/Selfimpr/development/workspace/nexus-data:/nexus-data 将主机目录挂载为卷 4. 查看容器日志 docker logs -f nexus 5. 测试连接 curl -u admin:admin123 http://localhost:8081/nexus/service/metrics/ping 当控制台显示 pong, 表示Nexus已可以正常使用了 至此, 安装步骤到此结束. 容器的官方配置说明: https://hub.docker.com/r/sonatype/nexus3 6. 配置Nexus3配置私服的目的有两个: 在项目中使用私服(私服中已存在的jar, 直接从中拉取. 私服中没有的, 私服通过代理拉取, 并存到私服中) 将项目发布到私服中去 6.1 配置Nexus 打开: http://127.0.0.1:8081/nexus/登录: username: admin, password: admin123 创建自己的资源库 ① 创建代理资源库(Proxy Repository) Name: maven_proxyRemote storage: http://maven.aliyun.com/nexus/content/groups/public/Version policy: Release 分别解释含义: Name: 保持唯一, 见名知意即可Remote storage: 我这里用的阿里提供的Maven仓库, 考虑到国内的下载速度Version policy: 版本策略默认选择发布版本 ② 创建托管资源库(Hosted Repository) Name: maven_hostedVersion policy: SnapshotDeployment policy: Allow redeploy 分别解释含义: Name: 保持唯一, 见名知意即可Version policy: 版本策略, 这里选择快照版本(本地项目, 大多都是快照版本)Deployment policy: 部署策略, 这里选择允许重新部署(本地项目, 修改可能会比较频繁) ③ 创建组资源库(Group Repository) Name: maven_groupMembers: 选择的Items与顺序见图 为什么要注意顺序? 官方文档中建议： It is recommended practice to place hosted repositories higher in the list than proxy repositories. For proxy repositories, the repository manager needs to check the remote repository which will incur more overhead than a hosted repository lookup. 希望将hosted repositories【托管资源库】的顺序放在proxy repositories【代理资源库】之前，因为一个group【组资源库】中可以涵括这些托管资源库和代理资源库。而一整个的group是作为一个public，一个接口给别人使用的。所以当查找jar包的时候，如果代理资源库在前面，那就是先从远程去查找jar，而不是先从托管资源库（本地仓库）去查找是否有jar。这样访问外网的消耗比起来在本地查找，当然是将托管资源库放在代理资源库之前的优先位置了。 6.2 配置本地Maven(settings.xml)12345678910111213141516&lt;servers&gt; &lt;server&gt; &lt;id&gt;nexus&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt;&lt;/servers&gt;&lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;nexus&lt;/id&gt; &lt;name&gt;Nexus Repository&lt;/name&gt; &lt;url&gt;http://127.0.0.1:8081/nexus/repository/maven_group/&lt;/url&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;/mirror&gt;&lt;/mirrors&gt; 6.3 配置项目(pom.xml)1234567&lt;distributionManagement&gt; &lt;repository&gt; &lt;id&gt;maven_hosted&lt;/id&gt; &lt;name&gt;My Self Maven Hosted Repository&lt;/name&gt; &lt;url&gt;http://127.0.0.1:8081/nexus/repository/maven_hosted/&lt;/url&gt; &lt;/repository&gt;&lt;/distributionManagement&gt; 6.4 项目打包上传1mvn clean deploy -Dmaven.test.skip=true]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Nexus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 动态注册 Bean]]></title>
    <url>%2F2019%2F06%2F12%2Farticle%2FSpringBoot%2Farticle-spring-boot_19%2F</url>
    <content type="text"><![CDATA[Spring Boot 动态注册 Bean 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182package pro.yuchen.demo.batch.utils;import org.springframework.beans.BeansException;import org.springframework.beans.factory.NoSuchBeanDefinitionException;import org.springframework.beans.factory.support.BeanDefinitionBuilder;import org.springframework.beans.factory.support.DefaultListableBeanFactory;import org.springframework.beans.factory.support.DefaultSingletonBeanRegistry;import org.springframework.context.ApplicationContext;import org.springframework.context.ApplicationContextAware;import org.springframework.context.ConfigurableApplicationContext;import org.springframework.stereotype.Component;import java.lang.reflect.InvocationTargetException;import java.lang.reflect.Method;import java.util.Map;/** * @description: * @author: Mr.Lee * @date: 2019-06-10 15:50 */@Componentpublic class SpringUtils implements ApplicationContextAware &#123; private static ApplicationContext applicationContext = null; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; SpringUtils.applicationContext = applicationContext; &#125; //获取applicationContext public static ApplicationContext getApplicationContext() &#123; return applicationContext; &#125; //通过name获取 Bean. public static Object getBean(String name) &#123; return getApplicationContext().getBean(name); &#125; //通过class获取Bean. public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) &#123; return getApplicationContext().getBean(clazz); &#125; //通过name,以及Clazz返回指定的Bean public static &lt;T&gt; T getBean(String name,Class&lt;T&gt; clazz) &#123; return getApplicationContext().getBean(name, clazz); &#125; public static &lt;T&gt; T createBean(String name, Class&lt;T&gt; clazz, Map&lt;String, Object&gt; args) &#123; ConfigurableApplicationContext applicationContext = (ConfigurableApplicationContext) SpringUtils.getApplicationContext(); DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) applicationContext.getBeanFactory(); BeanDefinitionBuilder builder = BeanDefinitionBuilder.genericBeanDefinition(clazz); args.keySet().stream().map(x -&gt; builder.addPropertyValue(x, args.get(x))); beanFactory.registerBeanDefinition(name, builder.getBeanDefinition()); return getBean(name, clazz); &#125; public static void createBean(String name, Object object) &#123; ConfigurableApplicationContext applicationContext = (ConfigurableApplicationContext) SpringUtils.getApplicationContext(); DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) applicationContext.getBeanFactory(); beanFactory.registerSingleton(name, object); &#125; public static void removeBean(String name) &#123; ConfigurableApplicationContext applicationContext = (ConfigurableApplicationContext) SpringUtils.getApplicationContext(); DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory) applicationContext.getBeanFactory(); try &#123; beanFactory.removeBeanDefinition(name); &#125; catch (NoSuchBeanDefinitionException e) &#123; _removeBean(name); &#125; &#125; private static void _removeBean(String name) &#123; ConfigurableApplicationContext applicationContext = (ConfigurableApplicationContext) SpringUtils.getApplicationContext(); DefaultSingletonBeanRegistry registry = (DefaultSingletonBeanRegistry) applicationContext.getBeanFactory(); registry.destroySingleton(name); &#125;&#125; 提供了两种Spring创建对象的方式. 通过对象name删除IOC中的对象]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOS 解压jar包]]></title>
    <url>%2F2019%2F06%2F10%2Fnode%2Flinux%2Fnode-linux_15%2F</url>
    <content type="text"><![CDATA[MacOS 解压jar包 1unzip bi-server-0.0.1-SNAPSHOT.jar -d app app 为解压到的目录]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[对一组聊天记录的深思]]></title>
    <url>%2F2019%2F06%2F06%2Fdiary%2Fdiary_0028%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[早些时候留下的]]></title>
    <url>%2F2019%2F06%2F05%2Fdiary%2Fdiary_0027%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[这世间，唯有青春与梦想不可辜负]]></title>
    <url>%2F2019%2F06%2F05%2Fdiary%2Fdiary_0026%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[愿你]]></title>
    <url>%2F2019%2F06%2F05%2Fdiary%2Fdiary_0025%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS 7 关闭防火墙]]></title>
    <url>%2F2019%2F06%2F04%2Fnode%2Flinux%2Fnode-linux_14%2F</url>
    <content type="text"><![CDATA[CentOS7使用firewalld打开关闭防火墙与端口 1、firewalld的基本使用 启动： systemctl start firewalld 关闭： systemctl stop firewalld 查看状态： systemctl status firewalld 开机禁用 ： systemctl disable firewalld 开机启用 ： systemctl enable firewalld 2.systemctl是CentOS7的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体。 启动一个服务：systemctl start firewalld.service关闭一个服务：systemctl stop firewalld.service重启一个服务：systemctl restart firewalld.service显示一个服务的状态：systemctl status firewalld.service在开机时启用一个服务：systemctl enable firewalld.service在开机时禁用一个服务：systemctl disable firewalld.service查看服务是否开机启动：systemctl is-enabled firewalld.service查看已启动的服务列表：systemctl list-unit-files|grep enabled查看启动失败的服务列表：systemctl —failed 3.配置firewalld-cmd 查看版本： firewall-cmd —version 查看帮助： firewall-cmd —help 显示状态： firewall-cmd —state 查看所有打开的端口： firewall-cmd --zone=public --list-ports 更新防火墙规则： firewall-cmd —reload 查看区域信息: firewall-cmd --get-active-zones 查看指定接口所属区域： firewall-cmd --get-zone-of-interface=eth0 拒绝所有包：firewall-cmd --panic-on 取消拒绝状态： firewall-cmd --panic-off 查看是否拒绝： firewall-cmd --query-panic 那怎么开启一个端口呢 添加 firewall-cmd --zone=public --add-port=80/tcp —permanent （–permanent永久生效，没有此参数重启后失效） 重新载入 firewall-cmd —reload 查看 firewall-cmd --zone= public --query-port=80/tcp 删除 firewall-cmd --zone= public --remove-port=80/tcp —permanent]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>CentOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL for Mac 开启外网访问权限]]></title>
    <url>%2F2019%2F06%2F03%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_10%2F</url>
    <content type="text"><![CDATA[MySQL for Mac 开启外网访问权限 123mysql&gt; UPDATE user SET Host = '%' WHERE User = 'root';mysql&gt; flush privileges;mysql&gt; ALTER user 'root'@'%' IDENTIFIED BY 'root'; &#39;root&#39;@&#39;%&#39; 表示: root用户, 允许所有地址的访问 IDENTIFIED BY &#39;root&#39; 表示: 访问密码是: root]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>DataBase</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[今天遇到的一个Bug]]></title>
    <url>%2F2019%2F06%2F03%2Fdiary%2Fdiary_0024%2F</url>
    <content type="text"><![CDATA[今天遇到的Bug, 其实也不是什么惊奇的类型, 是做为程序员思维逻辑和考虑问题的方式方法上的一些问题. Bug描述:功能是: 由前端根据查询条件发起查询列表的请求, 由于发起时, 可能还会有其他用户为此列表添加Item, 所以在查询条件中加入了首次查询时间, 这样是为了在分页时, 不会因增加或删除Item, 在列表中产生重复项. 当时简单就让前端查询时, 带上页面load时的时间戳, 进行查询.结果问题是, 前端浏览器所在的客户端时间与服务器时间不同, 差了几秒, 因此查出的数据是不准确的. 心路历程当时, 很猪的想, 可能开个接口, 让前端去获取服务器时间.还想过, 在操作(比如复制图表…)后, 返回服务器时间 正解其实在第一次查询时, 服务器是不需要查询时间的, 也是说, 第一次查询可以用服务器时间,在返回第一次查询结果时, 携带服务器时间一并返回, 这样前端在做分页查询时, 就可以直接使用服务器时间了. 梳理其实解决问题的思路, 可以是多样的, 但是要从业务本身出发, 思考解决问题的方式方法, 不是一味的为了解决问题而去解决问题]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 常见授权与回收权限]]></title>
    <url>%2F2019%2F05%2F31%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_15%2F</url>
    <content type="text"><![CDATA[Oracle 常见授权与回收权限 1.GRANT 赋于权限常用的系统权限集合有以下三个:CONNECT(基本的连接), RESOURCE(程序开发), DBA(数据库管理) 常用的数据对象权限有以下五个:ALL ON 数据对象名, SELECT ON 数据对象名, UPDATE ON 数据对象名,DELETE ON 数据对象名, INSERT ON 数据对象名, ALTER ON 数据对象名 GRANT CONNECT, RESOURCE TO 用户名;GRANT SELECT ON 表名 TO 用户名;GRANT SELECT, INSERT, DELETE ON表名 TO 用户名1, 用户名2; 2.REVOKE 回收权限REVOKE CONNECT, RESOURCE FROM 用户名;REVOKE SELECT ON 表名 FROM 用户名;REVOKE SELECT, INSERT, DELETE ON 表名 FROM 用户名1, 用户名2;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java8 接口静态方法与默认方法]]></title>
    <url>%2F2019%2F05%2F29%2Fnode%2Fjava%2Fnode-j2se_10%2F</url>
    <content type="text"><![CDATA[Java8 接口静态方法与默认方法 12]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java8中的函数式接口]]></title>
    <url>%2F2019%2F05%2F29%2Fnode%2Fjava%2Fnode-j2se_09%2F</url>
    <content type="text"><![CDATA[Java8中Lamada的函数式接口 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849public void example() &#123; // 函数式接口 Supplier&lt;String&gt; supplier = () -&gt; "Hello Supplier"; // 原来的无参方法 System.out.println(supplier.get()); Consumer&lt;StringJoiner&gt; consumer = x -&gt; x.add("Hello").add("Consumer"); StringJoiner joiner = new StringJoiner(" "); consumer.accept(joiner); System.out.println(joiner.toString()); BiConsumer&lt;StringJoiner, String&gt; biConsumer = (join, s) -&gt; join.add(String.valueOf(s.length())); biConsumer.accept(joiner, "X.X.X"); System.out.println(joiner.toString()); Predicate&lt;String&gt; predicate = x -&gt; x.length() &gt; 12; System.out.println(predicate.test("xxx")); ToIntFunction&lt;String&gt; toInt = x -&gt; x.length(); // String::length System.out.println(toInt.applyAsInt("xxx")); ToLongFunction&lt;String&gt; toLong = x -&gt; Long.valueOf(x.length()); System.out.println(toLong.applyAsLong("xxx")); ToDoubleFunction&lt;String&gt; toDouble = x -&gt; Double.valueOf(x.length()); System.out.println(toDouble.applyAsDouble("xxx")); IntFunction&lt;String&gt; intFunction = x -&gt; String.valueOf(x); // String::valueOf System.out.println(intFunction.apply(1)); LongFunction&lt;String&gt; longFunction = x -&gt; String.valueOf(x); // String::valueOf System.out.println(longFunction.apply(1L)); DoubleFunction&lt;String&gt; doubleFunction = x -&gt; String.valueOf(x); // String::valueOf System.out.println(doubleFunction.apply(1.0)); Function&lt;String, Integer&gt; function = s -&gt; s.length(); // String::length System.out.println(function.apply("xxx")); BiFunction&lt;Integer, Double, String&gt; biFunction = (x, y) -&gt; String.valueOf(x + y); System.out.println(biFunction.apply(1, 1.0)); UnaryOperator&lt;StringJoiner&gt; unaryOperator = x -&gt; x.add("X.X.X.X.X.X.X"); joiner = unaryOperator.apply(joiner); System.out.println(joiner.toString()); BinaryOperator&lt;String&gt; binaryOperator = (x, y) -&gt; x + y; System.out.println(binaryOperator.apply("ABC", "DEF"));&#125; 函数式接口 参数类型 返回类型 描述 Supplier 无 T 提供一个T类型的值 Consumer T void 处理一个T类型的值 BiConsumer T, U void 处理T类型和U类型的值 Predicate T boolean 一个计算boolean值的函数 ToIntFunction T int 参数为T, 返回为int TOLongEunction T long 参数为T, 返回为long ToDoubleFunction T double 参数为T, 返回为double IntFunction int R 参数为int, 返回为R LongFunction long R 参数为long, 返回为R Doublefunction double R 参数为double, 返回为R Function T R 参数为T, 返回为R BiFunction T, U R 参数为T, U, 返回为R UnaryOperator T T 参数为T, 返回为T BinaryOperator T, T T 参数为T, T, 返回为T]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最近的遇到一些事和看的一些书]]></title>
    <url>%2F2019%2F05%2F28%2Fdiary%2Fdiary_0023%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX19jrZtdT4IbFPtAY3C6b/HCWaq9tLhkuq4=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Batch 批处理框架的技术调研]]></title>
    <url>%2F2019%2F05%2F04%2Farticle%2FSpringBoot%2Farticle-spring-boot_18%2F</url>
    <content type="text"><![CDATA[Spring Batch是批处理的框架 - 执行一系列作业。 1. 关于 Spring Batch 如何使用在Spring Batch中，作业由许多步骤组成，每个步骤由一个READ-PROCESS-WRITE任务或Single Operation 任务（tasklet）组成。 JobLauncher 任务的启动器 Job 封装整个批处理的实体. 一个任务(Job)可以由多个步骤(Step)组成. Step 是任务中的一个步骤, 它封装了批处理任务中独立的执行单元. ItemReader 是一个读取数据的抽象类 ItemProcessor 是一个处理读到数据的抽象类 ItemWriter 是一个存数数据的抽象类 JobRepository 用于记录任务每个阶段的 JobExecution 2. 是否适合公司项目的数据导入功能3. SpringBatch 导入数据的案例分析公司业务场景, 大致可以分为三种情况: 数据库 To 数据库, 文件 To 数据库, 数据库 To 文件. 下面针对这三种情况分别整理了案例, 还对查询任务执行进度, 失败记录处理, 任务断点续传给出了解决方案. ㊀ 数据库 To 数据库㊁ 文件 To 数据库㊂ 数据库 To 文件㊃ 任务执行进度㊄ 任务失败记录㊅ 任务断点续传4. 在分布式环境下 SpringBatch 的使用]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>SpringBatch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用Docker部署Spring Boot]]></title>
    <url>%2F2019%2F04%2F15%2Farticle%2FSpringBoot%2Farticle-spring-boot_17%2F</url>
    <content type="text"><![CDATA[在集群环境中, 如果集群中有1000台机器, 根本就没办法去一台一台的配置服务器环境. 而且服务器之间还会存在硬件上的差异. 光是想想都觉得恐怖, 好在有Docker. docker是把整个开发环境打包部署到服务器上, 而不是单纯的部署应用. 所以就省去了配置环境的麻烦. Spring官网上有一篇Getting Start, 介绍了如何使用Docker发布Spring Boot应用, 是比较详细的. 我在跟着配置时, 还是遇到了一些坑. 我的开发环境: Mac OS X 10.11.6 Docker 17.12.0-ce JDK 1.8 Maven 3.3 IDEA 构建一个Maven工程建议从http://start.spring.io/上创建, 填好表单中的Group Id和Artifact Id之后, 点击Generate Project按钮就可以生成了, 将下载后的工程导入到IDEA中. 工程文件Web层1234567891011121314151617181920package pro.yuchen.demo.dockerstart.web;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;/** * @description: * @author: Mr.Lee * @date: 2019-04-15 14:12 */@RestController@RequestMapping("/hello")public class HelloController &#123; @GetMapping("/docker") public String helloDocker() &#123; return "Hello Docker..."; &#125;&#125; 启动类12345678910111213package pro.yuchen.demo.dockerstart;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class DockerStartApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DockerStartApplication.class, args); &#125;&#125; 配置文件12server: port: 8088 我的POM文件1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.4.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;docker&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;name&gt;docker&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;docker.image.prefix&gt;springio&lt;/docker.image.prefix&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;!-- Docker maven plugin --&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.2.0&lt;/version&gt; &lt;configuration&gt; &lt;imageName&gt;$&#123;docker.image.prefix&#125;/$&#123;project.artifactId&#125;&lt;/imageName&gt; &lt;dockerDirectory&gt;src/main/docker&lt;/dockerDirectory&gt; &lt;resources&gt; &lt;resource&gt; &lt;targetPath&gt;/&lt;/targetPath&gt; &lt;directory&gt;$&#123;project.build.directory&#125;&lt;/directory&gt; &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;/include&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;repositories&gt; &lt;repository&gt; &lt;id&gt;central&lt;/id&gt; &lt;name&gt;aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;releases&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;/releases&gt; &lt;/repository&gt; &lt;/repositories&gt;&lt;/project&gt; docker.image.prefix 定义Docker镜像名的前缀dockerDirectory 定义了Dockerfile 文件的路径, Docker根据这个文件构建新的镜像resources 定义构建镜像时, 所需要的文件(可能会有一些静态文件). 这里我们只需要一个工程的jar包. Dockerfile 文件1234FROM openjdk:8-jdk-alpineVOLUME /tmpADD docker-1.0.jar app.jarENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;] FROM 指定openjdk:8-jdk-alpine为应用运行的基础镜像.VOLUME 指向了一个/tmp的目录, 由于Spring Boot使用内置的Tomcat容器, Tomcat默认使用/tmp作为工作目录. 效果就是在主机的/var/lib/docker目录下创建了一个临时文件, 并连接到容器的/tmpADD 拷贝文件并且重命名 ENTRYPOINT 为了缩短 Tomcat 的启动时间，添加java.security.egd的系统属性指向/dev/urandom作为 ENTRYPOINT 构建项目 打开IDEA的 Terminal, 在命令行中执行mvn package docker:build 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748[WARNING] [WARNING] Some problems were encountered while building the effective settings[WARNING] Unrecognised tag: 'distributionManagement' (position: START_TAG seen ...&lt;/pluginRepositories&gt;\r\n &lt;distributionManagement&gt;... @282:30) @ /Users/Selfimpr/software/maven/conf/settings.xml, line 282, column 30[WARNING] [INFO] Scanning for projects...[INFO] [INFO] ------------------------------------------------------------------------[INFO] Building docker 1.0[INFO] ------------------------------------------------------------------------[INFO] [INFO] --- docker-maven-plugin:1.2.0:build (default-cli) @ docker ---[INFO] Using authentication suppliers: [ConfigFileRegistryAuthSupplier][INFO] Copying /Users/Selfimpr/development/workspace/idea/docker-start/target/docker-1.0.jar -&gt; /Users/Selfimpr/development/workspace/idea/docker-start/target/docker/docker-1.0.jar[INFO] Copying src/main/docker/Dockerfile -&gt; /Users/Selfimpr/development/workspace/idea/docker-start/target/docker/Dockerfile[INFO] Building image springio/dockerStep 1/4 : FROM openjdk:8-jdk-alpinePulling from library/openjdkbdf0201b3a05: Pull complete 9e12771959ad: Pull complete c4efe34cda6e: Pull complete Digest: sha256:2a52fedf1d4ab53323e16a032cadca89aac47024a8228dea7f862dbccf169e1eStatus: Downloaded newer image for openjdk:8-jdk-alpine ---&gt; 3675b9f543c5Step 2/4 : VOLUME /tmp ---&gt; Running in 23e8fb0711afRemoving intermediate container 23e8fb0711af ---&gt; eeaeb003b08bStep 3/4 : ADD docker-1.0.jar app.jar ---&gt; ad74043b416bStep 4/4 : ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/app.jar"] ---&gt; Running in 2629fa88a206Removing intermediate container 2629fa88a206 ---&gt; 2f4ee09b4844ProgressMessage&#123;id=null, status=null, stream=null, error=null, progress=null, progressDetail=null&#125;Successfully built 2f4ee09b4844Successfully tagged springio/docker:latest[INFO] Built springio/docker[INFO] ------------------------------------------------------------------------[INFO] BUILD SUCCESS[INFO] ------------------------------------------------------------------------[INFO] Total time: 03:13 min[INFO] Finished at: 2019-04-15T18:12:55+08:00[INFO] Final Memory: 24M/292M[INFO] ------------------------------------------------------------------------ 使用docker images命令查看构建好的镜像： 1234REPOSITORY TAG IMAGE ID CREATED SIZEspringio/docker latest 2f4ee09b4844 11 seconds ago 121MBopenjdk 8-jdk-alpine 3675b9f543c5 5 days ago 105MBbobrik/socat latest e617a56c238e 3 years ago 6.95MB springio/docker 就是我们构建好的镜像，下一步就是运行该镜像 docker run -p 8088:8088 -t springio/docker 启动镜像 12345678910111213141516171819202122 . ____ _ __ _ _ /\\ / ___'_ __ _ _(_)_ __ __ _ \ \ \ \( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \ \\/ ___)| |_)| | | | | || (_| | ) ) ) ) ' |____| .__|_| |_|_| |_\__, | / / / / =========|_|==============|___/=/_/_/_/ :: Spring Boot :: (v2.1.4.RELEASE)2019-04-15 10:21:19.601 INFO 1 --- [ main] p.y.d.d.DockerStartApplication : Starting DockerStartApplication v1.0 on 6b7f8aacfa5c with PID 1 (/app.jar started by root in /)2019-04-15 10:21:19.606 INFO 1 --- [ main] p.y.d.d.DockerStartApplication : No active profile set, falling back to default profiles: default2019-04-15 10:21:22.288 INFO 1 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8088 (http)2019-04-15 10:21:22.368 INFO 1 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat]2019-04-15 10:21:22.370 INFO 1 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.17]2019-04-15 10:21:22.553 INFO 1 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext2019-04-15 10:21:22.555 INFO 1 --- [ main] o.s.web.context.ContextLoader : Root WebApplicationContext: initialization completed in 2833 ms2019-04-15 10:21:23.176 INFO 1 --- [ main] o.s.s.concurrent.ThreadPoolTaskExecutor : Initializing ExecutorService 'applicationTaskExecutor'2019-04-15 10:21:23.901 INFO 1 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat started on port(s): 8088 (http) with context path ''2019-04-15 10:21:23.912 INFO 1 --- [ main] p.y.d.d.DockerStartApplication : Started DockerStartApplication in 5.255 seconds (JVM running for 5.957)2019-04-15 10:21:32.564 INFO 1 --- [nio-8088-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring DispatcherServlet 'dispatcherServlet'2019-04-15 10:21:32.564 INFO 1 --- [nio-8088-exec-1] o.s.web.servlet.DispatcherServlet : Initializing Servlet 'dispatcherServlet'2019-04-15 10:21:32.578 INFO 1 --- [nio-8088-exec-1] o.s.web.servlet.DispatcherServlet : Completed initialization in 13 ms docker ps 查看运行状态 12CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES6b7f8aacfa5c springio/docker "java -Djava.securit…" 11 seconds ago Up 2 hours 0.0.0.0:8088-&gt;8088/tcp serene_shaw 踩过的坑Maven 的 docker 插件本质是调用Docker提供的 Remote API, 来远程操作Docker. 而Docker for Mac 默认是把 Remote API 割阉掉了, 所以要自己安装一下. 错误信息123456789[ERROR] Failed to execute goal com.spotify:docker-maven-plugin:0.4.3:build (default-cli) on project docker: Exception caught: java.util.concurrent.ExecutionException: com.spotify.docker.client.shaded.javax.ws.rs.ProcessingException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:2375 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused) -&gt; [Help 1] 安装命令12345docker run -it -d --name=socat \ -p 2375:2375 \ -v /var/run/docker.sock:/var/run/docker.sock \ bobrik/socat \ TCP4-LISTEN:2375,fork,reuseaddr UNIX-CONNECT:/var/run/docker.sock 参考文章: https://github.com/penglongli/blog/issues/68]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[今天中午下的一盘棋]]></title>
    <url>%2F2019%2F04%2F04%2Fdiary%2Fdiary_0022%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Aviator 表达式求值引擎]]></title>
    <url>%2F2019%2F03%2F30%2Farticle%2Flibrary%2Fgoogle-aviator%2F</url>
    <content type="text"><![CDATA[最近在新的公司熟悉环境，熟悉业务，熟悉项目。项目中用到了很多之前没有用过的技术与类库。我要一一熟悉，掌握。维护代码的精髓就是，让下一个维护代码的人感觉不到人维护代码的违和感。直白点就是我写的代码要与前人写的风格一致。说的有点多了，言归正传聊技术。 首先要贴出 官方文档和API。 Aviator是一个高性能、轻量级的 java 语言实现的表达式求值引擎, 主要用于各种表达式的动态求值。 Aviator 的特性： 支持绝大多数运算操作符，包括算术操作符、关系运算符、逻辑操作符、位运算符、正则匹配操作符(=~)、三元表达式(?:) 支持操作符优先级和括号强制设定优先级 逻辑运算符支持短路运算。 支持丰富类型，例如nil、整数和浮点数、字符串、正则表达式、日期、变量等，支持自动类型转换。 内置一套强大的常用函数库 可自定义函数，易于扩展 可重载操作符 支持大数运算(BigInteger)和高精度运算(BigDecimal) 性能优秀 引入类库12345&lt;dependency&gt; &lt;groupId&gt;com.googlecode.aviator&lt;/groupId&gt; &lt;artifactId&gt;aviator&lt;/artifactId&gt; &lt;version&gt;4.1.2&lt;/version&gt;&lt;/dependency&gt; 开始我们表演吧1. HelloWorld12345678/** * Aviator表达式之HelloWorld */@Testpublic void test_001() &#123; Long result = (Long) AviatorEvaluator.execute("1+2+3"); System.out.println(result); // 6&#125; Aviator的数值类型仅支持Long和Double, 任何整数都将转换成Long, 任何浮点数都将转换为Double]]></content>
      <categories>
        <category>Library</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Library</tag>
        <tag>Aviator</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最近一些想说的话]]></title>
    <url>%2F2019%2F03%2F18%2Fdiary%2Fdiary_0021%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX1/O+E4FRPlS5JXVVVkXJNz0bUmk4ABy/ViRBhRgkIONAoBbki2N+dg5OUMZHENt+4wqpSLmJY/cHLsbdcscz3ByDzw7nI0KuKtK1ficjMFOf4Lyj6Ci4VHVDxCZraB1Zbq6WWyvF4hJ4uZfUen7vgHA/H5J3KeTYDPIdzliIUQYposIbEqMIz9F0/JPb2pZjI/ncBbstZgxq9gaEXv40f/+26uFfrl++I7Pxp0Y03cPCri0vz7/ttYffLO54rnxFujE2TJ3x17cRP24eOMnBz5laFROWxUG3VqCVafjr+1zvnLqxSXwg44EV0Th6t0car4iexmetnD+1Pe8KqXCA4B6OCI1gUCXuWHwpljDCgsDK7NmQRt1t6boGCxef9/huY1HJ1bBGwZr1rHLnW9NgPEfKtvPV4oqhw33G2SQiQVohk+rCLmykHJL9g2i1/Jg6PhKltvpJ/kt05VUTtN0g0G7waWEF9cp1V+6SIbecNZqg//DM0kCUrGmyFcP5Desrca/KMS9omJato0hU+suJ9zTsFcUUVxeZsTwAlfeFECq4JAe6xF61S1kRExHrJjrG7CNGvkp0zi1JkAP/lYx6YJQ1PITPndtwoJPD2IcVBdPR6RiO7uPWdjUwiPL6Iw4WTxLe4GQuiGKslFZP0CstrkEPZ1liBGriEe34cKc3esnMBD5L9vVZ2TWkknFEwXthjfFvU+hsl/rR/TwFxCOdo6ywo9j01IrASugIBYk0MdKTL0545OqLUNPx8ND1irrjPucYSIFYs8awchJ8GOEGowCHJ1lk9pXOOXgj3GWCpKxA0a4S06KG/Q5Z0NOfNvBpQPreCnYrSK3WD0rf8uXI6CBubIjPQGVAaxLI/i4f57r+DqmgmrkEjppw/8lWSOaTOiuo4g+70VH90OuZ70xKJmD8R1fB7OPscTJWKcH6m6vlihD6jNTYzrap53VayTYN+v1na40cj1jmRUJWdbjTYCdIMtHdXYwxDo2iTRRGmsY9pDBfk0YjAHSERu39+iUldTK4oOXIsEUzUOEDsJytDbrKuAhntbvSU/6rLny69/W0rObU81DSsibB0lp3MCIGpHmUdn8dJS0ST5y/F0GDCoct4IGG4W/cRAe8RPVgRy9d1/SDB6QdQTNvx/B3cDQMQUcTR6eFZ1BPqjuydgiLTspwup0s/aBdRn/du0NxQ54n+eNSxkaOhfnV7a9IRApXUSfMg7O7lYio3yk4jov6crdLNKdNFT02l3dk0zwpVrnBg3RdjG6/6CV3idRPbWuEYkOCbyBOadhaV4I2vWplPdMxLJDy+Dvb5SW8eGZvWhVYJXLG/Ba43baLcFqE+8WqYmvLZs8FHz/n+eW7Y643fZq4Pi/eSrjLDSctHrTAzfVnRZWoGz2GIVbbkanp8yPY/TMO6p/T4DN+8oRTVhtVFT/o8pzxDcqiHU0Nr9wImruUM9PPQ8jSuGl5GVFQtJQAOt/ukqDXHbVzIb77Arultc8pe1iB8Q7YzibFga5m0mL9mbjkAx6AxAPYyxrBGFXPC9u0aoK1h1EYQ9pOtLm5i2Dh3dxJHV/E/y7O2toEqr7vw+HFdVRT8KWuUcP0gt/pOYMewbkLQWy15fbwu7EtDCCpM8kQCG0zr2aXDFoVVHn3KZqugSz06FtfEs4lt45mnXZfA5ABO4aNeYR3sqY2vXGeN1Npfz4GIxtmWa3PrdaWXK8x0Nt7vjYLbscckrPj8lgGSVNRMTYi6msuMurWU0wBA0O/cxfgCUkfy4TU6HNN+Wcqzp/JlhmBrMpUGKtWQMEqgqITEvpnj0+Y0+gozltsC7ZP4YgX1lMYC3Hx3bTWk68nWHfV11yWv33mQfFkoP6OSkMnEMXI5pi92AKmIEy9Dd4zecSQ8rpTMl/wn86oHeGkmrmdY81ErdID+0PLQlDbTKeWWTeFwUGCSdEJY5+xiff6Mcahm1Tvk6HZ2Pgoo9ptA7Z7V1Ejc4Io9xa4P9xJ2Z+kpgciHX66Hbbu3uA619TDzlfJlYhK4KkTnvgaPLfUwC37Kl0e6dwhlfKZrLJUSrMk0xMzWNkIBNA3I5xUdMn1SfrqMnf65RjIvUaHvL7WODQ7MOKQ3xeefNqM53byXN4KH2SkhJTIpCwcy5Ag1up8ta3zUJyokQ91mR9Am7VsNGGI954+2hN/rvqfiT5yMmPYuv580N9rpIkNRuJKO1GkuCUspWyyFUwlTIijraUXd6buNe1IIUZ8c7CM23Jc+mhyqUNB42rVFR22r8dVv5wfb7m5AzoaF1z9/oxfMIgUfiiBqwq/FgFL70NhdykPu/ihsQnSnF0jjEE/szF9eQO4ThYLp9FQtPmazof8+zjKo5MI6LI034P40Vh5btsoCZDMXVHWQkwmHSkiyuU2jkftjFnwNUoNw61nyuhjfphs4SBPHXh0XDTMF08e+ef5+igQFE9QhY2fCwORukV0doweuVMOAGtOf2H60xRNJuKlBrFORHwNWkn/jDakxyBPAk5qKcbb3Xp1luVS9LE0ZkhKoUnx5bT7RSTweZSJamckDJMaVM0ZRyhkmNl/ZiSaiuyyMcYsTSq53ADASm2ElPEV4mw6PwXLt8YYTK1tldol/CbYNmB7l26Zlz9hvOW6JaKo6mFco1CVVcHIppwa8GDevEdu4unGOJPjM0vr/jWZ9cq1cwXWus2pq+B0Hv8M2D1SuyLTSxLiMHDrcDsUyKY5CRQNtWYVBE4VAEyeP42IUWAiXxxawnMnLFavvg5shuESC07OA==]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[云村, 一个温暖的地方]]></title>
    <url>%2F2019%2F03%2F12%2Fdiary%2Fdiary_0020%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[所爱隔山海，山海不可平]]></title>
    <url>%2F2019%2F03%2F12%2Fdiary%2Fdiary_0019%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最近拿到了满意的Offer]]></title>
    <url>%2F2019%2F03%2F08%2Farticle%2FInterview%2Finterview_003%2F</url>
    <content type="text"><![CDATA[回忆面试的过程, 可以说是一波三折. 一面这家公司, 在天津. 而我确实在北京就职的. 所以初面是电话面试. 电话里问到了, 一些基础的技术, 监控MyBatis中所有SQL的执行速度. 设计表结构, 集合, 反射, 设计模式. SpringBoot的限流. 问完些, 感觉自己回答的并不好. 但是没多久, 就收到人事的通知说, 希望我能去到公司面试. 二面与人事约的是下午4点, 结果因为路上耽误了点时间, 4点10分到的公司, 填完表后, 我见到了初试我的面试官. 复试中问到了, 设计模式, 数据结构, SQL. 三面三面的面试官, 上来让我做了个自我介绍, 然后拿着我的简历, 问我了一些Python的东西, 我当时就毛了, 我靠, 那是业余时间写的小东西, 根本就没有细扣里面的知识点. 我直接坦白, Python的东西我不熟悉. 面试官人很好, 说没关系, 说Python只是解决问题的技术(工具) 不熟悉没关系, 但是解决问题的思路是想通的. 巴拉巴拉说了好一会儿, 这中间还穿插着一些算法和一些HTTP的知识……. 四面我都不知道, 我是怎么撑到这的. 这见的是公司副总级别的人了. 心里莫名的紧张起来. 四面里没技术的事了, 就问了一些关于上几家公司的问题. 总结因为一面和二面是同一个人, 就合到一起说了, 这个阶段, 问到的都是与技术相关的, 多多少少夹杂了一些考验分析问题的能力.到了三面, 主要是考察解决问题的能力和一些底层技术考察.四面, 我认为是就是站在了用人单位的角度, 考察我的稳定性和一些管理能力. 这个管理能力包括管理团队的能力和自我管理能力.]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[买了部单反]]></title>
    <url>%2F2019%2F03%2F04%2Fdiary%2Fdiary_0018%2F</url>
    <content type="text"><![CDATA[正在研究各种名词, 参数 我用的相机是 Nikon D80 镜头是 Nikon AF-S DX 35mm f/1.8G. 拍照 拍照三要素 快门时间 光圈大小 ISO(感光度) 相机 对焦模式 AF-A: 自动伺服自动对焦, 相机自动判断拍摄物体的移动性。 AF-S: 单次自动对焦 用于拍摄静止物体，半按快门相机进行一次对焦，对焦既被锁定，按下快门拍摄。 AF-C: 连续自动对焦 用于拍摄移动物体，半按快门相机进行连续对焦，可以随时释放快门拍摄。 镜头 画幅 DX: 指半画幅镜头。 FX: 指全画幅镜头。 CX: 指单电镜头。 调焦类型 AF: AF型是由机身马达驱动调焦 AF-S: AF-S型是镜头本身自带SWM超声波马达调焦 光学防抖 (VR) 所谓VR，就是光学防抖,是Vibration Reduction的缩写。它利用镜头内的2个传感器分别检测出拍摄时上下方向的震动（纵向晃动）和左右方向的震动（左右摇摆），并通过2个VCM音圈马达来驱动震动补偿光学系统，在捕捉到相机震动数据后，移动镜片进行反向补偿移动，从而抵消相机震动造成的影响。尼康减震技术的首次运用是在1994年开始销售的轻便型相机“Nikon Zoom 700VR QD”上。迄今已有10年多的历史了。]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在北京的一年]]></title>
    <url>%2F2019%2F03%2F04%2Fdiary%2Fdiary_0017%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F28%2Fdiary%2Fdiary_0034%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX1/GA5xnqbKlVZElBu8sgT9K6uY0VPXbdArLLCors/rVgTrsVfFB0hjs9OKRywYZX4u86+oHRMPtD1GHAyEohg3jIZJ1w86q2/o=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven项目版本号]]></title>
    <url>%2F2019%2F02%2F24%2Fnode%2Fjava%2Fnode-j2ee_10%2F</url>
    <content type="text"><![CDATA[Maven项目版本号, 各分段的含义, 以及各后缀含义 通常来说, 项目版本号分为三段: 主版本号.次版本号.修订版本号 主版本号变动, 代表框架变动或不兼容实现. 修订版本号变动, 则是修复Bug 版本的后缀意味着项目的不同阶段 SNAPSHOT : 表示开发中的版本, 会修复Bug和添加新功能 M1, M2 : 表示里程碑版本 RC(Release Candidate) : 表示发布候选版本 GA(General Availability) : 表示基本可用版本 RELEASE : 表示正式发布版本]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Maven</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在JD买《尼古拉 特斯拉 自传》]]></title>
    <url>%2F2019%2F02%2F21%2Fdiary%2Fdiary_0015%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[再见，黄淮。]]></title>
    <url>%2F2019%2F02%2F21%2Fdiary%2Fdiary_0016%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux使用 yum 安装MySQL]]></title>
    <url>%2F2019%2F01%2F21%2Fnode%2Flinux%2Fnode-linux_13%2F</url>
    <content type="text"><![CDATA[Linux使用 yum 安装MySQL 下载 wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm 安装 mysql 源 yum localinstall mysql57-community-release-el7-11.noarch.rpm 使用 yum install 命令安装 yum install -y mysql-community-server 启动 MySQL 服务 systemctl start mysqld 设置开机启动 systemctl enable mysqld 重载所有修改过的配置文件 systemctl daemon-reload 修改 root 本地账户密码 grep &#39;temporary password&#39; /var/log/mysqld.log set password for &#39;root&#39;@&#39;localhost&#39;=password(&#39;MyNewPass4!&#39;);]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[《未来世界的幸存者》读后感]]></title>
    <url>%2F2019%2F01%2F07%2Fdiary%2Fdiary_0014%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX19ne+aOY3nxg1i03PUbLUqJONGW6N4YJRk3upVRRXxF+A3s8yG3mg4tIFKpEHSi1nRI/6fP1jCLxxWSMOcs2doarffgWrAtWBBHQBBfCv9lELRIUMF246/xI9f3TOpofgZuBMFRrmlxcV7WrOp8ay42XztqiFee8jWKDhOHHc9qa7dmrAPba8dfsUsCGBUYz/bWjxqhnamOSkm4O/Q3S0YYhz06ZEhcXEoH88xNPWu1A8iuO8hNRrYkyPChT3uIcWxtdz9GUip0375geAFiKAFi53OKie/AfW5TxuN+hePRPP1loid9ovz/P/2R8xAqhaXrJPdht7Wg5X09jtjcyAkMfIgscaSyXyEZBlNYXSnmt8WunXOxPprUWwv3XXt+JN55Tt8XqqomUm8qK2EK/QvNrCKOyEUiqgaYrk+LXHBfKjQecXQzdeaqacac7bKUBy4E8mC5p8qbnkp97ROT+aOlF7SCYDil8E8RaOB7pqtYCE3OMJAWdtWt+vVltYx8LsPDxVp76FZ+d3qgVedGYjYjgsPCF63HeTCTBK8WRxz9JqWSFmB3xdrgzom58eRXD2jlumRkRK8LsoJwZDdl/drMdu1lNyL1Gj/6nMBm2zd2KloPvvl2SFvKcQYSfffRoN317ymLotFwmjANRMll1+Cp67nHsSOuMHpiINB629WkgWtRjKsDr0He2slM9CTkFH3QzaPTkKjXmMB1XWU9F8QvDKcP9e6gesB7hkvPnMt8QExR69G0CojOD1SNwunr9c7ejL0MUaR7OoDQwS3Twf8+lmP9+Wdr3nLbd9HlTC6DNAZ30f0CMwY9C0DmzugiBwDQ19E8NqU6ZuOwhk3lGoAfcpFnrM5dOcF/8Fmp6ppP7gU+JUrNv8iD9XFMQdLiy+jtim/tV6aLk3ZtrB+Bbj32s0uaEWMgAu0T+zBMQ6dP0aX3Y3nVb/z7PE2gkOC4SgHztr5Ud2rCrbvgtjZNt8woE7AjXyEi0lzXCdcJRxSqyvzdChN511JH54eCJcvLYcDhfyLoq3xbztcKpr/tL79eSMYQYSHJqzB3afxB7GBDcMiyDWIATV8ymuxbjJ1sBjSUWcgwRRjSfvBGX3WfTVWqLPxaQ8giupw=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018年的最后一天]]></title>
    <url>%2F2018%2F12%2F31%2Fdiary%2Fdiary_0013%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[通用文件上传]]></title>
    <url>%2F2018%2F12%2F27%2Fnode%2Fjava%2Fnode-j2ee_09%2F</url>
    <content type="text"><![CDATA[解决AJAX 提交中文信息乱码 Java Code: 123456789101112131415161718192021StringBuffer annexs = new StringBuffer();if (request instanceof MultipartHttpServletRequest) &#123; MultipartHttpServletRequest multipart = (MultipartHttpServletRequest) request; Iterator&lt;String&gt; fileNames = multipart.getFileNames(); int flag = 0; while (fileNames.hasNext()) &#123; String path = UploadPath.getEmailAnnexPath() + File.separator + member.getId() + File.separator; MultipartFile file = multipart.getFile(fileNames.next()); String fileName = DateUtil.dateToStr(new Date(), DateUtil.YMDHMS) + (flag++) + "_" + file.getOriginalFilename(); File io = new File(path + File.separator + fileName); if (!io.exists()) &#123; File p = io.getParentFile(); if (!p.exists()) &#123; p.mkdirs(); &#125; io.createNewFile(); &#125; file.transferTo(io); annexs.append(path + File.separator + fileName).append(";"); &#125;&#125; HTML Code: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt; &lt;body&gt; &lt;div id="wrapper"&gt; &lt;div id="page-wrapper"&gt; &lt;form id="submit_form" action="/erp/email/save" method="post" enctype="multipart/form-data" &gt; &lt;div class="row"&gt; &lt;div class="col-lg-2 " style="text-align: right;padding-top: 9px;"&gt;&lt;label&gt;附件:&lt;/label&gt;&lt;/div&gt; &lt;div class="col-lg-4 "&gt; &lt;label class="form-inline"&gt; &lt;input type="button" id="openFile" class="btn btn-success" value="选择文件..." /&gt; &lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;hr /&gt; &lt;div class="row" id="files"&gt;&lt;/div&gt; &lt;hr /&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;script type="text/javascript"&gt; var index = 0; $("#openFile").on("click", function() &#123; index++; var files = document.getElementById("files"); var annex = document.createElement("input"); annex.id = "annex_" + index; annex.name = "annex_" + index; annex.type = "file"; annex.style = "display: none;"; annex.onchange = function() &#123; var filename = annex.value; filename = filename.substring(12); var div = document.createElement("div"); div.id = "file_div_" + index; div.style = "padding-left: 245px;" var span_filename = document.createElement("span"); span_filename.style = "font-size: large;"; span_filename.innerText = filename; var span_button = document.createElement("span"); span_button.style = "font-size: large; padding-left: 10px;"; var a = document.createElement("a"); a.setAttribute("class", "btn btn-link"); a.href = "javascript:deleteDiv(" + index + ")"; a.innerText = "删除"; span_button.appendChild(a); div.appendChild(span_filename); div.appendChild(span_button); div.appendChild(annex); files.appendChild(div); &#125; annex.click(); &#125;); function deleteDiv(id) &#123; var div = document.getElementById("file_div_" + id); div.remove(); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Java</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[缓存更新策略]]></title>
    <url>%2F2018%2F12%2F20%2Fnode%2Fcache%2Fnode-cache_002%2F</url>
    <content type="text"><![CDATA[最近面试被问到, DB与Cache数据同步问题. 当时感觉答得不好, 就回来科普一下, 结果就颠覆了认知. 正所谓: 学然后知不足…… 原来更新缓存的方法更新缓存数据代码时，先删除缓存，然后再更新数据库，而后续的操作会把数据再装载的缓存中。 试想一下, 现在有两个线程的并发操作, 线程A修改数据库中数据, 线程B读取数据. 线程A删除缓存后, 线程挂起, 线程B开始查询, 查询没有命中, 就去数据库Load并放到缓存中.]]></content>
      <categories>
        <category>Cache</category>
      </categories>
      <tags>
        <tag>DataBase</tag>
        <tag>Cache</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决Redis缓存击穿]]></title>
    <url>%2F2018%2F12%2F20%2Fnode%2Fcache%2Fnode-cache_001%2F</url>
    <content type="text"><![CDATA[Redis缓存被击穿的原因与解决方案 造成Redis缓存击穿的原因缓存在某个时间点过期的时候，恰好在这个时间点对这个Key有大量的并发请求过来，这些请求发现缓存过期一般都会从后端DB加载数据并回设到缓存，这个时候大并发的请求可能会瞬间把后端DB压垮。 解决方案业界比较常用的做法，是使用mutex。简单地来说，就是在缓存失效的时候（判断拿出来的值为空），不是立即去load db，而是先使用缓存工具的某些带成功操作返回值的操作（比如Redis的SETNX或者Memcache的ADD）去set一个mutex key，当操作返回成功时，再进行load db的操作并回设缓存；否则，就重试整个get缓存的方法。类似下面的伪代码： 12345678910111213141516public String get(key) &#123; String value = redis.get(key); if (value == null) &#123; //代表缓存值过期 //设置3min的超时，防止del操作失败的时候，下次缓存过期一直不能load db if (redis.setnx(key_mutex, 1, 3 * 60) == 1) &#123; //代表设置成功 value = db.get(key); redis.set(key, value, expire_secs); redis.del(key_mutex); &#125; else &#123; //这个时候代表同时候的其他线程已经load db并回设到缓存了，这时候重试获取缓存值即可 sleep(50); get(key); //重试 &#125; &#125; else &#123; return value; &#125;&#125;]]></content>
      <categories>
        <category>Cache</category>
      </categories>
      <tags>
        <tag>DataBase</tag>
        <tag>Cache</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[愧疚感...]]></title>
    <url>%2F2018%2F12%2F18%2Fdiary%2Fdiary_0010%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX19hxqnvQ9QXyCSDYwB546ZDrrVWflE5gS5JR/JdgesqeUPkbhHqFE2LZu8JeuWYEcL2BDmREG2hiyaokj+0wbq83yhqzdFrX99h2iM/IijHH5PRk51oaGSKsH2Pz7L8lJze5J5PzSoRh2YKcqw0ICUdFJpVWMxvnHBNNHshL5DKXD1sB8vgP/MbgfQgqMgKaZw8OZmra4jYY6470HslV/CW/1BZEgCRKdvAJCeAnKYdj2yVk70ZZy7YCESNwHlWKeeWleMe9PVOI+kjBiWF0py3+tvqFy9ZVV9UNPpYFaShNL0zPcAbjUdX/t/AYCRbwy5wYhhMCxIqA8+APzYb6Jn+NV1cStjfz6COF6N0UWGRjJSBf0HPTJ+bwzcMTDjr0EhoO6/Q/nmIbBVd6NUqldT4ZJtyRj/9BKk=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[忘了...]]></title>
    <url>%2F2018%2F12%2F18%2Fdiary%2Fdiary_0012%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX1+QnVxFxHukuLL6nZFSSrko5+Xbm3wDTmKSQU6jyLV3Gvme8SGtZYxlehX6TO7ZVB4WWZ3Y5BUxK9UdtAkRYw02CwcDHqnXi+/KCmrbj/kq3GvPq/WHlug6yQvSkcLzir+HfiCxg3q84MwshT/D/1zwHKVz9rzEeTeqwOpCVnM0GsjKP4OguygPVbOLNk+6hF42EOSISBT2uUO8RO2Puy12WvDxsZiV9RMZgPrSP4fGx879qb7T7yRgzbH/SenRVY7ruejnR50ONWONdQh1ICdf30RpuUTYggKYrEDjVmikljivBiO8zcijiYqOpb4k3oE87ui8CbcufCjUpGGMQn5Rfzho/34QgTsmRc1oP2e2ecCHSBomT3RPp0yfENpv9izQte+LBoQQiCHkxH4LkWzYO2tTmQ4McPbm4dUnhR5IJJqG3GT6N5b5paA3epWdRGXTQmkaHOGDwt5datawyLf8ai5bIrvhN2H/dC0L5+gFo5stHHaCWMdUkCYwxrQIq2GF5Bb36jkrpbkwS2Zli6u1jHyY8w4dXqBa7CwfpDluOjinw6tGkJEtmbSYI8N/s5EODEFixJVrVfodq6M5GJa0CZSIrbB9FHe+OZILqE4AkV2hWO7I2vlUMFVj/kxPqYdB77OD4P+wmx3hIZUNBVTgoRYjT3SPQ3mlUGBFWuiUtJkGB7iztoh5dqBmdCr35B4Wyqoc+JvwHMv86QBFBUutawLHDbEQsU9GIR7JHXawwWPCNJmzLGaIKWTYAUVo7OQ9hnstrL5Erz0SvzjxKz15bm4Nq0Vh82md3gICMcgJw4zrfTsi5dCUTEXIc/ttRYquY/rf2EFcmRaepl8A/2XVnhIC15zw7X05dnYJXtwuhY0IlAiJsHjQl+/4qIPrljMC91cgTgsNKRfRqLzFM3neZX1Rtrgf0u8h80FgZm3UtB6EdWIVXNdXpWsgaN/kX5x5W05Kyc7g3Q02eemM0U/HYm3VM2kqeV4vd7tOJLsIKhON6jz3Fe/7v8nbGwgyPKWxNDfVBcD+voDfLhcL4hHUmFXqapKPZTXtEGE/ZQOiTyNaFzt7txLB9CtdoklLIcVMSqSWe/0J/8NLEiQZ7PfacnPqQhWeLa++YeHnEHiqO8JNX+87/b/yJDYHG0ztcPkPG7qF6HpZsund+DUI3p5T7io8ScXmowcUx0/6bDBbsNCUIzOPk9EsPaNvxRo3IDbZk9cVpQa5v0I++MUTg1vdOnqdvLaNJrJi7USVMRjI9WiDyWKWiQagL/xPDl2OCyWDwqnsdKv+kkuxXTN2eqWDbz5q+Cc1dEPYX0eVRU52sSxyzZCAm5gzQAUIdLWHVTcY9XLEs9w5t57p64821mXB+UApkAO25PVsGD5GWWtXRzD/nQzpHB/a6hRFsCmGPUXcLdkHcV3xdFjglVWhNl4MgkUGdP48vXcPZwbRhdI/cAj5Kf72HG6m1YqpBQYJLeWylgXnpExtVXHMP6GmmMQDcTbrlehlTJXd/sMSkwcC3QxFTU9+aTb4msglMmkUMXGVxOnVte5MEJUkY/svmBs44z/FO8ESC8q6SKRa74tUsnMQs6l8xTn3u/HbVE9FPQXmglGaHe0VAg0RPrNfUqrXiT9AP/zNahGajzGbkLtCTAhu3PAWjbAVb16EOBiXDXZZHoyLHvGvWJvhorz69NhoInOIsEkfiHsmsMJnIqHFE3O9wkLanbOnODEua18nto1fUyppWypZj7cCzAsGNHeg67doRjbYg5jskG0aSkWpafFLo3/QSoyH6NNYHYXanYdpVEtOK2bJFQ==]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[哈佛图书馆墙上的训言]]></title>
    <url>%2F2018%2F12%2F18%2Fdiary%2Fdiary_0011%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[数据库连接池]]></title>
    <url>%2F2018%2F12%2F18%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_09%2F</url>
    <content type="text"><![CDATA[数据源……. 在Java开发中，使用JDBC操作数据库的四个步骤如下：①加载数据库驱动程序(Class.forName(“数据库驱动类”);)②连接数据库(Connection con = DriverManager.getConnection();)③操作数据库(PreparedStatement stat = con.prepareStatement(sql);stat.executeQuery();)④关闭数据库，释放连接(con.close();)也就是说，所有的用户都需要经过此四步进行操作，但是这四步之中有三步(①加载数据库驱动程序、②连接数据库、④关闭数据库，释放连接)对所有人都是一样的，而所有人只有在操作数据库上是不一样，那么这就造成了性能的损耗。那么最好的做法是，准备出一个空间，此空间里专门保存着全部的数据库连接，以后用户用数据库操作的时候不用再重新加载驱动、连接数据库之类的，而直接从此空间中取走连接，关闭的时候直接把连接放回到此空间之中。那么此空间就可以称为连接池（保存所有的数据库连接），但是如果要想实现此空间的话，则必须有一个问题要考虑？1、 如果没有任何一个用户使用连接，那么那么应该维持一定数量的连接，等待用户使用。2、 如果连接已经满了，则必须打开新的连接，供更多用户使用。3、 如果一个服务器就只能有100个连接，那么如果有第101个人过来呢？应该等待其他用户释放连接4、 如果一个用户等待时间太长了，则应该告诉用户，操作是失败的。 如果直接用程序实现以上功能，则会比较麻烦，所以在Tomcat 4.1.27之后，在服务器上就直接增加了数据源的配置选项，直接在服务器上配置好数据源连接池即可。在J2EE服务器上保存着一个数据库的多个连接。每一个连接通过DataSource可以找到。DataSource被绑定在了JNDI树上（为每一个DataSource提供一个名字）客户端通过名称找到在JNDI树上绑定的DataSource，再由DataSource找到一个连接。如下图所示：那么在以后的操作中，除了数据库的连接方式不一样之外，其他的所有操作都一样，只是关闭的时候不是彻底地关闭数据库，而是把数据库的连接放回到连接池中去。如果要想使用数据源的配置，则必须配置虚拟目录，因为此配置是在虚拟目录之上起作用的。需要注意的是，如果要想完成以上的功能，在Tomcat服务器上一定要有各个数据库的驱动程序。]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>DataBase</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[18年的双12呀]]></title>
    <url>%2F2018%2F12%2F12%2Fdiary%2Fdiary_0009%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL导出指定数据库]]></title>
    <url>%2F2018%2F11%2F27%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_07%2F</url>
    <content type="text"><![CDATA[修改系统架构,需要挪一下数据库 1234# 导出RDS数据mysqldump -h yes517-erp.mysql.rds.aliyuncs.com -u yes517_erp -p yslx_erp &gt; yslx_erp.sqlmysqldump -h yes517-erp.mysql.rds.aliyuncs.com -u yes517_erp -p stgl &gt; stgl.sql 包括表结构(含索引)和数据]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL5.7 关闭 only_full_group_by]]></title>
    <url>%2F2018%2F11%2F27%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_08%2F</url>
    <content type="text"><![CDATA[MySQL 5.7 之后, only_full_group_by 默认是打开的. 12345678# 导出RDS数据select @@version;SELECT @@sql_mode; # ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIONSELECT @@GLOBAL.sql_mode; # ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIONselect @@SESSION.sql_mode; # ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIONSET GLOBAL sql_mode=(SELECT REPLACE(@@sql_mode,'ONLY_FULL_GROUP_BY',''));]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[设计模式(策略模式)]]></title>
    <url>%2F2018%2F11%2F27%2Farticle%2FDesignPattern%2Fdesign-pattern_02%2F</url>
    <content type="text"><![CDATA[设计模式之策略模式 将变化的部分, 封装起来. 使其独立. 然后用组合的方式, 使用这些独立的变化类 在这里, 鸭子的行为是经常变化的. 总结: 针对接口编程,]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java中 ArrayList, Vector, LinkedList]]></title>
    <url>%2F2018%2F11%2F26%2Fnode%2Fjava%2Fnode-j2se_07%2F</url>
    <content type="text"><![CDATA[在平时工作中整理一些面试问题. List用于存放多个元素，能够维护元素的次序，并且允许元素的重复。List接口一共有三个实现类，分别是ArrayList、Vector和LinkedList。 ArrayList是最常用的List实现类，内部是通过数组实现的，它允许对元素进行快速随机访问。数组的缺点是每个元素之间不能有间隔，当数组大小不满足时需要增加存储能力，就要讲已经有数组的数据复制到新的存储空间中。当从ArrayList的中间位置插入或者删除元素时，需要对数组进行复制、移动、代价比较高。因此，它适合随机查找和遍历，不适合插入和删除。 Vector与ArrayList一样，也是通过数组实现的，不同的是它支持线程的同步，即某一时刻只有一个线程能够写Vector，避免多线程同时写而引起的不一致性，但实现同步需要很高的花费，因此，访问它比访问ArrayList慢。 LinkedList是用链表结构存储数据的，很适合数据的动态插入和删除，随机访问和遍历速度比较慢。另外，他还提供了List接口中没有定义的方法，专门用于操作表头和表尾元素，可以当作堆栈、队列和双向队列使用。 关于ArrayList和Vector区别如下： ArrayList在内存不够时默认是扩展50% + 1个，Vector是默认扩展1倍。 Vector提供indexOf(obj, start)接口，ArrayList没有。 Vector属于线程安全级别的，但是大多数情况下不使用Vector，因为线程安全需要更大的系统开销。]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java 复制文件]]></title>
    <url>%2F2018%2F11%2F26%2Fnode%2Fjava%2Fnode-j2se_08%2F</url>
    <content type="text"><![CDATA[Java 复制文件 123456789101112131415161718192021/** * 复制文件 * @param source 原文件 * @param dest 目的文件 */private static void copy(File source, File dest) throws IOException &#123; InputStream input = null; OutputStream output = null; try &#123; input = new FileInputStream(source); output = new FileOutputStream(dest); byte[] buf = new byte[1024]; int bytesRead; while ((bytesRead = input.read(buf)) &gt; 0) &#123; output.write(buf, 0, bytesRead); &#125; &#125; finally &#123; input.close(); output.close(); &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[给我的MacBook找些小伙伴]]></title>
    <url>%2F2018%2F11%2F20%2Fnode%2Flinux%2Fnode-linux_12%2F</url>
    <content type="text"><![CDATA[我本来想用Docker, 组个局域网的. 原来公司就是这么玩的. 结果了解到MacOS和Linux的Docker实现不一样. Docker for Mac 用了一个虚拟机, 把Docker包起来提供服务, 所以在Mac下不能直接访问Docker容器. 我的解决方案: 在Mac上安装虚拟机, 在虚拟机中安装Docker. 然后用虚拟机做路由转发. 连通Mac与Docker. 准备 VirtualBox - v5.2.2：虚拟机 Vagrant - v2.0.1：通过配置文件来快速创建定制的虚拟机 安装虚拟机 下载虚拟机镜像 : CentOS 7 移动到工作空间: mv ~/Downloads/centos-7.0-x86_64.box ~/development/workspace/vm/box/ 添加镜像: vagrant box add centos7 ~/development/workspace/vm/box/centos-7.0-x86_64.box 进入vagrant工作空间: cd ~/development/workspace/vm/vagrant/centos 初始化镜像: vagrant init centos7 配置虚拟机: vim Vagrantfile 12345678910Vagrant.configure("2") do |config| config.vm.box = "centos7" config.vm.hostname = "centos7" config.vm.network "private_network", ip: "10.13.144.104", netmask: "255.255.255.0" config.vm.provider "virtualbox" do |v| v.name = "centos7" v.memory = "1024" endend 启动虚拟机: vagrant up 进入虚拟机: vagrant ssh 123456sudo passwd rootsu rootcd ~mkdir .sshcd .sshvim authorized_keys 使用SSH登录虚拟机: ssh root@10.13.144.104 在虚拟机中安装Docker 安装Docker: yum -y install docker 创建容器: docker run --name=linux -d centos:6.7 /bin/bash -c &quot;while true; do echo hello; sleep 1; done&quot; 出错了:12/usr/bin/docker-current: Error response from daemon: error creating overlay mount to /var/lib/docker/overlay2/65f3c109fb903539820f84856d2725af784f2f03f95b1f0214e34184e4d61ff7-init/merged: invalid argument.See '/usr/bin/docker-current run --help'. 在网上搜索一番后，一个可行的方案如下(改变storage driver类型， 禁用selinux): 停止docker服务: systemctl stop docker 清理镜像: rm -rf /var/lib/docker 修改存储类型: vi /etc/sysconfig/docker-storage 把空的DOCKER_STORAGE_OPTIONS参数改为overlay: DOCKER_STORAGE_OPTIONS=&quot;--storage-driver overlay&quot; 禁用selinux: vi /etc/sysconfig/docker 去掉option的 –selinux-enabled 启动docker应该就可以了: systemctl start docker 重新创建容器: docker run --name=linux -d centos:6.7 /bin/bash -c &quot;while true; do echo hello; sleep 1; done&quot; 查看容器信息 123456789[root@centos7 ~]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESb3c81e022a22 centos:6.7 "/bin/bash -c 'whi..." 9 seconds ago Up 8 seconds linux[root@centos7 ~]# docker inspect --format '&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;' b3c81e022a22172.17.0.2[root@centos7 ~]# ping 172.17.0.2PING 172.17.0.2 (172.17.0.2) 56(84) bytes of data.64 bytes from 172.17.0.2: icmp_seq=1 ttl=64 time=0.075 ms64 bytes from 172.17.0.2: icmp_seq=2 ttl=64 time=0.076 ms 现在的网络拓扑图 A 是我的MacBook, B 是我安装的虚拟机, C 和 D 是虚拟机中安装的Docker容器. A添加静态路由，让特定地址或者网断流量路由到B，然后 B开启内核转发，同时调整 iptable forward 链规则 结果到这就不会弄了…… 想哭…….. 注: Vagrant命令详解 命令 作用 vagrant box add 添加box的操作 vagrant init 初始化box的操作，会生成vagrant的配置文件Vagrantfile vagrant up 启动本地环境 vagrant ssh 通过ssh登录本地环境所在虚拟机 vagrant halt 关闭本地环境 vagrant suspend 暂停本地环境 vagrant resume 恢复本地环境 vagrant reload 修改了Vagrantfile后，使之生效（相当于先 halt，再 up） vagrant destroy 彻底移除本地环境 vagrant box list 显示当前已经添加的box列表 vagrant box remove 删除相应的box vagrant package 打包命令，可以把当前的运行的虚拟机环境进行打包 vagrant plugin 用于安装卸载插件 vagrant status 获取当前虚拟机的状态 vagrant global-status 显示当前用户Vagrant的所有环境状态]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 函数指定入参和出参类型]]></title>
    <url>%2F2018%2F11%2F08%2Farticle%2Fpython%2Farticle-python_14%2F</url>
    <content type="text"><![CDATA[今天看到一句话: ‘动态类型一时爽,代码重构火葬场’ 12def x(name: str) -&gt; str: return 'Hello ' + name 参数用:指定入参类型 函数名后用-&gt;指定返回类型]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL更新语句]]></title>
    <url>%2F2018%2F11%2F08%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_06%2F</url>
    <content type="text"><![CDATA[忽然不会写UPDATE语句了…. 123456789101112UPDATE yslx_erp.sys_order_status os LEFT JOIN (SELECT o.id, CASE WHEN oc.id IS NOT NULL THEN 2 WHEN o.is_complete = 1 THEN 9 ELSE (CASE WHEN count(m.id) &gt; 0 THEN 1 ELSE 0 END) END AS code FROM yslx_erp.sys_order o LEFT JOIN yslx_erp.sys_order_complete oc ON o.id = oc.order_id AND oc.status = 0 LEFT JOIN yslx_erp.sys_outlay_income_money m ON o.id = m.order_id AND m.status = 0 GROUP BY o.id) t ON t.id = os.order_id SET os.status = t.code;]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[今天面试了四家]]></title>
    <url>%2F2018%2F11%2F02%2Farticle%2FInterview%2Finterview_002%2F</url>
    <content type="text"><![CDATA[四家的结果… 第一家 RabbitMQ 中有哪种数据类型(队列, 广播) Maven打包命令(mvn clean package) 数据库事务的隔离性(同一份数据, 在同一时间内, 只能被一个执行程序修改) Duboo 的服务治理() 第二家唯一一个技术的题目还tm答错了…少了一个GROUP BY…. 第三家 需要系统的学习Spring3(Bean, 调度器) Servelt和Filter是啥, 他们有什么区别? 第四家 再自信一点吧]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[无意中, 看到的一句话]]></title>
    <url>%2F2018%2F10%2F31%2Fdiary%2Fdiary_0008%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX19uOYf4S7cR6MI6U4RkTXB41t/fP/tndrm1BXug5waHoFCwolkCm6O9FLOkzDprxRCP5Z24wI0i8jI7DGQtxlLY+2BjyibN8QonbUqMjMh6P/IsusABT7QXLICV8p0jvyU8jPmBTAEru/CTyZa+FzuirnFDrY3BIeSPIhdTmFf+06fzHoovUySHBPBz9Bimc3E5CH/HN/vtG9P1s2lteBB/z0XhKXQVn3heJ778Mlw3UVIBvVQHsm4egjDkvxDeXHY9rdxwJogLFyLMiQL4DGy5BwOOFZFgTXiFt5xin8onwGyTjQ6n0NLIQyoWTt7I4WHbmWjbqltAbcVQkTPw509rFcoFNCEi32WFCgsd0xGCLKo6lJOQAIZNKJyM1Bsczt+04L+CJUK2Gesx0z9zcIkFmqZ1poAF8ohhnZ24oGSmGNMB5vUnrlcoRTP99IPBkzJpAhTDZpJ34p3lBNpFtZhBXn1oSKrThW9iPk/AoEa922IAkhNvr+IaYu9Z1UxupBynxMT2uDq34GTQGiDyfjZha281SeQ4U1+S5QlSZ+WLVcVnq47VmRuHlDdHg+xrnxnYLdw++4CNDhBInbd6vrW4tAcaFfQllQ5KgSFfEjMGCMTZquUwNTmwE++BpTYt/2Ee35drFZ+ZXIBJsDIaICDUOUm4LaJuILeiCEUpyYCqGDMqvytIizTRl9HVGE57ixCPjTBpRx35xf2CP1dqFLdRQnuVHsvdV8DwT7uW2+uD1SQEfv0jBbWe6SKSrEHv21e+E4xFlc4JKAqFTgHAJpzmkPKuJ8YanMW1EwC3Jo40ZR/ch9GSnmSc7dWM7YTF/dQA982FaF1+trLzTR1p5alzVsFAZYQFyS8UgdVF5kOyAgEiJkct94R9yswdfN9qKsyU/5m7vE5Jxglznu2zPuv7clLZWYFeyUvCU2eVc5PVNCsoXcWYIOpFxnhmJYwmrdNS6hMzk9cw36y0Ore6VH5RaEIsNJ0z2kPEE5gOfweRqPuNHKDJzKnloyF/NbiktiTxerMlzGNfCnK3885ZbxrntXyulGuIusaoZTVrnvo63huKQdc7kEN8caRgwyzXgJkt3YyOzwfzdO91qkyyoL5+vJSTKVYHhAgtbSVBWACVO2YfK3KRu4rMzXLReh6hYI2lTSF3RFttKtcYKGtXlPFf7cYzrg6RypllgS8F602RbCf3C3yHyC4ubO8H9EWS/k37OKG8LF3sum55nt0fs0nspPtCcaJ36+Mp1eqrc47uGPYbRQgBdSN4VEMSLFmEI3Vwbw4LorTpl/T8hyb+eV4MQvcUb4JusCbQi2uY1++730l7h8LIHjUk9fQHGgTI1wgcRcGu1kP8GrJ+EgZNpCfDZuR/oqEfMUTaTHhNVdBj7EQqY1Zc+hdgIhYBhSushZnrQFP/jRE5WdKlg5ebfg4eT3+jIVLZocvCqDd9D5POwCFekBZ531lleC7wa2m7X+0tAg74ooCaWIvFgKV6oCFP+X/OSJGOmDrmgYwuC5gbtq1FdwbKNkykP2O+IJOgn74dXuwpEBXaCk7mTHmHPejPfXqbZ/OEeGzAsa1GLK3EatNN58WtcVoz]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[面试时的自我介绍]]></title>
    <url>%2F2018%2F10%2F29%2Farticle%2FInterview%2Finterview_000%2F</url>
    <content type="text"><![CDATA[面试时的自我介绍 我叫李述昱, 希望谋得一份Java开发的工作. 从入行到现在已经有3年多了. 在过去的时间里, 维护过旧项目, 也写过独立模块, 也独立设计并完成过一整个项目. 与前端同事做过对接, 也与其他公司对接过接口. 我的经历, 算不上丰富, 但也有对代码的一些理解. 觉得写过的代码, 是在给别人讲故事. 给与你协作的同事讲, 给你对接的同事讲, 给日后维护代码的人讲. 告诉他们, 我在解决的问题和我解决问题的思路和方法. 要把这个故事讲好, 讲的精彩, 需要解决问题的思路, 解决问题所需的技术. 思路与技术是相辅相成的. 技术不够会局限思路的发散, 思路不够会影响技术的使用. 当然技术会扩展思路, 思路会促进技术. 我技术还需要磨练, 还需要见识其他人的思路. 希望能在贵公司, 见识新的解决问题的思路, 磨练技术. 同样也希望我能给贵公司带来新鲜的活力.]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[靠谱点儿]]></title>
    <url>%2F2018%2F10%2F29%2Farticle%2FInterview%2Finterview_001%2F</url>
    <content type="text"><![CDATA[靠谱点儿… 1. 数据库事务, 视图, 数据库建模, SQL语法事务:数据库事务(Transanction) 正确执行的四个基本要素。ACID,原子性(Atomicity)、一致性(Correspondence)、隔离性(Isolation)、持久性(Durability)。原子性:整个事务中的所有操作，要么全部完成，要么全部不完成，不可能停滞在中间某个环节。事务在执行过程中发生错误，会被回滚（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。一致性:在事务开始之前和事务结束以后，数据库的完整性约束没有被破坏。隔离性:隔离状态执行事务，使它们好像是系统在给定时间内执行的唯一操作。如果有两个事务，运行在相同的时间内，执行 相同的功能，事务的隔离性将确保每一事务在系统中认为只有该事务在使用系统。这种属性有时称为串行化，为了防止事务操作间的混淆，必须串行化或序列化请求，使得在同一时间仅有一个请求用于同一数据。持久性:在事务完成以后，该事务所对数据库所作的更改便持久的保存在数据库之中，并不会被回滚。 视图视图:是虚拟的表，与包含数据的表不一样，视图只包含使用时动态检索数据的查询；不包含任何列或数据。使用视图可以简化复杂的SQL操作，隐藏具体的细节，保护数据；视图创建后，可以使用与表相同的方式利用它们。 视图不能被索引，也不能有关联的触发器或默认值，如果视图本身内有order by 则对视图再次order by将被覆盖。 关于更新视图: 对于未使用联结子查询分组聚集函数Distinct Union等的视图, 是可以对其更新的. 但是视图主要用于简化检索, 保护数据, 并不用于更新. 数据库建模设计数据库时, 应尽可能遵循三范式设计 第一范式(1NF)：字段值具有原子性,不能再分(所有关系型数据库系统都满足第一范式);如：姓名字段,其中姓和名是一个整体,如果区分姓和名那么必须设立两个独立字段; 第二范式(2NF)：一个表必须有主键,即每行数据都能被唯一的区分;备注：必须先满足第一范式; 第三范式(3NF)：一个表中不能包涵其他相关表中非关键字段的信息,即数据表不能有沉余字段;备注：必须先满足第二范式;(可能会存在空间换时间的情况, 有些时候, 是不满足第三范式的) 2. MySQL特点, 正确使用索引MySQL特点 功能强大: MySQL支持事务、视图、存储过程和触发器等. 支持跨平台 运行速度快, 高速是MySQL的显著特性。 成本低: MySQL数据库是一种完全免费的产品 数据库存储容量大 MySQL, HBase, ElasticSearch 的区别互联网时代各种存储框架层出不穷, 传统的关系型数据库：Oracle、MySQL；新兴的NoSQL：HBase、Cassandra、Redis；全文检索框架：ElasticSearch、Solr等。 MySQL：关系型数据库，主要面向OLTP，支持事务，支持二级索引，支持sql，支持主从、Group Replication架构模型（本文全部以Innodb为例，不涉及别的存储引擎）。 HBase：基于HDFS，支持海量数据读写（尤其是写），支持上亿行、上百万列的，面向列的分布式NoSql数据库。天然分布式，主从架构，不支持事务，不支持二级索引，不支持sql。 ElasticSearch：ES是一款分布式的全文检索框架，底层基于Lucene实现，虽然ES也提供存储，检索功能，但我一直不认为ES是一款数据库，但是随着ES功能越来越强大，与数据库的界限也越来越模糊。天然分布式，p2p架构，不支持事务，采用倒排索引提供全文检索。 3. 常见SQL优化技巧我说一下从自己的一些优化SQL的经历, 总结的技巧. 拿到慢SQL后, 先改SQL中存在的问题. 比如条件里套件中存在的 &lt;&gt;, in, 过多的SQL嵌套, 修改后,拆分执行具体哪一句, 影响了速度. 根据具体情况, 加联合索引, 拆表, 加冗余表(空间换时间的手段). 技术论坛里, 很多用 EXPLAIN (查看索引是否起作用)语句的, 也是很好用的. 4. JDBC 使用步骤 加载驱动 创建连接 执行SQL语句 Statement 执行静态SQL语句。 PreparedStatement 执行动态SQL语句。 CallableStatement 执行数据库存储过程。 处理结果 关闭连接 5. Spring + SpringMVC, MyBatis(1). 什么是Spring? Spring 是 Java EE 的是一个轻量级的开源框架. 使 J2EE 开发更容易, 通过实现基于POJO的编程模型, Spring 的核心是 IOC (2)Spring框架支持以下五种bean的作用域： singleton : bean在每个Spring ioc 容器中只有一个实例。 prototype：一个bean的定义可以有多个实例。 request：每次http请求都会创建一个bean，该作用域仅在基于web的Spring ApplicationContext情形下有效。 session：在一个HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。 global-session：在一个全局的HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。 (3)使用Spring框架的好处是什么? 轻量：Spring 是轻量的，基本的版本大约2MB。 控制反转：Spring通过控制反转实现了松散耦合，对象们给出它们的依赖，而不是创建或查找依赖的对象们。 面向切面的编程(AOP)：Spring支持面向切面的编程，并且把应用业务逻辑和系统服务分开。 容器：Spring 包含并管理应用中对象的生命周期和配置。 MVC框架：Spring的WEB框架是个精心设计的框架，是Web框架的一个很好的替代品。 事务管理：Spring 提供一个持续的事务管理接口，可以扩展到上至本地事务下至全局事务（JTA）。 异常处理：Spring 提供方便的API把具体技术相关的异常（比如由JDBC，Hibernate or JDO抛出的）转化为一致的unchecked 异常。 6. jQuery7. 理解Redis缓存8. MQ9. 任务调度(Worker)10. 单元测试11. 常见设计模式, 理解面向对象设计思想, 数据结构, 算法有一定认知12. Git13. 设计和开发分布式, 支持热部署, 热备份, 热恢复]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[写个爬虫]]></title>
    <url>%2F2018%2F10%2F27%2Farticle%2Fpython%2Farticle-python_13%2F</url>
    <content type="text"><![CDATA[最近&lt;&lt;择天记&gt;&gt;动漫热播, 我看着起劲, 等更新太累, 就去网上找原著看, 结果找到一个叫落霞小说的小说网站, 看了一会儿, 觉得在浏览器里翻页有点费劲儿, 就写爬虫. 下载到本地来看吧 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#!/usr/bin/env python3# -*- coding: utf-8 -*-import requestsfrom bs4 import BeautifulSoupimport logging as logimport redef get_html(url): try: response = requests.get(url, timeout=30) response.raise_for_status() response.encoding = 'utf-8' return response.text except: return Nonedef out_file(content, mode='a+'): file_name = "/Users/Selfimpr/development/test.txt" with open(file_name, mode, encoding="UTF-8") as f: f.write(content)def get_article(url): html = get_html(url) if None != html: soup = BeautifulSoup(html, 'lxml') article_title = soup.find("h1", attrs=&#123;"id": "nr_title"&#125;).text log.info("正在下载: &#123;&#125;".format(article_title)) article_content = "" arr = soup.find("div", attrs=&#123;"id": "nr1"&#125;).find_all("p") for i in range(0, arr.__len__()): article_content += "\n&#123;&#125;".format(arr[i].text) article = "\n\n&#123;&#125;\n&#123;&#125;\n".format(article_title, article_content) out_file(article)def run(): url = "http://www.luoxia.com/zetian/" response = requests.get(url) response.encoding = "utf-8" html = get_html(url) soup = BeautifulSoup(html, 'lxml') titles = soup.find_all("div", attrs=&#123;"class": "title clearfix"&#125;); chapters = soup.find_all("div", attrs=&#123;"class": "book-list clearfix"&#125;); for i in range(0, titles.__len__()): log.info("正在下载: &#123;&#125;".format(titles[i].text)) out_file(titles[i].text) arr = chapters[i].find("ul").find_all("li") for j in range(0, arr.__len__()): regex = "(http://www.luoxia.com/zetian/\d+\.htm)" article_url = re.search(regex, arr[j].__str__()).group(1) get_article(article_url)if __name__ == "__main__": log.getLogger().setLevel(log.INFO) run()]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL表数据的备份与恢复]]></title>
    <url>%2F2018%2F10%2F24%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_05%2F</url>
    <content type="text"><![CDATA[由于系统, 在处理多线程的情况下, 出了一些问题, 所以要手动处理掉一些数据. 在处理线上的数据之前, 要备份数据是常识好吧 MySQL备份单表数据1CREATE TABLE sync_buyer_info_bak20181023 AS SELECT * FROM sync_buyer_info; MySQL恢复单表数据因为表结构是一样的, 就不用写字段了, 直接插入就好…1INSERT INTO sync_buyer_info SELECT * FROM sync_buyer_info_bak20181023;]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 源码安装Nginx]]></title>
    <url>%2F2018%2F10%2F19%2Fnode%2Flinux%2Fnode-linux_10%2F</url>
    <content type="text"><![CDATA[Linux 源码安装Nginx 下载Nginx http://nginx.org/en/download.html 解压源码包, 进入目录 tar -zxvf nginx-1.13.1.tar.gzcd nginx-1.13.1 检查安装环境 ./configure 安装缺少 GCC++ yum install gcc 安装tcl8.6.8下载 tcl8.6.8, 解压, 进入目录 ./configure make install 进入 Nginx 目录, 继续安装 ./configure make install 软件被安装到了 /usr/local/nginx]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL中的字符转数字]]></title>
    <url>%2F2018%2F10%2F19%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_04%2F</url>
    <content type="text"><![CDATA[今天在重构代码, 改变之前功能的实现方式, 所以有些历史数据需要处理… 这是我写的一个处理SQL12345678910111213141516171819202122232425262728293031323334INSERT INTO yslx_erp.sys_order_status( order_id, update_date, is_complete, is_refund, is_recede, is_discard, delivery, outlay_status, income_status, refund_status, actual_outlay, actual_income, actual_refund )SELECT o.id AS order_id, now() AS update_date, t.is_complete, /*是否显示完成按钮*/ CASE WHEN (CASE WHEN o.status is NULL OR o.status = 0 THEN o.actual_income ELSE sum(CASE WHEN m.type = 1 THEN m.amount ELSE 0 END) END) &gt; 0 AND o.is_complete &lt;&gt; 1 AND length(o.status) = 1 AND o.status &lt;&gt; 0 AND o.status &lt;&gt; 4 AND o.status IS NOT NULL THEN 1 ELSE 0 END as is_refund, /* 是否显示退款按钮 */ CASE WHEN COUNT(m.id) &gt; 0 THEN 0 ELSE 1 END AS is_recede, /* 是否显示退回按钮(操作打回) */ CASE WHEN COUNT(m.id) &gt; 0 THEN 0 ELSE 1 END AS is_discard, /* 是否显示作废按钮(财务作废订单) */ CASE WHEN o.is_delivery = 2 THEN '不需要送签' ELSE (CASE WHEN o.delivery_user = 0 OR o.delivery_user is NULL THEN '未认领' ELSE '已认领' END) END AS delivery, /*显示送签员是否认领*/ CASE WHEN ms.outlay_status &gt; 0 THEN '请款待审核' ELSE '无请款审核项' END AS outlay_status, CASE WHEN ms.income_status &gt; 0 THEN '收款待审核' ELSE '无收款审核项' END AS income_status, CASE WHEN ms.refund_status &gt; 0 THEN '退款待审核' ELSE '无退款审核项' END AS refund_status, CAST(SUM(CASE WHEN m.type = 0 THEN m.amount ELSE 0 END) AS DECIMAL(10, 2)) AS actual_outlay, /*请款总金额*/ CAST(SUM(CASE WHEN m.type = 1 THEN m.amount ELSE 0 END) AS DECIMAL(10, 2)) AS actual_income, /*收款总金额*/ CAST(SUM(CASE WHEN m.type = 2 THEN m.amount ELSE 0 END) AS DECIMAL(10, 2)) AS actual_refund /*退款总金额*/ FROM yslx_erp.sys_order o LEFT JOIN yslx_erp.sys_outlay_income_money m ON o.id = m.order_id AND m.status = 1 LEFT JOIN (SELECT order_id, SUM(outlay_status) AS outlay_status, SUM(income_status) AS income_status, SUM(refund_status) AS refund_status FROM (SELECT m.order_id, CASE WHEN type = 0 THEN COUNT(1) END AS outlay_status, CASE WHEN type = 1 THEN COUNT(1) END AS income_status, CASE WHEN type = 2 THEN COUNT(1) END AS refund_status FROM yslx_erp.sys_outlay_income_money m WHERE m.status = 0 GROUP BY m.order_id, type) t GROUP BY t.order_id) ms ON ms.order_id = o.id LEFT JOIN (SELECT c.id, CASE WHEN c.outlay = 1 AND c.income = 1 AND c.refund = 1 AND c.delivery = 1 AND c.operator = 1 AND c.complete = 1 THEN 1 ELSE 0 END AS is_complete FROM (SELECT o.id, CASE WHEN o.is_delivery = 1 THEN (CASE WHEN o.delivery_user IS NOT NULL AND o.delivery_user &lt;&gt; 0 THEN 1 ELSE 0 END ) ELSE 1 END AS delivery, CASE WHEN o.is_operator = 1 THEN (CASE WHEN o.receive_user IS NOT NULL AND o.receive_user &lt;&gt; 0 THEN 1 ELSE 0 END ) ELSE 1 END AS operator, CASE WHEN oim.income &gt; 0 AND oim.unincome = 0 THEN 1 ELSE 0 END AS income, CASE WHEN oim.outlay &gt; 0 AND oim.unoutlay = 0 THEN 1 ELSE 0 END AS outlay, CASE WHEN oim.refund &gt;= 0 AND oim.unrefund = 0 THEN 1 ELSE 0 END AS refund, CASE WHEN oc.id IS NULL THEN 1 ELSE 0 END AS complete FROM yslx_erp.sys_order o LEFT JOIN (SELECT m.order_id, sum(CASE WHEN m.type = 1 AND m.status = 1 THEN 1 ELSE 0 END) income, sum(CASE WHEN m.type = 0 AND m.status = 1 THEN 1 ELSE 0 END) outlay, sum(CASE WHEN m.type = 2 AND m.status = 1 THEN 1 ELSE 0 END) refund, sum(CASE WHEN m.type = 1 AND m.status = 0 THEN 1 ELSE 0 END) unincome, sum(CASE WHEN m.type = 0 AND m.status = 0 THEN 1 ELSE 0 END) unoutlay, sum(CASE WHEN m.type = 2 AND m.status = 0 THEN 1 ELSE 0 END) unrefund FROM yslx_erp.sys_outlay_income_money m GROUP BY m.order_id) oim ON o.id = oim.order_id LEFT JOIN yslx_erp.sys_order_complete oc ON o.id = oc.order_id AND oc.status &lt;&gt; 2 ) c) t ON t.id = o.id GROUP BY o.id ORDER BY O.id ; 因为 CASE WHEN (CASE WHEN o.status is NULL OR o.status = 0 THEN o.actual_income ELSE sum(CASE WHEN m.type = 1 THEN m.amount ELSE 0 END) END) &gt; 0 AND o.is_complete &lt;&gt; 1 AND length(o.status) = 1 AND o.status &lt;&gt; 0 AND o.status &lt;&gt; 4 AND o.status IS NOT NULL THEN 1 ELSE 0 END as is_refund, /* 是否显示退款按钮 */ 中的 o.status 为字符型的, 但是我却用了数字型数据, 进行比较, 所以一直都插不进去. 实际上, MySQL是可以支持字符向数字转换的, 前提字符内容是数字, 问题是: o.status 这个字段, 存在非纯数字的数据存在. 事后总结时, 感慨要对每行代码心存敬畏啊…认真点儿吧, 少年…实际上我已不是年少 下面贴出正确的吧…. 12345678910111213141516171819202122232425262728293031323334INSERT INTO yslx_erp.sys_order_status( order_id, update_date, is_complete, is_refund, is_recede, is_discard, delivery, outlay_status, income_status, refund_status, actual_outlay, actual_income, actual_refund )SELECT o.id AS order_id, now() AS update_date, t.is_complete, /*是否显示完成按钮*/ CASE WHEN (CASE WHEN o.status is NULL OR o.status = '0' THEN o.actual_income ELSE sum(CASE WHEN m.type = 1 THEN m.amount ELSE 0 END) END) &gt; 0 AND o.is_complete &lt;&gt; 1 AND length(o.status) = 1 AND o.status &lt;&gt; '0' AND o.status &lt;&gt; '4' AND o.status IS NOT NULL THEN 1 ELSE 0 END as is_refund, /* 是否显示退款按钮 */ CASE WHEN COUNT(m.id) &gt; 0 THEN 0 ELSE 1 END AS is_recede, /* 是否显示退回按钮(操作打回) */ CASE WHEN COUNT(m.id) &gt; 0 THEN 0 ELSE 1 END AS is_discard, /* 是否显示作废按钮(财务作废订单) */ CASE WHEN o.is_delivery = 2 THEN '不需要送签' ELSE (CASE WHEN o.delivery_user = 0 OR o.delivery_user is NULL THEN '未认领' ELSE '已认领' END) END AS delivery, /*显示送签员是否认领*/ CASE WHEN ms.outlay_status &gt; 0 THEN '请款待审核' ELSE '无请款审核项' END AS outlay_status, CASE WHEN ms.income_status &gt; 0 THEN '收款待审核' ELSE '无收款审核项' END AS income_status, CASE WHEN ms.refund_status &gt; 0 THEN '退款待审核' ELSE '无退款审核项' END AS refund_status, CAST(SUM(CASE WHEN m.type = 0 THEN m.amount ELSE 0 END) AS DECIMAL(10, 2)) AS actual_outlay, /*请款总金额*/ CAST(SUM(CASE WHEN m.type = 1 THEN m.amount ELSE 0 END) AS DECIMAL(10, 2)) AS actual_income, /*收款总金额*/ CAST(SUM(CASE WHEN m.type = 2 THEN m.amount ELSE 0 END) AS DECIMAL(10, 2)) AS actual_refund /*退款总金额*/ FROM yslx_erp.sys_order o LEFT JOIN yslx_erp.sys_outlay_income_money m ON o.id = m.order_id AND m.status = 1 LEFT JOIN (SELECT order_id, SUM(outlay_status) AS outlay_status, SUM(income_status) AS income_status, SUM(refund_status) AS refund_status FROM (SELECT m.order_id, CASE WHEN type = 0 THEN COUNT(1) END AS outlay_status, CASE WHEN type = 1 THEN COUNT(1) END AS income_status, CASE WHEN type = 2 THEN COUNT(1) END AS refund_status FROM yslx_erp.sys_outlay_income_money m WHERE m.status = 0 GROUP BY m.order_id, type) t GROUP BY t.order_id) ms ON ms.order_id = o.id LEFT JOIN (SELECT c.id, CASE WHEN c.outlay = 1 AND c.income = 1 AND c.refund = 1 AND c.delivery = 1 AND c.operator = 1 AND c.complete = 1 THEN 1 ELSE 0 END AS is_complete FROM (SELECT o.id, CASE WHEN o.is_delivery = 1 THEN (CASE WHEN o.delivery_user IS NOT NULL AND o.delivery_user &lt;&gt; 0 THEN 1 ELSE 0 END ) ELSE 1 END AS delivery, CASE WHEN o.is_operator = 1 THEN (CASE WHEN o.receive_user IS NOT NULL AND o.receive_user &lt;&gt; 0 THEN 1 ELSE 0 END ) ELSE 1 END AS operator, CASE WHEN oim.income &gt; 0 AND oim.unincome = 0 THEN 1 ELSE 0 END AS income, CASE WHEN oim.outlay &gt; 0 AND oim.unoutlay = 0 THEN 1 ELSE 0 END AS outlay, CASE WHEN oim.refund &gt;= 0 AND oim.unrefund = 0 THEN 1 ELSE 0 END AS refund, CASE WHEN oc.id IS NULL THEN 1 ELSE 0 END AS complete FROM yslx_erp.sys_order o LEFT JOIN (SELECT m.order_id, sum(CASE WHEN m.type = 1 AND m.status = 1 THEN 1 ELSE 0 END) income, sum(CASE WHEN m.type = 0 AND m.status = 1 THEN 1 ELSE 0 END) outlay, sum(CASE WHEN m.type = 2 AND m.status = 1 THEN 1 ELSE 0 END) refund, sum(CASE WHEN m.type = 1 AND m.status = 0 THEN 1 ELSE 0 END) unincome, sum(CASE WHEN m.type = 0 AND m.status = 0 THEN 1 ELSE 0 END) unoutlay, sum(CASE WHEN m.type = 2 AND m.status = 0 THEN 1 ELSE 0 END) unrefund FROM yslx_erp.sys_outlay_income_money m GROUP BY m.order_id) oim ON o.id = oim.order_id LEFT JOIN yslx_erp.sys_order_complete oc ON o.id = oc.order_id AND oc.status &lt;&gt; 2 ) c) t ON t.id = o.id GROUP BY o.id ORDER BY O.id ;]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux两台服务器间复制文件]]></title>
    <url>%2F2018%2F10%2F18%2Fnode%2Flinux%2Fnode-linux_11%2F</url>
    <content type="text"><![CDATA[Linux两台服务器间复制文件 复制目录scp -r &lt;复制目录&gt; &lt;目标服务器用户名&gt;@&lt;目标服务器IP地址&gt;:&lt;目标服务器文件目录&gt; 复制文件scp &lt;复制文件&gt; &lt;目标服务器用户名&gt;@&lt;目标服务器IP地址&gt;:&lt;目标服务器文件目录&gt;]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux用Shell登录MySQL]]></title>
    <url>%2F2018%2F10%2F16%2Fnode%2Flinux%2Fnode-linux_09%2F</url>
    <content type="text"><![CDATA[Linux用命令登录MySQL mysql -P 3306 -h yes517-erp.mysql.rds.aliyuncs.com -u yes517_erp -p 输入密码:]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[香山之旅]]></title>
    <url>%2F2018%2F10%2F13%2Fdiary%2Fdiary_0006%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一些无人可说的话]]></title>
    <url>%2F2018%2F10%2F13%2Fdiary%2Fdiary_0007%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 下安装Redis]]></title>
    <url>%2F2018%2F10%2F12%2Fnode%2Flinux%2Fnode-linux_08%2F</url>
    <content type="text"><![CDATA[在CentOS7.3下, 安装 Redis 3.2.9 下载Redis wget http://download.redis.io/releases/redis-3.2.9.tar.gz 解压Redis tar -zxvf redis-3.2.9.tar.gz 进入目录, 进行编译测试 cd redis-3.2.9make test 安装到指定目录 make PREFIX=/usr/local/redis install 复制配置文件到安装目录下 cp redis.conf /usr/local/redis/bin 查看目录下的文件列表123456789101112[root@jstu7y7f2y8et7 ~]# cd /usr/local/redis/bin/[root@jstu7y7f2y8et7 bin]# lltotal 15160-rw-r--r-- 1 root root 76 Oct 12 10:27 dump.rdb-rwxr-xr-x 1 root root 2431824 Oct 11 18:01 redis-benchmark-rwxr-xr-x 1 root root 25168 Oct 11 18:01 redis-check-aof-rwxr-xr-x 1 root root 5181840 Oct 11 18:01 redis-check-rdb-rwxr-xr-x 1 root root 2584848 Oct 11 18:01 redis-cli-rw-r--r-- 1 root root 46753 Apr 23 16:09 redis.conf-rw-r--r-- 1 root root 46696 Oct 12 10:29 redis.conf.baklrwxrwxrwx 1 root root 12 Oct 11 18:01 redis-sentinel -&gt; redis-server-rwxr-xr-x 1 root root 5181840 Oct 11 18:01 redis-server redis-benchmark redis性能测试工具redis-check-aof AOF文件修复工具redis-check-rdb RDB文件修复工具redis-cli redis命令行客户端redis.conf redis配置文件redis-sentinal redis集群管理工具redis-server redis服务进程 配置启动方式 vim /usr/local/redis/bin/redis.conf修改 daemonize no –&gt; daemonize yes 启动服务 /usr/local/redis/bin/redis-server /usr/local/redis/bin/redis.conf 使用 redis-cli 测试123456789[root@jstu7y7f2y8et7 ~]# redis-cli127.0.0.1:6379&gt; set test aaaa(error) NOAUTH Authentication required.127.0.0.1:6379&gt; auth 123456OK127.0.0.1:6379&gt; set test kkkkOK127.0.0.1:6379&gt; get test&quot;kkkk&quot; auth 输入密码, 进行授权登录]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一些惆怅]]></title>
    <url>%2F2018%2F10%2F11%2Fdiary%2Fdiary_0005%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX1+3x3FtNchu1GPd06GZR/nN5GxRP6dMPtKO6K5Ce2D5JF4iPf5vxcMv3NDzkrf+cvgmDNTYpYo4H5xFHOtAyljuYIWODiAGG7JcDhNk0qeAeTA4W9UT+voYJLD4hXX/ztsMYr+eDX9VQ0voE7vJkUHYI0aP7PnGcuhqJaZb0fe0/QoM6/8VEevxE5mwlijjcOjq3d1otLoMKV4P+nH/ZSV296hULd3xrh70uvxtjy83Gl0WAU+DP4XF3buyaBwwmTysvgIz91Ez7Pc4MadOrfPIArxuxNCOJ5JnQO6NnsTdT0nNocbin7i91bxAmQO9YbCGQWx0DosVEbwFuIzr4FZFmfIVKw7xLgiDicMZJAiiCwrPHb4BoNApqQvyvTu3xVxRo0I112Prv5aU2S4jB03iZJaLP4vrKPIqsQlvcgokJdGQXawYAjNx25J9uN/4Jrn/SkR8xtVnG2EW67OadIp4y/bYMx2IVMKe6ZLiQwM3U9f8VIFbfHBlxuxkSWzWQ03SbhFqKIKKBuKOVlTHyA/gs6iLuwuxcwFXj6a7Njt3kFoDZq/odQZRh/meL8FqPmlbTfANZ5KMKitf8GqsBf1OkCC0NadaAjcgcE5w/rbYtru9YlRZaOdU3MUXhuYZdDcdua39P+DN0w==]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[自定义命令与命令别名]]></title>
    <url>%2F2018%2F10%2F11%2Fnode%2Flinux%2Fnode-linux_07%2F</url>
    <content type="text"><![CDATA[源于我想知道Docker当前运行的容器的IP 首先获取Docker容器IP的命令1sudo docker inspect --format '&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;' 1f7d8f36523c 方法的扩展在 ~/.bashrc 中写一个 bash 函数： 123function docker_ip() &#123; sudo docker inspect --format '&#123;&#123; .NetworkSettings.IPAddress &#125;&#125;' $1&#125; source ~/.bashrc 生效, 然后: docker_ip 1f7d8f36523c 由此之后, 继续的想象因为在Linux下用命令时查看文件列表时用习惯了ll, 换到MacOS后, 却没有ll命令. 经此法, 想试试, 又是好一番寻觅. 编辑 .bash_profile 文件： 1vim ~/.bash_profile 若没有该文件请手动创建。 添加内容 12alias ll='ls -la'alias vi='vim' 立即生效source ~/.bash_profile]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
        <tag>MacOS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用 tar 压缩与解压]]></title>
    <url>%2F2018%2F10%2F11%2Fnode%2Flinux%2Fnode-linux_06%2F</url>
    <content type="text"><![CDATA[Linux 下使用 tar 压缩与解压 解包：tar zxvf FileName.tar打包：tar czvf FileName.tar DirName0\ DirName2\]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot JPA 执行原生 SQL]]></title>
    <url>%2F2018%2F10%2F05%2Farticle%2FSpringBoot%2Farticle-spring-boot_16%2F</url>
    <content type="text"><![CDATA[SpringBoot JPA 执行原生SQL 123456789101112131415161718192021222324252627282930313233343536373839404142package com.yes517.www.dao;import com.yes517.www.entity.OrderSync;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Query;import java.util.List;/** * 订单同步数据库访问接口 */public interface OrderSyncDao extends JpaRepository&lt;OrderSync, Integer&gt; &#123; /** * 获取最后一次同步的记录 * @return */ @Query(value = "SELECT * FROM yslx_erp_order.order_sync ORDER BY id DESC LIMIT 1",nativeQuery=true) OrderSync getLast(); /** * 根据OrderId,获取同步记录 * @return */ @Query(value = "SELECT * FROM yslx_erp_order.order_sync WHERE order_id = ?1",nativeQuery=true) OrderSync getOrderSync(String orderId); /** * 根据OrderId,获取同步记录 * @return */ @Query(value = "SELECT * FROM yslx_erp_order.order_sync WHERE batch_no = ?1",nativeQuery=true) List&lt;OrderSync&gt; getOrderIDsByBatchNo(String batchNo); /** * 根据OrderId,获取同步记录 * @return */ @Query(value = "SELECT COUNT(1) AS COUNT FROM yslx_erp_order.order_sync WHERE status = 0 AND batch_no = ?1",nativeQuery=true) Integer getSyncStatusByBatchNo(String batchNo);&#125; nativeQuery=true 原生SQL ?1 参数]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>JPA</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Jackson Date Format]]></title>
    <url>%2F2018%2F10%2F05%2Farticle%2FSpringBoot%2Farticle-spring-boot_15%2F</url>
    <content type="text"><![CDATA[SpringBoot 中 @ResponseBody 响应JSON时, 对时间类型的格式化 在配置文件中, 添加 jackson 的配置: 123456spring: application: name: orders-sync jackson: date-format: yyyy-MM-dd HH:mm:ss time-zone: GMT+8]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Jackson</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 过滤器中统一处理错误信息]]></title>
    <url>%2F2018%2F10%2F05%2Farticle%2FSpringBoot%2Farticle-spring-boot_14%2F</url>
    <content type="text"><![CDATA[在SpringBoot中, 使用@ControllerAdvice处理Exception时, 过滤器因为尚未进入 @Controller 所以无法触发 @ExceptionHandler. 所以需要在过滤器中特殊处理 过滤器123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168package com.yes517.www.filter;import com.yes517.www.common.Constants;import com.yes517.www.utils.DateUtils;import com.yes517.www.utils.rsa.RSAUtils;import com.yes517.www.utils.rsa.SummaryBuilder;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.context.annotation.Configuration;import org.springframework.core.annotation.Order;import org.springframework.util.StringUtils;import javax.servlet.*;import javax.servlet.annotation.WebFilter;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.io.IOException;import java.text.ParseException;import java.util.*;@Slf4j@Configuration@WebFilter(urlPatterns="/*")@Order(value = 1)public class GlobalFilter implements Filter &#123; private static final Set&lt;String&gt; ALLOWED_PATHS = Collections.unmodifiableSet(new HashSet&lt;&gt;(Arrays.asList("/erp/error"))); @Autowired Constants constants; @Override public void init(FilterConfig filterConfig) throws ServletException &#123; log.info("初始化过滤器..."); &#125; @Override public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException &#123; log.info("进入过滤器..."); boolean flag = true; StringBuilder prompt = new StringBuilder(); // 响应错误提示容器 HttpServletRequest request = (HttpServletRequest) req; HttpServletResponse response = (HttpServletResponse) res; String path = request.getRequestURI().substring(request.getContextPath().length()).replaceAll("[/]+$", ""); boolean allowedPath = ALLOWED_PATHS.contains(path); if (allowedPath) &#123; log.info("错误处理ing..."); chain.doFilter(req, res); &#125; else &#123; log.info("正在验证公共参数..."); String date = request.getHeader("Date"); if (StringUtils.isEmpty(date)) &#123; prompt.append("缺少公共参数[Date], "); flag = false; log.error("缺少公共参数[Date]"); &#125; else &#123; log.info("公共参数Date: &#123;&#125;", date); try &#123; Long l = DateUtils.stringToDateByGMT(date).getTime(); log.info("请求时间: &#123;&#125;", DateUtils.longToString(l, DateUtils.DATETIME)); Long diff = new Date().getTime() - l; if (diff &gt; 0 &amp;&amp; diff &lt;= (10 * 60 * 1000)) &#123; // 验证请求是否超时 log.info("Date 验证通过..."); &#125; else &#123; prompt.append("请求超时, "); flag = false; log.error("请求时间与当前时间相差超过10分钟"); &#125; &#125; catch (ParseException e) &#123; prompt.append("公共参数[Date]格式不正确(eg: Tue, 18 Sep 2018 00:47:39 GMT), "); flag = false; log.error("公共参数[Date]格式不正确..."); &#125; &#125; String accessKey = request.getHeader("AccessKey"); if (StringUtils.isEmpty(accessKey)) &#123; prompt.append("缺少公共参数[AccessKey], "); flag = false; log.error("缺少公共参数[AccessKey]"); &#125; else &#123; if (accessKey.equals(constants.getAccessKey())) &#123; log.info("AccessKey 验证通过..."); &#125; else &#123; prompt.append("公共参数 [AccessKey] 验证失败, "); flag = false; log.error("公共参数 [AccessKey] 验证失败 &#123;&#125;", accessKey); &#125; &#125; String method = request.getHeader("Method"); if (StringUtils.isEmpty(method)) &#123; prompt.append("缺少公共参数[Method], "); flag = false; log.error("缺少公共参数[Method]"); &#125; else &#123; String[] methods = constants.getMethods(); if (methods.length &gt; 0) &#123; if (Arrays.asList(methods).contains(method)) &#123; log.info("Method 验证通过..."); &#125; else &#123; prompt.append("公共参数 [Method] 验证失败, "); flag = false; log.error("公共参数 [Method] 验证失败 &#123;&#125;", method); &#125; &#125; else &#123; prompt.append("系统管理员尚未维护基础数据, 暂时不能进行访问, "); flag = false; log.error("尚未维护可访问的方法名, 不能进行访问"); &#125; &#125; String signature = request.getHeader("Signature"); if (StringUtils.isEmpty(signature)) &#123; prompt.append("缺少公共参数[Signature], "); flag = false; log.error("缺少公共参数[Signature]"); &#125; else &#123; log.info("传入的签名: &#123;&#125;", signature); // 根据参数, 生成摘要 SummaryBuilder summary = new SummaryBuilder(); summary.put("Date", date); summary.put("AccessKey", accessKey); summary.put("Method", method); for (String key: request.getParameterMap().keySet()) &#123; summary.put(key, request.getParameterMap().get(key)[0]); &#125; // 生成签名 try &#123; String s = RSAUtils.encrypt(constants.getSecretKey(), summary.builder()); log.info("生成的签名: &#123;&#125;", s); if (signature.equals(s)) &#123; log.info("Signature 验证通过..."); &#125; else &#123; prompt.append("公共参数 [Signature] 验证失败, "); flag = false; log.error("公共参数 [Signature] 验证失败 &#123;&#125;", signature); &#125; &#125; catch (Exception e) &#123; prompt.append("生成签名失败[").append(e.getMessage()).append("], "); flag = false; log.error("生成签名失败[&#123;&#125;]", e.getMessage()); &#125; &#125; if (flag) &#123; // 公共参数验证通过 log.info("公共参数验证通过..."); chain.doFilter(req, res); &#125; else &#123; // 跳转错误处理 String data = prompt.substring(0, prompt.length() - 2); req.setAttribute("code", 203); req.setAttribute("message", "公共参数验证失败"); req.setAttribute("data", data); req.getRequestDispatcher("/erp/error").forward(req, res); &#125; &#125; &#125; @Override public void destroy() &#123; log.info("过滤器被销毁..."); &#125;&#125; ALLOWED_PATHS 不过滤的路径. req.getRequestDispatcher(&quot;/erp/error&quot;).forward(req, res); 请求转发到Error处理逻辑 Error 处理逻辑12345678910111213141516171819202122232425262728293031323334353637package com.yes517.www.web;import lombok.extern.slf4j.Slf4j;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.util.HashMap;import java.util.Map;@Slf4j@Controllerpublic class ErrorController &#123; @RequestMapping(value = &#123;"/erp/error"&#125;, method = RequestMethod.GET) @ResponseBody public Map&lt;String, Object&gt; receive(HttpServletRequest request, HttpServletResponse response) &#123; log.info("处理失败信息..."); Map&lt;String, Object&gt; result = new HashMap&lt;&gt;(); Integer code = Integer.valueOf(request.getAttribute("code").toString()); String message = request.getAttribute("message").toString(); String data = request.getAttribute("data").toString(); log.info("Error Code: &#123;&#125;", code); log.info("Error Message: &#123;&#125;", message); log.info("Error Data: &#123;&#125;", data); response.setStatus(code); result.put("code", code); result.put("message", message); result.put("data", data); return result; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[退房]]></title>
    <url>%2F2018%2F09%2F17%2Fdiary%2Fdiary_0004%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX1823BgZldiGqQJqewyvwY6RFCh+r1/LFW6GJ+EfV87M1FJlVnMHCd8O9oflNbbxHDQojaWo6az4FkQ7qcuLKJ/fSYNnYSz8w/fMn7kecGi5q3enZB2LqN7ANcnEs8wzgfEZp2CCh1xY4+uSdLboDioT/Fr7FnwCadru8lVPSBAOwpohvwjUHyM6tOkISQIdMdE4gqZI3NTxSJ298HUJnnRrffVlUSWah5au2MR6tFe8XQXgjk296qygaMrCGpWElGU0GA56BbuXU+DWIBvneEpTt0W5P52qV4+L7f+1l1v3fDi8juVTEvmyJKj9E2262CrVvppBqjh8/O1VoZPdRXMPhPwZNR8TCghhZeoTWiFM93Fn890zWwxm7UxYJfwNzavmJyyefQH/x1tjSMvkDEK7ABj2AQwRA4sLLpH91HYaXmw7SrqtXkJUwlk0LigLbsn0PMHQ4GqC4va679NB/RYVPzUkYc0xGllxw/g2Ul5x5xfGdJkOZWTWE2AHc51B5rkrAu5b+4ZZucpsIswWytUzBVZQQN7xqi6bRMcuBXMRh0Niw9esEf5EzvdwKfOv+Lk2AgFkxACv7h5lHkHIArJp2v7/j0ebZXHKgl4oqt6yvVUgV9feipw8LHgfdW52qqZNe71ffgT9m6zjaFd/sVuyvQUlY6jkInVnPyx/DBPnkahWGnxIRlGC/N3DJJJ/sMvnk8sMgVhFdz8kc7T5GGFmcU6KBIARca8=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[当 Gson 遇到字段不匹配]]></title>
    <url>%2F2018%2F09%2F17%2Fnode%2Fjava%2Fnode-j2se_06%2F</url>
    <content type="text"><![CDATA[最近项目里需要对接淘宝API, 淘宝API的返回结果(json), 与我们项目中定义Bean字段不符. 那就看看Gson 是怎么优雅的解决这个问题的吧. JSON12345678910&#123; "contactor": &#123; "name": "陈***轩", "phone": "1391071****", "post_address": "(北京)(北京市)(海淀区)(**园*街道 北三环中路**号**号楼7**号)(13910717799)(陈轩)", "post_area": "海淀区", "post_city": "北京市", "post_province": "北京" &#125;&#125; Bean123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118import java.io.Serializable;import java.util.Date;/** * 联系人信息 */public class ContactorInfo implements Serializable &#123; private static final long serialVersionUID = 1L; private Integer id; /** * 订单号 */ private String orderId; /** * 创建日期 */ private Date createDate; /** * 姓名 */ private String name; /** * 姓名-拼音 */ private String namePinyin; /** * 性别。0-男，1-女 */ private String sex; /** * 出生日期 */ private Date birthday; /** * 国籍 */ private String nationality; /** * 姓（拼音） */ private String surnamePinyin; /** * 名（拼音） */ private String givenNamePinyin; /** * 手机号 */ private String phone; /** * 邮箱 */ private String email; /** * 证件号 */ private String credentialNo; /** * 证件类型 */ private String credentialType; /** * 证件签发国 */ private String issueCountry; /** * 证件签发地 */ private String issuePlace; /** * 证件有效期 */ private String validDate; /** * 收件省 */ private String postProvince; /** * 收件市 */ private String postCity; /** * 收件区 */ private String postArea; /** * 具体收件地址 */ private String postAddress; /** * 个性化信息 */ private String extendAttributes; &#125; 解决方案一:在要转换的字段上, 添加@SerializedName注解. 比如:12345/** * 具体收件地址 */@SerializedName("post_address")private String postAddress; 这种方式, 适用于 只是个别需要转换的情况 解决方案二:如上的例子中, 所有都的Java字段, 都采用驼峰命名, 而JSON却都是用下划线分割的. 这种有规律的就用 FieldNamingPolicy. 比如:1Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create(); Gson提供的枚举类FieldNamingPolicy，该枚举类提供了5种实现方式分别为： FieldNamingPolicy 结果 IDENTITY {“emailAddress”:”yuchen352416@163.com”} LOWER_CASE_WITH_DASHES {“email-address”:”yuchen352416@163.com”} LOWER_CASE_WITH_UNDERSCORES {“email_address”:”yuchen352416@163.com”} UPPER_CAMEL_CASE {“EmailAddress”:”yuchen352416@163.com”} UPPER_CAMEL_CASE_WITH_SPACES {“Email Address”:”yuchen352416@163.com”}]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Gson</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一道常见的面试题]]></title>
    <url>%2F2018%2F09%2F14%2Fnode%2Fjava%2Fnode-j2se_05%2F</url>
    <content type="text"><![CDATA[今天在师兄弟的群里面看到一师弟, 在问面试时, 常常会问到的一题 题目12345678910@Testpublic void test() &#123; Integer a1 = 128; Integer a2 = 128; log.info("&#123;&#125;", a1 == a2); // false Integer b1 = 127; Integer b2 = 127; log.info("&#123;&#125;", b1 == b2); // true&#125; 解释1234567891011121314151617181920/** * Returns an &#123;@code Integer&#125; instance representing the specified * &#123;@code int&#125; value. If a new &#123;@code Integer&#125; instance is not * required, this method should generally be used in preference to * the constructor &#123;@link #Integer(int)&#125;, as this method is likely * to yield significantly better space and time performance by * caching frequently requested values. * * This method will always cache values in the range -128 to 127, * inclusive, and may cache other values outside of this range. * * @param i an &#123;@code int&#125; value. * @return an &#123;@code Integer&#125; instance representing &#123;@code i&#125;. * @since 1.5 */public static Integer valueOf(int i) &#123; if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) return IntegerCache.cache[i + (-IntegerCache.low)]; return new Integer(i);&#125; high 可以使用系统属性将值配置为其他值, 默认却是 127 -Djava.lang.Integer.IntegerCache.high = 999 因为比较的是封装类型, 所以 == 比较的是两个对象的引用. b1 与 b2 因为满足 (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) 条件, 所以对象的引用相同的. a1与a2 不满足 (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high) 条件, 所以对象是新产生的, 引用不同.]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Interview</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 日志输出]]></title>
    <url>%2F2018%2F09%2F13%2Farticle%2FSpringBoot%2Farticle-spring-boot_13%2F</url>
    <content type="text"><![CDATA[在SpringBoot中使用日志输出 pom.xml中引入jar包依赖12345&lt;!-- 日志依赖 --&gt;&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt;&lt;/dependency&gt; 给IDEA安装lombok插件安装lombok插件,idea-&gt;file-&gt;seetings-&gt;puugins-&gt;选择Lombok Plugin即可 配置 application.yml12345logging: level: org.springframework.web: INFO com.yes517.www.*: INFO org.hibernate: INFO 例子1234567891011121314151617181920212223242526272829303132333435import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import java.util.HashMap;import java.util.Map;@Slf4j@Controllerpublic class WelcomeController &#123; @Autowired Constants constants; @Autowired SessionKey sessionKey; @RequestMapping(value = &#123;"/get"&#125;) @ResponseBody public Object get(ModelMap m) &#123; log.info(sessionKey.getUrl()); Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); map.put("key", constants.getAppKey()); map.put("url", constants.getUrl()); map.put("secret", constants.getAppSecret()); map.put("session", sessionKey.getKey()); return map; &#125;&#125; 使用 @Slf4j 注解后, 在代码里, 就可以直接使用 log对象了]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Slf4j</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[忽然不会写删除语句了]]></title>
    <url>%2F2018%2F09%2F12%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_03%2F</url>
    <content type="text"><![CDATA[今天改了个Bug, 要删除历史数据 写个删除语句1234567DELETE FROM yslx_erp.sys_order_complete WHERE id IN ( SELECT max(id) FROM yslx_erp.sys_order_complete GROUP BY order_id HAVING count(1) &gt; 1); 提示: [HY000][1093] You can’t specify target table ‘sys_order_complete’ for update in FROM clause 记得原来在Oracle中, 写删除时, 这样是可以的呀…. 一脸蒙逼啊….去查了一下,原因MySQL 把查询子句一定要是临时表，不可以是实体表. 修改1234DELETE FROM yslx_erp.sys_order_complete WHERE id IN ( SELECT id FROM (SELECT max(id) as id FROM yslx_erp.sys_order_complete GROUP BY order_id HAVING count(1) &gt; 1) t);COMMIT ;]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[值得思考的一些东西]]></title>
    <url>%2F2018%2F09%2F07%2Fdiary%2Fdiary_0003%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX182KMdco6jKiGMejz2dh/jCclfYW3lsTc3lIX7X5X8swBVNFql0ZcA5dw/aNIydID1w0r6QrwwBk/wIwBesc1yNpPeOL0GAngyzUfrU9/NYDWp7hgSLo/adO4K1X6W6V3v72z7e6Zy7WB+EuImuft4T+QubmWCwhd5DvN7KPi1wtolcKxnrfxmuRakYaXfafSmf3cFuvJhudb2PA+jq3Brh7CyyW9/uKhGV0JJupiknnJj9wgNBXhKvJNc4yFeAkGuHVk/rPKRkSKfxO4CfbhJxfChuNOPczACFsK41j/8814bIK91u52gzizs2kJupMcPRKDGQ6O5i8WDHqUkx4tM6IVb8tgXXfzWo03NnrGX/YBfT207aoKEuN523HOakjyqf/bd3tNqQzuATxsgWKxeEDAPrV76MCNL+cE03bUdQhcsmPYpiCDazvreW03zqAWVUTIKrKR8QpZH6OIbqp4pbMwUWMBOLxVbEd6EQLdMojIqEihsar4gIiQQ/3bLeB4z2BReXenQeBrSakHJGA07qwDM/Q0uGIfYAVyJuBVUhsF68EDZQsrBr4SVJjNVanIruVoC0u7ULHUhQlgwH15btvgJCAAmSCXuq6mTdxuvI6LhvcmxlGyjcLtU36A+NQKmnkX2IPc8OUZGDnuDWkyuRR8Q9HdHYrEwXXzPT7DCdM/wZf9s0i5Ppq5jUr0dC/Y/jEU2DJmKRuRa+BhKAyqhbwaF0CdOxcKgxXzCesQvDKCsdHtzkq4Sg1Pdt4zO0T3O7VjFBMmuh9RXL/Gv+H4HVENUmjXno48MrNayOvuX3KFoxNjm43JLuM5XsCowN6SHaqhjNp3pvf4zfNsoU1n5NflAiJqYC4aSGU5Kwja0eenq7cxpx/5BBSAYIeF5KOF4VrTwJpf3icDFYsVv6jL/aMo2cfoiZ1an1J+DsoBSyB8t85oKvjQ4T6cI5zbF5gSby+kVeSpqnOjbZrqaVEiLPBqacntPuTdc0U0MeiT7lPzEYhNvb7hl6WCtG7gHTHkyzZqmnvU95OXyGxCwYPMHqgRx+w/MldkjprX02hip233ZFZjGMZLrz2H0SoJZS4CFWl/mLfpmyLEN4gkUqtvww+IGTp5AnvZ2R2gBR+VDr5QlkM8afAeTfBj9a/kCuBo45IfFfm3pQuY/1oaW5CmVLR5wdVXeD1w1HXixy9d2wJNHhRCmB4DkJVkInT7A7Fq8WBnFs/c2DClTuCINDY51chcsauYZMjb9pK+mfmlGi81lgoaokzXC/yN0eECuCaVkTQvigLZlGNz5xrH41eAm2V2b2DAIakcZGzDkFxcMTt9HOlX/58qP2ntD7b6V9Dqy8CWZukJq1uERefNyu0H/vS2ctV70IkujB2wZGR6Wbw6Ba8I75LED5gRz9syhE4MVXeylu7ZCL0v7jx6aARVvprkmJdUrOqG6Yeh7aXNsmW0lh+AztBTy84ZhiSOAWT5OlHFe9j2V8eC7rYwv4SFE71shMyM141pY=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitHub 提交不显示提交记录的解决方法]]></title>
    <url>%2F2018%2F09%2F07%2Fnode%2Fnode-git_02%2F</url>
    <content type="text"><![CDATA[GitHub 提交不显示提交记录的解决方法 电脑重装之后，提交代码到GitHub上之后，发现Contribute却没有记录，查看项目确实提交上去了。查资料发现是Git配置的原因。 配置 邮箱地址 git config --global user.email &quot;yuchen352416@163.com&quot; 配置 用户名 git config --global user.name &quot;Selfimpr&quot; 这样再提交代码时，就可以看到记录了。 还有一些常用配置：https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一次SQL调优的经历]]></title>
    <url>%2F2018%2F09%2F07%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_02%2F</url>
    <content type="text"><![CDATA[系统随着数据量的增长, 变得越来越慢. 慢到了不能忍受的地步, 故有了这次调优. 查找问题点 从日志里拿出SQL, 执行了一下 10.8s.有点惊呆 开始端详SQL… 将SQL拆开, 一部分一部分的执行. 找到慢的点 影响速度是是一个判断订单状态的子SQL. 执行耗时竟然占用了 7.8s. 处理慢SQL先创建关联条件的联合索引, 试试水. 从 7.8s 减到了 6.3s 又创建了判断条件的联合索引, 这次减到 0.24s. 大喜…. 整体执行 0.37s 创建索引1create index 索引名 on 表名(字段名,字段名);]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IDEA 的一些快捷键]]></title>
    <url>%2F2018%2F09%2F06%2Fnode%2Fjava%2Fnode-j2se_04%2F</url>
    <content type="text"><![CDATA[IDEA 常用的一些快捷键 IDEA 查看类里方法Command + F12 IDEA 打开系统内的命令行Option + F12 IDEA 查看类的继承结构Control + H IDEA 控制台字体Preferences-&gt;Editor-&gt;Colors Scheme-&gt;Console Font]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tools</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[看刘若英的电影——《后来的我们》]]></title>
    <url>%2F2018%2F09%2F06%2Fdiary%2Fdiary_0002%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt U2FsdGVkX19Te5BYkdM1x6PQ3jaUcHf3xVpiFnVDW4VYmBUPUdspKjkuRZQMD9rE5TSuMBR/1DTk4eCfzVlQ6m2VQPSl/Pp+O8On7HObziB3aZbPqFyUIdDYHUOZ3UTIKRW9in6scDQvZEeMNmrsCK4qMoyg1p4xkADzjcNf7Xy+zwAbo2Hj7UvPUsV5aUJ/Q6TQyrEKkFEiZOlNVTGlITS3Ev+DosK34RopApKp/KpJWYXo5wHodoN0dPzlOSMa/Lo8PiwVsL5usjKvyfOM4Rv27eobURlPKsXna1X1BQSnUSnZj8bRoA7CVAgMtG3R8FGpGaittjNt3OKKq+xNeHpqLLGMbAK2fDS+cCfaBZUBStzTnzpbrcsau5++R4+WErXu9ikrcX1qBLyqDVLXHJUYRAV1Aa5UMkJZpxbOv1gO1DZtYa7FM/Z+qKkQxc/z10gSZ/41AP3IPLVFh6kGYoCB5ZD5r+cCeObhEpd7PvIMf2+BTvXrfMZCSyppp/m5Q0/Q0s8SShys6MxQlUcge7jAL2RRaJDngRqVSAeqXh4UUP8LXK+LvFl9WyS52JP0N9zQp4eK+5lnzX3ckJ1jI/aPbjLwwfi1/9yuX252YN2WvZIkFmQC73szOsqGnSkw5NcyWOwmiXF+9x+i2HF7dvbIrIm+02G0LUDSwg3HftllgA4mz15YIsD73JL6DJpb3UJZhJHZI6sM62cm3ZXkDjtU+sIssJJBycl8lhvm4oJ/DjOJkoQPdgs/qykUOX1O4A2CvsOhvsQw8qpqYoBBFktsi2z66PfKVht4vk4cYzhKKmu+wSFx5U2qwbZiC5nK6IQLKmoauCcU6vJCCPyGdiuXo1ecFIeXkjKBWvh1cJTIgKfRTAjn4QXjiqcECBnTW2POa1IeNeYdVAjSNLDCdETP6n8nuP6X5Fsx8vlZcj4osnsTFePNlYOqL9PB+xdRDDfOxlCMtoAcKUI2oV+5Ju5HUBGEvOmTbwFn5T63cUvqZOmquMv0ppM8UFqmySj6zLy/jL6PW3IS+ZWpQ2MAaypFEH1abwOjfimr462KHWzThgniiY2kcWq/JZmW2Y8FFRmi5TAWyVIhNwv8aHM1CCL5trpIObZUR1JtJNmywhOzfz62zC2a5z9+VI7PkCPzQFWGAWBnGbBPq6KotnxOpeApZSLaBcwEPKFZQZdT2GBONYx5RbyC9GB2qXXXXMadeVXuLhGfNL/YgabJ7ndhx4AXS7jm9DTCbVnyKgu++4RmmyfBF8XDapyFkTjLS6ILmLwGHmK/WGHo1G0ZSijYBOh+Qy3Ut1uT8a3ENxUo3e4/LMz+U3E6RkgyhuIe0Pm2FYT1Mgw5zQo8P0ZlF660f78ORr7lyGtGnmC0B5n/Sjn03trYOLO09Ye2qQklAfLR9//Jd4tFtZro8svZqE2GM3GMG7hPZFklNv3npN8OGJX1u5Qoy/vJg7xJQl7B7mst9FRh1UhUQSkI2nUNcDXMnZVPklJCMIwvBKV4EQul06o3IasGsUqI2Dc0G3m6KdTLwr36lQDxKPFT50vSD8rgv7fYvQm/57u755g04WcenkqslfDXefsVeXUty3N/n+0vXXzS8NcB4e/gdkZUAObB4lQgF4zBIY5oWyx2FhrR6VskifC5E0e1+cDUji3lW7QXnEbmUxc8JH+kFUcFW3/P287vlC4shc+E0IdjYXdREl3eS/1SNPFdHoD+t3Qp7y3N3Es1FwVZN3lxEZPLfVSdBWxkmHQli+jFCgf67WEJMDqm6fVD4YftOpxbblOHp/fZj32WmnHZxM5Q/tbJdctgMadnbO02ogCwNeWWkWC+ftMgdKf2Fe7P/rND2FFJsrPCVIOjN6zHXREn+drpl199BCYT01crTt9IwqT8jyqr0xf+wiON9POUjaIJYIdNU1PZXK99z1MrSgY6Ho91SjxJJIN+WWlgpSP61Jjh9D6DJWTZwSOc0ENBw2GZgp04l7O74DpyMBtc5UwZgkgBBvQwETUoxDLUTUp4gyaMMlHYQbbjgWiKdp5XKONagW9uzqiRuYQURe+Qn/f5RgDD3kvP8BQY3u2cUtWdE6JtRf9BCGfzv1dhxYIyX6MN+4jyu8pDpcDfjYqibsKkN7dZO7wdlFYTqkD6xB5gF4b3EigVNrJ/ivB0FCeSBaYI3neJUQJYDJYzgi/p504tBk3d3emEthX8T2+F66/AJnLH3I6DmOzilUZSPsUu536EZ81+y3xE2cqK+MVbDMA9u5+dWxfSHAO7kG5hba6uibl8WxdNXYOQmDLjLeY1Ql2Exxz+ZDIdw3vMEmJC+dVoHuOFoiiFgPxT5hRKX/1odAu8B+fI0zqAL/Pw1nx0rvLIAsJPZjpWoM63RhYRMDh7zKHFwpPkfeXIHq5WdXc4wxjnQarwQRO/rwmf+H+6LaRnOqmwOdZyVqSZ937yKjwhyewryN6HGnBQ1EyWp55Hb+M51jMNcMxEFvty00ie5BK6dZV4qTb5kV8urmiPBdEJxG0qETwxeaYkzrCQvG5PXO6FqA75DwahHPbW9fNuu1RIcygn1MsFsm+YX7AfMiyEHi1sowb0xy17la+l/n8nGaLLBB4w3FWOMg1Fx+pARtaPZ+mwjqLimtVlqDA5y+HqThf8Fb/3kM213j2kKjXEHY+iknlQjryqyb8BEGsi11AHktKY4CwPiV+qDrvR01tz/0P7/kbYZoJtrKcRwZKpSsX8Z2jIRv3I6TfbKmm3EADwsjMMuht9fd52xxX4caOWx8DAPNmXLKLTWrTSYAK9jag3ZwAVmNqWqgWSQPlOcd3exqZMuqTa91UmR231LnScxxgeXbo1G6XJzSAi0G5UMiYhDj7SZRJbY4tUXsCRWuqc2trIVX7tfNJ93h/i96fmzCBlMX+/QUBd7StNHJ4XPGhdC+QS+7Xe8v4YxzCwYgYZbkqZKp+/V8KRKBuLg2B/YqAXde7CrOlAWMQpnsEqv2kcgu3nStu7y/TcrEn6FWKcbw8zCY3KcYrAzBa949GZGqIhIxrNYBdEA2BYKNFOVmAEmTcAtczzpz+KKoQQ/q4k89Bx+O0X8tmnOWKvfCW4/D6pHlv54/eQg79NyTslQpP9kat0KkgqjQMB8kJxPrJifaVyGwwKwvDWzHfG0WB5itNkQshQd0uj++b5kVqDutzdBRIt4gy9/kDvAdAYhhC8e/eSEbATmoIV0JXWp5/wCpfxJ1P7U6UaUTY6oWLAwWhH4JDzYECfuQAy5OnO7nYFiLY5CNEpRuNECT2E4mm33I7YB+G4dis3U+wc6b9Yf4U4i7D33HvUj3RPSMsoPjdyL18WdLoWoA7UgmBCABWUvPOaU72pb4wb2Gbr0KcwsdS0UaQIzeYQtS0ax99nHQ9ZYNQPDawwO7yi5PpG8r5Pny6VaGWEzBrif0aYZf1gB1NHcP19FkVBcCwQOQWJtFvLUKH0GPXv0DMUbJ8sl1FigmBBpQZOrBAlKjQAVj0hAQgWjW9MTdtoF6RMGCnxoY3jf9ly93sTXiQAbYbLVm9Goe7Iq9Vp5zzwyFxrtHueJAHu9131Iyv0RMue5Dvr08Ww+Zu1ttNnjqCwk90fpogT2eEBVFj0DW49n0fn44vsddHhDor5QPV6ZOiReSz9ueacWfYQ8AWTEinJmb5tSVn2N3hZTtZVZ9FggZnxS9XULQ4xrLIiSPpIIUjD8o0MNItpGRKmKpXfaLzZxAC9Gw68czgC1bQOI+gUMWNITTKc9HBZYH9buZliRebqrCdpHUU44MNeklLjgIBBUdffzNKKce/O7UTVrJ9EskPXBqkmt83TWo5Boz4=]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[最近的一些事]]></title>
    <url>%2F2018%2F09%2F01%2Fdiary%2Fdiary_0001%2F</url>
    <content type="text"><![CDATA[请输入文章密码 Decrypt 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]]></content>
      <categories>
        <category>Diary</category>
      </categories>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我的百度云服务器上的Docker]]></title>
    <url>%2F2018%2F08%2F29%2Fnode%2Flinux%2Fnode-linux_04%2F</url>
    <content type="text"><![CDATA[今天释怀了我的服务器端口问题之后, 开始搞一些常用的软件 1. 安装Docker因为我的系统是 CentOS 7, Docker 要求 CentOS 系统的内核版本高于 3.10. 所以先查看一下内核版本uname -r满足条件后, 直接安装yum -y install docker . 安装完后, 启动服务…….. 在CentOS 7下, 启动服务不再是 service docker start 这样的方式的.而是: systemctl start docker.service. 设置开机启动: systemctl enable docker.service 2. 下载镜像, 创建容器下载镜像: docker pull centos:6.7 创建容器: docker run --name=linux -d centos:6.7 /bin/bash -c &quot;while true; do echo hello; sleep 1; done&quot; 3. 容器里的事故进入容器: docker exec -ti linux /bin/bash 进入之后本来是想在容器里, 再运行起一个Docker 来玩玩的, 结果发现这条路行不通.原因和解决办法: http://www.wangtianyi.top/blog/2017/01/29/docker-in-docker/ , 我在这找到了答案. 玩不了, 就中规中矩的安装些软件吧. 下载个JDK来玩玩. 先ping 下, 结果 -bash: ping: command not found 我去..心里一万只草泥马, 在奔腾…….还要另安装 yum -y install iputils 看了一下时间, 那边的任务, 估计快执行完了, 这边只能晚上回去继续搞了, 就先记到这…..]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 上安装个小工具]]></title>
    <url>%2F2018%2F08%2F29%2Fnode%2Flinux%2Fnode-linux_05%2F</url>
    <content type="text"><![CDATA[安装个文件上传下载的工具 安装文件上传下载工具 yum install lrzsz sz：将选定的文件发送（send）到本地机器 rz：运行该命令会弹出一个文件选择窗口，从本地选择文件上传到服务器(receive)]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我的百度云服务器]]></title>
    <url>%2F2018%2F08%2F27%2Fnode%2Flinux%2Fnode-linux_03%2F</url>
    <content type="text"><![CDATA[前几天, 百度搞活动, 1折促销, 就抢了个服务器. 1. 遇到的问题用公司的网, SSH 登录不了. 2. 漫长的解决之路刚买时, 在公司发工单, 说让我重启路由和电脑, 毕竟不是我自己的网络, 就想晚上回家再试试吧. 晚上回到家里. 结果直接就连上了. 当时就感叹. 这么神奇呀, 换个网络真的可以呀. 这个周末相安无事, 我装了些常用的软件. 今天去到公司, 尝试连了一下, 又不通了. 瞬间感觉有种被坑的感觉. 我尝试 ping 了下, 是通的. 然后 telnet 22 端口, 就不通了. 我TM想哭的心, 都有了. 用 traceroute -d 查了一下路由路径, 也是正常的. 不得不发工单, 问一下情况. 工单里, 我说清楚情况后, 给我的回复是, 让我修改 ssh 的端口. 改了之后, 果然就可以了, 继续追问….无果 3. 在这个过程中, 学到的东西traceroute -d 查询路由路径 修改SSH端口, /etc/ssh/sshd_config 添加 Port=22, Port=1048 保存 重启服务 service sshd restart]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RabbitMQ 之 HelloWord]]></title>
    <url>%2F2018%2F08%2F22%2Fnode%2Fmq%2Fnode-rabbitmq_01%2F</url>
    <content type="text"><![CDATA[RabbitMQ 之 HelloWord RabbitMQ 分为 生产者, 消费者 生产者: 123456789101112131415161718192021222324252627282930313233343536373839package com.yuchen.demo.hello;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.Connection;import com.rabbitmq.client.Channel;public class Send &#123; // 队列名称 private final static String QUEUE_NAME = "lsy_hello"; public static void main(String[] args) throws Exception &#123; // 创建连接连接到MabbitMQ ConnectionFactory factory = new ConnectionFactory(); factory.setHost("10.13.144.24"); factory.setVirtualHost("/"); factory.setPort(5672); factory.setUsername("admin"); factory.setPassword("admin"); // 新建连接 Connection connection = factory.newConnection(); // 建立通道 Channel channel = connection.createChannel(); // 创建队列 (队列名称, 持久化, 仅有1个consumer 与autoDelete配合使用 没有consumer自动删除 , 自动删除, 其他参数) channel.queueDeclare(QUEUE_NAME, false, false, false, null); // 发送消息 byte[] // 用户可以把自己的消息序列化成JSON等格式在转成byte[]发送到队列中取出消息后再反序列化得到消息内容 String message = "Hello World!"; channel.basicPublish("", QUEUE_NAME, null, message.getBytes()); System.out.println("发送成功: '" + message + "'"); // 关闭连接 channel.close(); connection.close(); &#125;&#125; 生产者, 向指定的消息通道(队列)中, 插入消息 消费者: 123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.yuchen.demo.hello;import java.io.IOException;import com.rabbitmq.client.AMQP;import com.rabbitmq.client.Channel;import com.rabbitmq.client.Connection;import com.rabbitmq.client.ConnectionFactory;import com.rabbitmq.client.Consumer;import com.rabbitmq.client.DefaultConsumer;import com.rabbitmq.client.Envelope;public class MessageConsumer &#123; // 队列名称 private final static String QUEUE_NAME = "lsy_hello"; public static void main(String[] args) throws Exception &#123; // 创建连接连接到MabbitMQ ConnectionFactory factory = new ConnectionFactory(); factory.setHost("10.13.144.24"); factory.setVirtualHost("/"); factory.setPort(5672); factory.setUsername("admin"); factory.setPassword("admin"); // 新建连接 Connection connection = factory.newConnection(); // 建立通道 Channel channel = connection.createChannel(); // 声明队列, 可能在发送方之前启动接收方, 确保队列存在。 channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(" [*] Waiting for messages. To exit press CTRL+C"); Consumer consumer = new DefaultConsumer(channel) &#123; @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException &#123; String message = new String(body, "UTF-8"); System.out.println("接收到远端消息: '" + message + "'"); &#125; &#125;; channel.basicConsume(QUEUE_NAME, true, consumer); &#125;&#125; 消费者, 从指定的消息通道(队列)中, 读取消息. 阻塞监听指定队列的消息]]></content>
      <categories>
        <category>RabbitMQ</category>
      </categories>
      <tags>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[设计模式(单例模式)]]></title>
    <url>%2F2018%2F08%2F19%2Farticle%2FDesignPattern%2Fdesign-pattern_01%2F</url>
    <content type="text"><![CDATA[设计模式之单例模式 饿汉式单例模式12345678910111213141516171819package pro.yuchen.singleton;/** * 饿汉式单例模式 */public class SingletonDemo_01 &#123; private static SingletonDemo_01 instance = new SingletonDemo_01(); private SingletonDemo_01() &#123; if(null != instance) &#123; throw new RuntimeException(); // 防反射调用 &#125; &#125; public static SingletonDemo_01 getInstance() &#123; return instance; &#125;&#125; 线程安全: 是 延迟加载: 否 调用效率: 高 懒汉式单例模式12345678910111213141516171819202122package pro.yuchen.singleton;/** * 懒汉式单例模式 */public class SingletonDemo_02 &#123; private static SingletonDemo_02 instance = null; private SingletonDemo_02() &#123; if(null != instance) &#123; throw new RuntimeException(); // 防反射调用 &#125; &#125; public static synchronized SingletonDemo_02 getInstance() &#123; if (null == instance) &#123; instance = new SingletonDemo_02(); &#125; return instance; &#125;&#125; 线程安全: 是 延迟加载: 是 调用效率: 低 双重检查琐式单例模式123456789101112131415161718192021222324252627282930313233package pro.yuchen.singleton;/** * 双重检查琐式单例模式 */public class SingletonDemo_03 &#123; private static SingletonDemo_03 instance = null; private SingletonDemo_03() &#123; if(null != instance) &#123; throw new RuntimeException(); // 防反射调用 &#125; &#125; public static SingletonDemo_03 getInstance() &#123; if (null == instance) &#123; SingletonDemo_03 s; synchronized (SingletonDemo_03.class) &#123; s = instance; if (s == null) &#123; synchronized (SingletonDemo_03.class) &#123; if (s == null) &#123; s = new SingletonDemo_03(); &#125; &#125; instance = s; &#125; &#125; &#125; return instance; &#125;&#125; 由于JVM底层, 不支持, 所以不建议这么写 静态内部类单例模式1234567891011121314151617package pro.yuchen.singleton;/** * 静态内部类单例模式 */public class SingletonDemo_04 &#123; private static class SingletonInstance &#123; private static final SingletonDemo_04 instance = new SingletonDemo_04(); &#125; private SingletonDemo_04() &#123; &#125; public static synchronized SingletonDemo_04 getInstance() &#123; return SingletonInstance.instance; &#125;&#125; 线程安全: 是 延迟加载: 是 调用效率: 高 枚举类型单例模式1234567891011121314package pro.yuchen.singleton;/** * 静态内部类单例模式 */public enum SingletonDemo_05 &#123; INSTANCE; // 返回本身 public void operation() &#123; System.out.println("......"); &#125;&#125; 线程安全: 是 延迟加载: 否 调用效率: 高 关于反射通过反射创建单例对象123456789101112131415161718192021@org.junit.Testpublic void test_reflection() &#123; // 通过反射, 破单例 try &#123; Class&lt;SingletonDemo_04&gt; clazz = (Class&lt;SingletonDemo_04&gt;) Class.forName("pro.yuchen.singleton.SingletonDemo_04"); Constructor&lt;SingletonDemo_04&gt; constructor = clazz.getDeclaredConstructor(null); constructor.setAccessible(true); // 忽略访问权限 SingletonDemo_04 s = constructor.newInstance(); System.out.println(s); System.out.println(SingletonDemo_04.getInstance()); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; catch (NoSuchMethodException e) &#123; e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; catch (InstantiationException e) &#123; e.printStackTrace(); &#125; catch (InvocationTargetException e) &#123; e.printStackTrace(); &#125;&#125; 应对之法12345private SingletonDemo_04() &#123; // 应对反射创建对象 if (SingletonInstance.instance != null) &#123; throw new RuntimeException(); &#125;&#125; 关于序列化通过反序列化创建单例对象12345678910111213141516171819202122232425262728@org.junit.Testpublic void test_serializable() &#123; // 测试序列化, 破单例 byte[] bytes = null; try &#123; // 将对象序列化到内存中 SingletonDemo_04 s = SingletonDemo_04.getInstance(); System.out.println(s); ByteArrayOutputStream bos = new ByteArrayOutputStream(); ObjectOutputStream oos = new ObjectOutputStream(bos); oos.writeObject(s); bytes = bos.toByteArray(); oos.close(); bos.close(); System.out.println(bytes); // 将内存中的序列化数组, 反序列化为对象 ByteArrayInputStream bis = new ByteArrayInputStream(bytes); ObjectInputStream ois = new ObjectInputStream(bis); SingletonDemo_04 s1 = (SingletonDemo_04) ois.readObject(); System.out.println(s1); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125;&#125; 应对之法123private Object readResolve() throws ObjectStreamException &#123; // 应对反序列化创建对象 return SingletonInstance.instance;&#125; SingletonDemo_04 重写 readResolve 方法 多线程环境下测试1234567891011121314151617181920212223@org.junit.Testpublic void test_much_thread() throws InterruptedException &#123; long start = System.currentTimeMillis(); int max = 1000; final CountDownLatch count = new CountDownLatch(max); for (int i = 0; i &lt; max; i++) &#123; new Thread(new Runnable() &#123; public void run() &#123; for (int i = 0; i &lt; 10000; i++) &#123;// Object o = SingletonDemo_01.getInstance(); // 287// Object o = SingletonDemo_02.getInstance(); // 199// Object o = SingletonDemo_03.getInstance(); // 254// Object o = SingletonDemo_04.getInstance(); // 519 Object o = SingletonDemo_05.INSTANCE; // 274 &#125; count.countDown(); &#125; &#125;).start(); &#125; count.await(); long end = System.currentTimeMillis(); System.out.println("总耗时: " + (end - start));&#125; CountDownLatch 线程阻塞]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[设计模式(初窥)]]></title>
    <url>%2F2018%2F08%2F13%2Farticle%2FDesignPattern%2Fdesign-pattern_00%2F</url>
    <content type="text"><![CDATA[关于设计模式的六大原则 单一值守原则里氏替换原则依赖倒置原则接口隔离原则迪米特法则开闭原则]]></content>
      <categories>
        <category>DesignPattern</category>
      </categories>
      <tags>
        <tag>DesignPattern</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决AJAX提交中文信息乱码]]></title>
    <url>%2F2018%2F08%2F08%2Fnode%2Fjava%2Fnode-j2ee_08%2F</url>
    <content type="text"><![CDATA[解决AJAX 提交中文信息乱码 解决AJAX 提交中文信息乱码HTML页面1234567891011121314151617181920&lt;script type="text/javascript"&gt; // 执行保存 var remark = $("#remark").val(); if(remark == undefined) &#123; remark = ""; &#125; // 获取需要展示的数据 $.ajax(&#123; type: "post", url: "/erp/order/ajax/OutlayAndIncomesByOrderId", async: true, datatype:"json", contentType: "application/x-www-form-urlencoded; charset=utf-8", data: &#123;"orderId": orderId, "status": status, "id": id, "remark": remark&#125;, success: function(data) &#123; // 将数据展示到弹出层中 init_review_datas(data, orderId); &#125; &#125;);&lt;/script&gt; type: &quot;post&quot;, 以POST请求方式提交中文 contentType: &quot;application/x-www-form-urlencoded; charset=utf-8&quot; 修改请求体类型和请求体的字符集 Controller123456789101112131415161718@RequestMapping(value = "/order/ajax/ApplyForBatchOutlay", method = &#123; RequestMethod.POST &#125;)@ResponseBodypublic Map&lt;String, String&gt; ajaxApplyForBatchOutlay(HttpServletRequest request, Model model, @RequestBody List&lt;Map&lt;String,Object&gt;&gt; datas) &#123; Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;(); if (null == datas) &#123; result.put("msg", "alert-danger"); result.put("data", "请正确填写请款信息..."); return result; &#125; for (Map&lt;String, Object&gt; map : datas) &#123; System.out.println(map); &#125; result.put("msg", "alert-success"); result.put("data", "请款申请成功, 等待财务审核..."); return result;&#125;]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX 上传JSON数组]]></title>
    <url>%2F2018%2F07%2F24%2Fnode%2Fjava%2Fnode-j2ee_07%2F</url>
    <content type="text"><![CDATA[AJAX 上传JSON数组 AJAX 上传JSON数组HTML页面12345678910111213141516&lt;script type="text/javascript"&gt; $.ajax(&#123; type:"post", url:"/erp/order/ajax/ApplyForBatchOutlay", async:true, datatype:"json", contentType: "application/json; charset=utf-8", data: JSON.stringify(datas), success: function(data) &#123; $("#message").html('&lt;button type="button" class="close" data-dismiss="alert"&gt;&amp;times;&lt;/button&gt;'); $("#message").removeClass("hide"); $("#message").addClass(data.msg); $("#message").html($("#message").html() + data.data); &#125; &#125;);&lt;/script&gt; datatype:&quot;json&quot;, contentType: &quot;application/json; charset=utf-8&quot; 声明数据格式 JSON.stringify(datas) 将JavaScript对象转为 JSON 字符串 Controller123456789101112131415161718@RequestMapping(value = "/order/ajax/ApplyForBatchOutlay", method = &#123; RequestMethod.POST &#125;)@ResponseBodypublic Map&lt;String, String&gt; ajaxApplyForBatchOutlay(HttpServletRequest request, Model model, @RequestBody List&lt;Map&lt;String,Object&gt;&gt; datas) &#123; Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;(); if (null == datas) &#123; result.put("msg", "alert-danger"); result.put("data", "请正确填写请款信息..."); return result; &#125; for (Map&lt;String, Object&gt; map : datas) &#123; System.out.println(map); &#125; result.put("msg", "alert-success"); result.put("data", "请款申请成功, 等待财务审核..."); return result;&#125;]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>SpringMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Bootstrap 插件(DataTables, DatePicker)]]></title>
    <url>%2F2018%2F07%2F23%2Fnode%2Fjavascript%2Fnode-javascript_18%2F</url>
    <content type="text"><![CDATA[Bootstrap 常用的表格插件(DataTables), 日期插件(DatePicker) 和 下拉列表控件(BootStrap-Select) 表格插件(DataTables) 引入依赖文件 /vendor/datatables/js/jquery.dataTables.min.js /vendor/datatables-plugins/dataTables.bootstrap.min.js /vendor/datatables-responsive/dataTables.responsive.js /vendor/datatables-plugins/dataTables.bootstrap.css /vendor/datatables-responsive/dataTables.responsive.css 实际使用 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;table width="100%" class="table table-striped table-bordered table-hover" id="tables"&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;国家&lt;/th&gt; &lt;th&gt;签证类型&lt;/th&gt; &lt;th&gt;姓名&lt;/th&gt; &lt;th&gt;数量&lt;/th&gt; &lt;th&gt;请款金额&lt;/th&gt; &lt;th&gt;收款金额&lt;/th&gt; &lt;th&gt;退款金额&lt;/th&gt; &lt;th&gt;状态&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;美国&lt;/td&gt; &lt;td&gt;美国商务签证&lt;/td&gt; &lt;td&gt;江波涛, 杜明, 孙翔, 周泽楷&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;650&lt;/td&gt; &lt;td&gt;900&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;已完成&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;script type="text/javascript"&gt; $(document).ready(function() &#123; $('#dataTables-example').DataTable(&#123; "oLanguage": &#123; "sLengthMenu": "每页显示 _MENU_ 条记录", "sZeroRecords": "对不起，查询不到任何相关数据", "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_条记录", "sInfoEmtpy": "找不到相关数据", "sInfoFiltered": "数据表中共为 _MAX_ 条记录)", "sProcessing": "正在加载中...", "sSearch": "搜索", "oPaginate": &#123; "sFirst": "第一页", "sPrevious": " 上一页 ", "sNext": " 下一页 ", "sLast": " 最后一页 " &#125; &#125;, responsive: true, "order": [[ 1, "desc" ]], "columnDefs": [ &#123; "orderable": false, "targets": 0 &#125; ], initComplete: function () &#123; var select = $("#sales"); // 页面上的select控件 var api = this.api(); // 获取api对象 var column = api.column(2); // 获取列对象 column.data().unique().sort().each(function (d, j) &#123; // 遍历列中去重后的数据 select.append( '&lt;option value="'+d+'"&gt;'+d+'&lt;/option&gt;' ); &#125;); &#125; &#125;); &#125;);&lt;/script&gt; 常用配置 &quot;order&quot;: [[ 1, &quot;desc&quot; ]] 默认第二列降序排列 &quot;columnDefs&quot;: [{ &quot;orderable&quot;: false, &quot;targets&quot;: 0 } ] 第一列不进行排序 &quot;initComplete&quot; : function() {} 初始化表格时, 执行的方法 常用方法 自定义检索条件 12345678910111213141516$("#query").on("click", function() &#123; var order_no = isNotNull(document.getElementById("order_no").value); var order_date = isNotNull(document.getElementById("order_date").value); var sales = isNotNull(document.getElementById("sales").value); var name = isNotNull(document.getElementById("name").value); var type = isNotNull($('input[name=type]:checked').val()); var status = isNotNull($('input[name=status]:checked').val()); table.column(0).search(order_no); // 检索列中对就的值 table.column(1).search(order_date); table.column(2).search(sales); table.column(5).search(name); table.column(10).search(type); table.column(17).search(status); table.draw(); // 表格重绘&#125;); 刷新页面后, 回显页码 12345678910111213141516171819$("#dataTables-example").on("page.dt", function() &#123; // 翻页事件 // 计算页码 var table = $("#dataTables-example").dataTable(); var setings = table.fnSettings(); var length = setings._iDisplayLength; // 当前每页显示多少 var start = setings._iDisplayStart; // 当前页开始 var page=(start / length); // 得到页数值 console.log(page); // 将页码存入 Session Storage sessionStorage.setItem("page", page);&#125;).dataTable();$(function() &#123; if(sessionStorage.getItem("page") != null) &#123; var page = sessionStorage.getItem("page"); var table = $("#dataTables-example").dataTable(); table.fnPageChange(Number(page));//加载跳转 &#125;&#125;); 注意: DataTables的配置项中, 要加入 &quot;bDestroy&quot;: true 日期插件(DatePicker) 引入依赖文件 /vendor/bootstrap-datepicker/js/bootstrap-datepicker.js /vendor/bootstrap-datepicker/locales/bootstrap-datepicker.zh-CN.min.js /vendor/bootstrap-datepicker/css/bootstrap-datepicker.css 实际使用 123456789101112131415161718192021222324252627&lt;div class="col-lg-12 "&gt; &lt;div class="col-lg-1 "&gt; &lt;label&gt;开始日期:&lt;/label&gt; &lt;/div&gt; &lt;div class="col-lg-2 "&gt; &lt;input type="text" class="form-control datepicker" data-provide="datepicker" id="start" name="start" value="$&#123;param.start &#125;" /&gt; &lt;/div&gt; &lt;div class="col-lg-1 "&gt; &lt;label&gt;结束日期:&lt;/label&gt; &lt;/div&gt; &lt;div class="col-lg-2 "&gt; &lt;input type="text" class="form-control datepicker" data-provide="datepicker" id="end" name="end" value="$&#123;param.end &#125;" /&gt; &lt;/div&gt;&lt;/div&gt;&lt;script type="text/javascript"&gt; $('.datepicker').datepicker(&#123; format: 'yyyy-mm', startDate: '-12m', endDate: '0d', language: 'zh-CN', autoclose: true, startView: 'months', maxViewMode:'years', minViewMode:'months' &#125;);&lt;/script&gt; 常用配置 format: &#39;yyyy-mm&#39; 配置日期格式 startDate: &#39;-12m&#39; 配置可选择的开始日期 endDate: &#39;0d&#39; 配置可选择的结束日期 language: &#39;zh-CN&#39; 配置语言 autoclose: true 自动关闭 startView: &#39;months&#39; 开始视图为选择月份 maxViewMode:&#39;years&#39; 最高层视图为 选择年份 minViewMode:&#39;months&#39; 最底层视图为 选择月份 下拉列表控件(BootStrap-Select) 引入依赖文件 /vendor/bootstrap-select/dist/js/bootstrap-select.min.js /vendor/bootstrap-select/dist/js/i18n/defaults-zh_CN.min.js /vendor/bootstrap-select/dist/css/bootstrap-select.min.css 实际使用 123456789&lt;input id="_sales" name="sales" type="hidden" /&gt;&lt;select id="select_sales" class="selectpicker" data-live-search="true" title="--请选择--" multiple onchange="$('#_sales').val($('#select_sales').val().toString())"&gt; &lt;option class="hover-item" value="1"&gt;张三&lt;/option&gt; &lt;option class="hover-item" value="2"&gt;李四&lt;/option&gt; &lt;option class="hover-item" value="3"&gt;王五&lt;/option&gt; &lt;option class="hover-item" value="4"&gt;赵六&lt;/option&gt;&lt;/select&gt; 常用配置 data-live-search=&quot;true&quot; 开启搜索 multiple 开启复选 title=&quot;--请选择--&quot; 默认显示内容 消息回显 1234var str = '1,2,4';var arr = str.split(',');$('#select_sales').selectpicker('val', arr);document.getElementById("_sales").value = str; ​]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Bootstrap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用 SpringMVC 实现文件的上传和下载]]></title>
    <url>%2F2018%2F07%2F21%2Fnode%2Fjava%2Fnode-j2ee_06%2F</url>
    <content type="text"><![CDATA[使用 SpringMVC 实现文件的上传和下载 1. 文件上传HTML页面1234567891011121314151617181920212223&lt;form id="submit_form" action="/order/save" method="post" enctype="multipart/form-data" &gt; &lt;div class="row"&gt; &lt;div class="col-lg-2 "&gt;&lt;label&gt;附件:&lt;/label&gt;&lt;/div&gt; &lt;div class="col-lg-4 "&gt; &lt;label class="form-inline"&gt; &lt;input type="button" id="openFile" class="btn btn-success" value="选择文件..." /&gt; &lt;input type="file" class="hide" id="annex" name="annex" /&gt; &lt;/label&gt; &lt;/div&gt; &lt;/div&gt;&lt;/form&gt;&lt;script type="text/javascript"&gt; $("#openFile").on("click", function() &#123; var annex = document.getElementById("annex"); annex.click(); annex.onchange = function() &#123; var filename = annex.value; filename = filename.substring(12); document.getElementById("openFile").value = filename; &#125; &#125;);&lt;/script&gt; 表单中有文件要上传时, 需要添加 enctype=&quot;multipart/form-data&quot; 属性 Controller123456789101112131415@RequestMapping(value = "/order/save", method = &#123; RequestMethod.POST &#125;)public String save(HttpServletRequest request, Model model, @RequestParam MultipartFile annex) &#123; if (null != annex &amp;&amp; annex.getSize() &gt; 0) &#123; // 保存附件 String fileName = order.getOrderNo() + "_" + annex.getOriginalFilename(); String annexPath = UploadPath.getOrderAnnexPath() + File.separator + fileName; File file = new File(annexPath); try &#123; annex.transferTo(file); // 保存文件到磁盘 &#125; catch (IllegalStateException | IOException e) &#123; e.printStackTrace(); &#125; &#125; return "redirect:/order";&#125; 2. 文件下载Controller12345@RequestMapping(value = "/order/down/annex", method = &#123; RequestMethod.GET &#125;)public void downAnnexByOrderId(HttpServletRequest request, HttpServletResponse response, Integer orderId) &#123; Order order = orderService.get(orderId); ExportUtil.export(order.getAnnexPath(), request, response);&#125; ExportUtil12345678910111213141516171819202122232425262728293031323334353637383940414243public class ExportUtil &#123; private static final Logger logger = Logger.getLogger(ExportUtil.class); public static void export(String filePath, HttpServletRequest request, HttpServletResponse response) &#123; File file = new File(filePath); if(!file.exists())&#123; logger.error("文件不存在"); return; &#125; try &#123; String fileName = file.getName(); String prefix=fileName.substring(fileName.lastIndexOf(".")+1); response.reset(); response.setContentType("application/"+prefix+";charset=UTF-8"); String filenamedisplay = URLEncoder.encode(fileName, "UTF-8"); if (request.getHeader("User-Agent").toLowerCase().indexOf("firefox") &gt; 0) &#123; filenamedisplay = new String(fileName.getBytes("UTF-8"), "ISO8859-1");// firefox浏览器 &#125; else if (request.getHeader("User-Agent").toUpperCase().indexOf("MSIE") &gt; 0) &#123; filenamedisplay = URLEncoder.encode(fileName, "UTF-8");// IE浏览器 &#125; else if (request.getHeader("User-Agent").toUpperCase().indexOf("SAFARI") &gt; 0) &#123; filenamedisplay = new String(fileName.getBytes("UTF-8"), "ISO8859-1");// safari 浏览器 &#125;else if (request.getHeader("User-Agent").toUpperCase().indexOf("CHROME") &gt; 0) &#123; filenamedisplay = new String(fileName.getBytes("UTF-8"), "ISO8859-1");// Chrome浏览器 &#125; long fileLength = new File(filePath).length(); response.setHeader("Content-Disposition", "attachment;filename=\"" + filenamedisplay +"\""); response.setHeader("Content-Length", String.valueOf(fileLength)); BufferedInputStream br = new BufferedInputStream(new FileInputStream(file)); byte[] buf = new byte[1024]; int len = 0; OutputStream out = response.getOutputStream(); while ((len = br.read(buf)) &gt; 0) &#123; out.write(buf, 0, len); &#125; out.flush(); br.close(); out.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125; HTML1234567&lt;a href="javascript:down_annex(1);"&gt;下载&lt;/a&gt;&lt;script type="text/javascript"&gt; function down_annex(id) &#123; window.location = "/erp/order/down/annex?orderId=" + id; &#125;&lt;/script&gt;]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hibernate 执行原始SQL语句]]></title>
    <url>%2F2018%2F06%2F26%2Fnode%2Fjava%2Fnode-j2ee_05%2F</url>
    <content type="text"><![CDATA[Hibernate 执行select语句, 并将执行结果映射到bean中 上面的查询都是返回标量值的，也就是从resultset中返回的“裸”数据。下面展示如何通过addEntity()让原生查询返回实体对象。 12session.createSQLQuery("SELECT * FROM CATS").addEntity(Cat.class);session.createSQLQuery("SELECT ID, NAME, BIRTHDATE FROM CATS").addEntity(Cat.class);]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JPA</tag>
        <tag>Java</tag>
        <tag>Hibernate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[激活 Navicat Premium for Mac]]></title>
    <url>%2F2018%2F06%2F26%2Fnode%2Fnode-navicat-sn%2F</url>
    <content type="text"><![CDATA[激活 Navicat Premium for Mac 1. 准备 ‘公钥/私钥’ 1234567891011121314151617181920212223242526272829303132333435363738-----BEGIN PUBLIC KEY-----MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQB8vXG0ImYhLHvHhpi5FS3gd2QhxSQiU6dQ04F1OHB0yRRQ3NXF5py2NNDw962i4WP1zpUOHh94/mg/KA8KHNJXHtQVLXMRms+chomsQCwkDi2jbgUa4jRFN/6N3QejJ42jHasY3MJfALcnHCY3KDEFh0N89FV4yGLyDLr+TLqpRecg9pkPnOp++UTSsxz/e0ONlPYrra/DiaBjsleAESZSI69sPD9xZRt+EciXVQfybI/2SYeAdXMm1B7tHCcFlOxeUgqYV03VEqiC0jVMwRCd+03NU3wvEmLBvGOmNGudocWIF/y3VOqyW1byXFLeZxl7s+Y/SthxOYXzu3mF+2/pAgMBAAE=-----END PUBLIC KEY----------BEGIN RSA PRIVATE KEY-----MIIEogIBAAKCAQB8vXG0ImYhLHvHhpi5FS3gd2QhxSQiU6dQ04F1OHB0yRRQ3NXF5py2NNDw962i4WP1zpUOHh94/mg/KA8KHNJXHtQVLXMRms+chomsQCwkDi2jbgUa4jRFN/6N3QejJ42jHasY3MJfALcnHCY3KDEFh0N89FV4yGLyDLr+TLqpRecg9pkPnOp++UTSsxz/e0ONlPYrra/DiaBjsleAESZSI69sPD9xZRt+EciXVQfybI/2SYeAdXMm1B7tHCcFlOxeUgqYV03VEqiC0jVMwRCd+03NU3wvEmLBvGOmNGudocWIF/y3VOqyW1byXFLeZxl7s+Y/SthxOYXzu3mF+2/pAgMBAAECggEAK5qZbYt8wenn1uZg6onRwJ5bfUaJjApL+YAFx/ETtm83z9ByVbx4WWT7CNC7fK1nINy20/mJrOTZkgIxx6otiNC4+DIsACJqol+RLoo8I9pk77Ucybn65ZteOz7hVZIU+8j6LzW0KDt6yowXe75r7G/NEpfibNc3Zz81+oDd2x+bHyGbzc9QcePIVuEzkof6jgpbWrQZU14itx9lVxEgj/fbMccvBx8brR/l9ClmDZd9Y6TWsF1rfJpF3+DPeqFkKCiD7PGz3bs4O/ZdZrfV21ZNVusBW49G6bU63gQVKsOf1qGo3efbAW1HVxgTQ/lExVdcMvdenZm+ADKpL4/wUQKBgQDOfBjn3OC2IerUFu18EgCS7pSjTSibXw+TeX3D5zwszLC091G2rGlT5DihBUhMfesNdpoZynrs4YB6Sz9C3wSGAB8AM/tNvPhtSVtbMHmrdT2DEEKCvLkORNBnt+8aTu2hGRanw9aL1189gzwrmXK5ZuuURfgLrB9ihrvjo4VznQKBgQCapx13dEA1MwapBiIa3k8hVBCoGPsEPWqM33RBdUqUsP33f9/PCx00j/akwmjgQNnBlAJoY7LOqPCyiwOkEf40T4IlHdzYntWQQvHhfBwqSgdkTE9tKj43Ddr7JVFRL6yMSbW39qAp5UX/+VzOLGAlfzJ8CBnkXwGrnKPCVbnZvQKBgQCd+iof80jlcCu3GteVrjxMLkcAbb8cqG1FWpVTNe4/JFgqDHKzPVPUgG6nG2CGTWxxv4UFKHpGE/11E28SHYjbcOpHAH5LqsGy84X2za649JkcVmtclUFMXm/Ietxvl2WNdKF1t4rFMQFIEckOXnd8y/Z/Wcz+OTFF82l7L5ehrQKBgFXl9m7v6e3ijpN5LZ5A1jDL0Yicf2fmePUP9DGbZTZbbGR46SXFpY4ZXEQ9GyVbv9dOT1wN7DXvDeoNXpNVzxzdAIt/H7hN2I8NL+4vEjHG9n4WCJO4v9+yWWvfWWA/m5Y8JqusV1+N0iiQJ6T4btrE4JSVp1P6FSJtmWOKW/T9AoGAcMhPMCL+N+AvWcYt4Y4mhelvDG8e/Jj4U+lwS3g7YmuQuYx7h5tjrS33w4o20g/3XudPMJHhA3z+d8b3GaVM3ZtcRM3+Rvk+zSOcGSwn3yDy4NYlv9bdUj/4H+aU1Qu1ZYojFM1Gmbe4HeYDOzRsJ5BhNrrV12h27JWkiRJ4F/Q=-----END RSA PRIVATE KEY----- Ps: RSA 是一种非对称的加密方式, 用公钥加密的文本, 要用私钥解密. 用私钥加密的文本, 要用公钥解密. 2. 安装 Navicat Premium安装后不要着急打开 Navicat, 先进到 /Applications/Navicat Premium.app/Contents/Resources 目录, 将rpk文件内容, 换为上面我们自己的公钥. 然后断网, 手动激活 , 输入序列号NAVH-T4PX-WT8W-QBL5 现在会拿到 请求码, 用私钥解密后, 会得到 12345&#123; "K" : "NAVHT4PXWT8WQBL5", "P" : "Mac 10.13", "DI" : "ODQ2Yjg2ZDBjMTEzMjhh"&#125; “K”代表激活密钥 “DI”代表设备码 要根据请求码, 拼装自己的激活码 {&quot;K&quot;:&quot;NAVHT4PXWT8WQBL5&quot;, &quot;N&quot;:&quot;Selfimpr&quot;, &quot;O&quot;:&quot;yuchen.pro&quot;, &quot;DI&quot;:&quot;ODQ2Yjg2ZDBjMTEzMjhh&quot;, &quot;T&quot;:1516280990} ​ 激活码的”K”和”DI”必须和请求码一致. ​ “N”代表名称，填写任意字符; ​ “O”代表组织，填写任意字符; ​ “T”代表注册时间，必须是UNIX时间格式的整数形式; *注意: 上面的激活码, 多一个空格, 都不行* 用私钥加密激活码, 粘到 Navicat中, 就可激活了 附: RSA在线加密解密工具 http://tool.chacuo.net/cryptrsapubkey]]></content>
      <categories>
        <category>ToolsCrack</category>
      </categories>
      <tags>
        <tag>Edraw</tag>
        <tag>ToolsCrack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[远程测试mysql数据库3306端口报错]]></title>
    <url>%2F2018%2F06%2F26%2Fnode%2Fdatabase%2Fmysql%2Fnode-mysql_01%2F</url>
    <content type="text"><![CDATA[远程测试mysql数据库3306端口报错 错误现象：12345[root@localhost ~]# telnet 192.168.10.130 3306Trying 192.168.10.130...Connected to 192.168.10.130.Escape character is '^]'.GHost '192.168.10.120' is not allowed to connect to this MySQL serverConnection closed by foreign host 解决方法：具体原因是权限问题，需要重新设置外部登陆用户权限12345mysql&gt; grant all privileges on *.* to 'root'@'%' identified by '123456' with grant option;Query OK, 0 rows affected (0.01 sec)mysql&gt; flush privileges; Query OK, 0 rows affected (0.00 sec)mysql&gt; exit]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Edraw for Mac 注册码]]></title>
    <url>%2F2018%2F06%2F21%2Fnode%2Fnode-edraw-sn%2F</url>
    <content type="text"><![CDATA[Edraw9.1 for Mac 注册码 注意： 请断网情况下激活！选择 手动激活 ！ 用户名：GUANTAO2008 产品密钥：0711-8621-3000-8217-5433]]></content>
      <categories>
        <category>ToolsCrack</category>
      </categories>
      <tags>
        <tag>Edraw</tag>
        <tag>ToolsCrack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOS上一些软件的激活]]></title>
    <url>%2F2018%2F06%2F21%2Fnode%2Fnode-tools-crack%2F</url>
    <content type="text"><![CDATA[MacOS上一些软件的激活 DataGrip:选择License server License service address: http://xidea.online (Lower of 2017.2), http://jetbrains.license.laucyun.com (Lower of 2017.3)]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 批量插入数据]]></title>
    <url>%2F2018%2F06%2F20%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_14%2F</url>
    <content type="text"><![CDATA[Oracle 批量插入数据 12345INSERT INTO table(column1, column2, ... column_n )SELECT expression1, expression2, ... expression_nFROM source_table[WHERE conditions];]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[单点登录]]></title>
    <url>%2F2018%2F06%2F19%2Fnode%2Fnode-sso_1%2F</url>
    <content type="text"><![CDATA[单点登录的基本思路 登录状态保存（redis/mysql） 请求携带登录状态返回标识（token） filter验证token]]></content>
      <categories>
        <category>SSO</category>
      </categories>
      <tags>
        <tag>SSO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[修改Docker下安装的Redis]]></title>
    <url>%2F2018%2F05%2F27%2Fnode%2Fdatabase%2Fredis%2Fnode-redis_2%2F</url>
    <content type="text"><![CDATA[修改Redis的密码 因为Redis, 默认是没有配置文件的, 所以我们要先创建redis.conf 文件, 我用 docker exec -ti redis /bin/bash 命令进到Redis容器中, 惊奇的发现, 我竟没办法编辑文本. 原来的路走不通, 只有另辟蹊径了. 在Mac(宿主机)上创建redis.conf 文件(下文贴出了文件) 修改配置文件 #requirepass foobared, 去掉# 修改自己的密码 删除原来的容器 docker rm redis 创建新的容器 docker run --name redis -p 6379:6379 -d redis redis-server /data/redis.conf 从宿主机复制到容器中 docker cp redis.conf redis:/data/ 附:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425# Redis配置文件样例# Note on units: when memory size is needed, it is possible to specifiy# it in the usual form of 1k 5GB 4M and so forth:## 1k =&gt; 1000 bytes# 1kb =&gt; 1024 bytes# 1m =&gt; 1000000 bytes# 1mb =&gt; 1024*1024 bytes# 1g =&gt; 1000000000 bytes# 1gb =&gt; 1024*1024*1024 bytes## units are case insensitive so 1GB 1Gb 1gB are all the same.# Redis默认不是以守护进程的方式运行，可以通过该配置项修改，使用yes启用守护进程# 启用守护进程后，Redis会把pid写到一个pidfile中，在/var/run/redis.piddaemonize no# 当Redis以守护进程方式运行时，Redis默认会把pid写入/var/run/redis.pid文件，可以通过pidfile指定pidfile /var/run/redis.pid# 指定Redis监听端口，默认端口为6379# 如果指定0端口，表示Redis不监听TCP连接port 6379# 绑定的主机地址# 你可以绑定单一接口，如果没有绑定，所有接口都会监听到来的连接# bind 127.0.0.1# Specify the path for the unix socket that will be used to listen for# incoming connections. There is no default, so Redis will not listen# on a unix socket when not specified.## unixsocket /tmp/redis.sock# unixsocketperm 755# 当客户端闲置多长时间后关闭连接，如果指定为0，表示关闭该功能timeout 0# 指定日志记录级别，Redis总共支持四个级别：debug、verbose、notice、warning，默认为verbose# debug (很多信息, 对开发／测试比较有用)# verbose (many rarely useful info, but not a mess like the debug level)# notice (moderately verbose, what you want in production probably)# warning (only very important / critical messages are logged)loglevel verbose# 日志记录方式，默认为标准输出，如果配置为redis为守护进程方式运行，而这里又配置为标准输出，则日志将会发送给/dev/nulllogfile stdout# To enable logging to the system logger, just set &apos;syslog-enabled&apos; to yes,# and optionally update the other syslog parameters to suit your needs.# syslog-enabled no# Specify the syslog identity.# syslog-ident redis# Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.# syslog-facility local0# 设置数据库的数量，默认数据库为0，可以使用select &lt;dbid&gt;命令在连接上指定数据库id# dbid是从0到‘databases’-1的数目databases 16################################ SNAPSHOTTING ################################## 指定在多长时间内，有多少次更新操作，就将数据同步到数据文件，可以多个条件配合# Save the DB on disk:## save &lt;seconds&gt; &lt;changes&gt;## Will save the DB if both the given number of seconds and the given# number of write operations against the DB occurred.## 满足以下条件将会同步数据:# 900秒（15分钟）内有1个更改# 300秒（5分钟）内有10个更改# 60秒内有10000个更改# Note: 可以把所有“save”行注释掉，这样就取消同步操作了save 900 1save 300 10save 60 10000# 指定存储至本地数据库时是否压缩数据，默认为yes，Redis采用LZF压缩，如果为了节省CPU时间，可以关闭该选项，但会导致数据库文件变的巨大rdbcompression yes# 指定本地数据库文件名，默认值为dump.rdbdbfilename dump.rdb# 工作目录.# 指定本地数据库存放目录，文件名由上一个dbfilename配置项指定# # Also the Append Only File will be created inside this directory.# # 注意，这里只能指定一个目录，不能指定文件名dir ./################################# REPLICATION ################################## 主从复制。使用slaveof从 Redis服务器复制一个Redis实例。注意，该配置仅限于当前slave有效# so for example it is possible to configure the slave to save the DB with a# different interval, or to listen to another port, and so on.# 设置当本机为slav服务时，设置master服务的ip地址及端口，在Redis启动时，它会自动从master进行数据同步# slaveof &lt;masterip&gt; &lt;masterport&gt;# 当master服务设置了密码保护时，slav服务连接master的密码# 下文的“requirepass”配置项可以指定密码# masterauth &lt;master-password&gt;# When a slave lost the connection with the master, or when the replication# is still in progress, the slave can act in two different ways:## 1) if slave-serve-stale-data is set to &apos;yes&apos; (the default) the slave will# still reply to client requests, possibly with out of data data, or the# data set may just be empty if this is the first synchronization.## 2) if slave-serve-stale data is set to &apos;no&apos; the slave will reply with# an error &quot;SYNC with master in progress&quot; to all the kind of commands# but to INFO and SLAVEOF.#slave-serve-stale-data yes# Slaves send PINGs to server in a predefined interval. It&apos;s possible to change# this interval with the repl_ping_slave_period option. The default value is 10# seconds.## repl-ping-slave-period 10# The following option sets a timeout for both Bulk transfer I/O timeout and# master data or ping response timeout. The default value is 60 seconds.## It is important to make sure that this value is greater than the value# specified for repl-ping-slave-period otherwise a timeout will be detected# every time there is low traffic between the master and the slave.## repl-timeout 60################################## SECURITY #################################### Warning: since Redis is pretty fast an outside user can try up to# 150k passwords per second against a good box. This means that you should# use a very strong password otherwise it will be very easy to break.# 设置Redis连接密码，如果配置了连接密码，客户端在连接Redis时需要通过auth &lt;password&gt;命令提供密码，默认关闭requirepass 123456# Command renaming.## It is possilbe to change the name of dangerous commands in a shared# environment. For instance the CONFIG command may be renamed into something# of hard to guess so that it will be still available for internal-use# tools but not available for general clients.## Example:## rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52## It is also possilbe to completely kill a command renaming it into# an empty string:## rename-command CONFIG &quot;&quot;################################### LIMITS ##################################### 设置同一时间最大客户端连接数，默认无限制，Redis可以同时打开的客户端连接数为Redis进程可以打开的最大文件描述符数，# 如果设置maxclients 0，表示不作限制。当客户端连接数到达限制时，Redis会关闭新的连接并向客户端返回max Number of clients reached错误信息# maxclients 128# Don&apos;t use more memory than the specified amount of bytes.# When the memory limit is reached Redis will try to remove keys with an# EXPIRE set. It will try to start freeing keys that are going to expire# in little time and preserve keys with a longer time to live.# Redis will also try to remove objects from free lists if possible.## If all this fails, Redis will start to reply with errors to commands# that will use more memory, like SET, LPUSH, and so on, and will continue# to reply to most read-only commands like GET.## WARNING: maxmemory can be a good idea mainly if you want to use Redis as a# &apos;state&apos; server or cache, not as a real DB. When Redis is used as a real# database the memory usage will grow over the weeks, it will be obvious if# it is going to use too much memory in the long run, and you&apos;ll have the time# to upgrade. With maxmemory after the limit is reached you&apos;ll start to get# errors for write operations, and this may even lead to DB inconsistency.# 指定Redis最大内存限制，Redis在启动时会把数据加载到内存中，达到最大内存后，Redis会先尝试清除已到期或即将到期的Key，# 当此方法处理后，仍然到达最大内存设置，将无法再进行写入操作，但仍然可以进行读取操作。# Redis新的vm机制，会把Key存放内存，Value会存放在swap区# maxmemory &lt;bytes&gt;# MAXMEMORY POLICY: how Redis will select what to remove when maxmemory# is reached? You can select among five behavior:# # volatile-lru -&gt; remove the key with an expire set using an LRU algorithm# allkeys-lru -&gt; remove any key accordingly to the LRU algorithm# volatile-random -&gt; remove a random key with an expire set# allkeys-&gt;random -&gt; remove a random key, any key# volatile-ttl -&gt; remove the key with the nearest expire time (minor TTL)# noeviction -&gt; don&apos;t expire at all, just return an error on write operations# # Note: with all the kind of policies, Redis will return an error on write# operations, when there are not suitable keys for eviction.## At the date of writing this commands are: set setnx setex append# incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd# sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby# zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby# getset mset msetnx exec sort## The default is:## maxmemory-policy volatile-lru# LRU and minimal TTL algorithms are not precise algorithms but approximated# algorithms (in order to save memory), so you can select as well the sample# size to check. For instance for default Redis will check three keys and# pick the one that was used less recently, you can change the sample size# using the following configuration directive.## maxmemory-samples 3############################## APPEND ONLY MODE ################################ # Note that you can have both the async dumps and the append only file if you# like (you have to comment the &quot;save&quot; statements above to disable the dumps).# Still if append only mode is enabled Redis will load the data from the# log file at startup ignoring the dump.rdb file.# 指定是否在每次更新操作后进行日志记录，Redis在默认情况下是异步的把数据写入磁盘，如果不开启，可能会在断电时导致一段时间内的数据丢失。# 因为redis本身同步数据文件是按上面save条件来同步的，所以有的数据会在一段时间内只存在于内存中。默认为no# IMPORTANT: Check the BGREWRITEAOF to check how to rewrite the append# log file in background when it gets too big.appendonly no# 指定更新日志文件名，默认为appendonly.aof# appendfilename appendonly.aof# The fsync() call tells the Operating System to actually write data on disk# instead to wait for more data in the output buffer. Some OS will really flush # data on disk, some other OS will just try to do it ASAP.# 指定更新日志条件，共有3个可选值：# no:表示等操作系统进行数据缓存同步到磁盘（快）# always:表示每次更新操作后手动调用fsync()将数据写到磁盘（慢，安全）# everysec:表示每秒同步一次（折衷，默认值）appendfsync everysec# appendfsync no# When the AOF fsync policy is set to always or everysec, and a background# saving process (a background save or AOF log background rewriting) is# performing a lot of I/O against the disk, in some Linux configurations# Redis may block too long on the fsync() call. Note that there is no fix for# this currently, as even performing fsync in a different thread will block# our synchronous write(2) call.## In order to mitigate this problem it&apos;s possible to use the following option# that will prevent fsync() from being called in the main process while a# BGSAVE or BGREWRITEAOF is in progress.## This means that while another child is saving the durability of Redis is# the same as &quot;appendfsync none&quot;, that in pratical terms means that it is# possible to lost up to 30 seconds of log in the worst scenario (with the# default Linux settings).# # If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as# &quot;no&quot; that is the safest pick from the point of view of durability.no-appendfsync-on-rewrite no# Automatic rewrite of the append only file.# Redis is able to automatically rewrite the log file implicitly calling# BGREWRITEAOF when the AOF log size will growth by the specified percentage.# # This is how it works: Redis remembers the size of the AOF file after the# latest rewrite (or if no rewrite happened since the restart, the size of# the AOF at startup is used).## This base size is compared to the current size. If the current size is# bigger than the specified percentage, the rewrite is triggered. Also# you need to specify a minimal size for the AOF file to be rewritten, this# is useful to avoid rewriting the AOF file even if the percentage increase# is reached but it is still pretty small.## Specify a precentage of zero in order to disable the automatic AOF# rewrite feature.auto-aof-rewrite-percentage 100auto-aof-rewrite-min-size 64mb################################## SLOW LOG #################################### The Redis Slow Log is a system to log queries that exceeded a specified# execution time. The execution time does not include the I/O operations# like talking with the client, sending the reply and so forth,# but just the time needed to actually execute the command (this is the only# stage of command execution where the thread is blocked and can not serve# other requests in the meantime).# # You can configure the slow log with two parameters: one tells Redis# what is the execution time, in microseconds, to exceed in order for the# command to get logged, and the other parameter is the length of the# slow log. When a new command is logged the oldest one is removed from the# queue of logged commands.# The following time is expressed in microseconds, so 1000000 is equivalent# to one second. Note that a negative number disables the slow log, while# a value of zero forces the logging of every command.slowlog-log-slower-than 10000# There is no limit to this length. Just be aware that it will consume memory.# You can reclaim memory used by the slow log with SLOWLOG RESET.slowlog-max-len 1024################################ VIRTUAL MEMORY ################################## WARNING! Virtual Memory is deprecated in Redis 2.4### The use of Virtual Memory is strongly discouraged.### WARNING! Virtual Memory is deprecated in Redis 2.4### The use of Virtual Memory is strongly discouraged.# Virtual Memory allows Redis to work with datasets bigger than the actual# amount of RAM needed to hold the whole dataset in memory.# In order to do so very used keys are taken in memory while the other keys# are swapped into a swap file, similarly to what operating systems do# with memory pages.# 指定是否启用虚拟内存机制，默认值为no，# VM机制将数据分页存放，由Redis将访问量较少的页即冷数据swap到磁盘上，访问多的页面由磁盘自动换出到内存中# 把vm-enabled设置为yes，根据需要设置好接下来的三个VM参数，就可以启动VM了# vm-enabled yes# This is the path of the Redis swap file. As you can guess, swap files# can&apos;t be shared by different Redis instances, so make sure to use a swap# file for every redis process you are running. Redis will complain if the# swap file is already in use.## Redis交换文件最好的存储是SSD（固态硬盘）# 虚拟内存文件路径，默认值为/tmp/redis.swap，不可多个Redis实例共享# *** WARNING *** if you are using a shared hosting the default of putting# the swap file under /tmp is not secure. Create a dir with access granted# only to Redis user and configure Redis to create the swap file there.# vm-swap-file /tmp/redis.swap# With vm-max-memory 0 the system will swap everything it can. Not a good# default, just specify the max amount of RAM you can in bytes, but it&apos;s# better to leave some margin. For instance specify an amount of RAM# that&apos;s more or less between 60 and 80% of your free RAM.# 将所有大于vm-max-memory的数据存入虚拟内存，无论vm-max-memory设置多少，所有索引数据都是内存存储的（Redis的索引数据就是keys）# 也就是说当vm-max-memory设置为0的时候，其实是所有value都存在于磁盘。默认值为0# vm-max-memory 0# Redis swap文件分成了很多的page，一个对象可以保存在多个page上面，但一个page上不能被多个对象共享，vm-page-size是要根据存储的数据大小来设定的。# 建议如果存储很多小对象，page大小最后设置为32或64bytes；如果存储很大的对象，则可以使用更大的page，如果不确定，就使用默认值# vm-page-size 32# 设置swap文件中的page数量由于页表（一种表示页面空闲或使用的bitmap）是存放在内存中的，在磁盘上每8个pages将消耗1byte的内存# swap空间总容量为 vm-page-size * vm-pages## With the default of 32-bytes memory pages and 134217728 pages Redis will# use a 4 GB swap file, that will use 16 MB of RAM for the page table.## It&apos;s better to use the smallest acceptable value for your application,# but the default is large in order to work in most conditions.# vm-pages 134217728# Max number of VM I/O threads running at the same time.# This threads are used to read/write data from/to swap file, since they# also encode and decode objects from disk to memory or the reverse, a bigger# number of threads can help with big objects even if they can&apos;t help with# I/O itself as the physical device may not be able to couple with many# reads/writes operations at the same time.# 设置访问swap文件的I/O线程数，最后不要超过机器的核数，如果设置为0，那么所有对swap文件的操作都是串行的，可能会造成比较长时间的延迟，默认值为4# vm-max-threads 4############################### ADVANCED CONFIG ################################ Hashes are encoded in a special way (much more memory efficient) when they# have at max a given numer of elements, and the biggest element does not# exceed a given threshold. You can configure this limits with the following# configuration directives.# 指定在超过一定的数量或者最大的元素超过某一临界值时，采用一种特殊的哈希算法# hash-max-zipmap-entries 512# hash-max-zipmap-value 64# Similarly to hashes, small lists are also encoded in a special way in order# to save a lot of space. The special representation is only used when# you are under the following limits:# list-max-ziplist-entries 512# list-max-ziplist-value 64# Sets have a special encoding in just one case: when a set is composed# of just strings that happens to be integers in radix 10 in the range# of 64 bit signed integers.# The following configuration setting sets the limit in the size of the# set in order to use this special memory saving encoding.set-max-intset-entries 512# Similarly to hashes and lists, sorted sets are also specially encoded in# order to save a lot of space. This encoding is only used when the length and# elements of a sorted set are below the following limits:# zset-max-ziplist-entries 128# zset-max-ziplist-value 64# Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in# order to help rehashing the main Redis hash table (the one mapping top-level# keys to values). The hash table implementation redis uses (see dict.c)# performs a lazy rehashing: the more operation you run into an hash table# that is rhashing, the more rehashing &quot;steps&quot; are performed, so if the# server is idle the rehashing is never complete and some more memory is used# by the hash table.# # The default is to use this millisecond 10 times every second in order to# active rehashing the main dictionaries, freeing memory when possible.## If unsure:# use &quot;activerehashing no&quot; if you have hard latency requirements and it is# not a good thing in your environment that Redis can reply form time to time# to queries with 2 milliseconds delay.# 指定是否激活重置哈希，默认为开启activerehashing yes################################## INCLUDES #################################### 指定包含其他的配置文件，可以在同一主机上多个Redis实例之间使用同一份配置文件，而同时各实例又拥有自己的特定配置文件# include /path/to/local.conf# include /path/to/other.conf]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML 禁止缩放]]></title>
    <url>%2F2018%2F05%2F22%2Fnode%2Fnode-html_3%2F</url>
    <content type="text"><![CDATA[HTML 手机端显示禁止缩放 在HTML的HEAD中加入 1&lt;meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport" /&gt;]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacOS 安装与配置 Nginx]]></title>
    <url>%2F2018%2F05%2F22%2Fnode%2Fnode-nginx_2%2F</url>
    <content type="text"><![CDATA[MacOS 安装与配置 Nginx Nginx 安装brew install nginx Nginx 涉及到的路径 /usr/local/cellar/nginx/1.13.12 安装目录 /usr/local/etc/nginx 配置文件 /usr/local/var/log/nginx 日志文件 配置虚拟主机12345678910111213141516171819202122232425upstream www.yeslx.com &#123; server 127.0.0.1:8880;&#125;server &#123; listen 80; server_name 127.0.0.1 192.168.1.104 www.yeslx.com; charset utf-8; access_log /usr/local/var/log/nginx/access.log; error_log /usr/local/var/log/nginx/error.log; location / &#123; root /Users/smile/development/workspace/nginx/yslx_app; index index.php index.html index.htm; &#125; location ~ ^/(backstage)/ &#123; proxy_pass http://www.yeslx.com; proxy_set_header Host $host; &#125; location ~ ^/(proscenium)/ &#123; proxy_pass http://www.yeslx.com; proxy_set_header Host $host; &#125;&#125; Nginx 常用命令 nginx -t 测试配置是否正确 nginx -s reload 重新加载配置文件 nginx -s stop 立即停止服务 nginx -s quit 优雅的停止服务 nginx -s reopen 重新打开日志 Nginx 启动失败12345SmiledeMacBook-Pro:~ smile$ nginx nginx: [emerg] bind() to 0.0.0.0:80 failed (13: Permission denied)SmiledeMacBook-Pro:~ smile$ sudo nginxPassword:SmiledeMacBook-Pro:~ smile$]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript Image To Base64]]></title>
    <url>%2F2018%2F05%2F22%2Fnode%2Fjavascript%2Fnode-javascript_17%2F</url>
    <content type="text"><![CDATA[JavaScript Image To Base64 1234567891011121314151617181920212223242526272829303132&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;input type="file" name="file" id="file" value="" /&gt; &lt;input type="hidden" name="val" id="val" value="" /&gt; &lt;input type="button" name="button" id="button" value="Click..." /&gt; &lt;script type="text/javascript"&gt; document.getElementById("file").onchange = function() &#123; var reader = new FileReader(); var file = document.getElementById("file"); reader.readAsDataURL(file.files[0]); reader.onload = function() &#123; var base64=reader.result; document.getElementById("val").value = base64; console.log(base64); &#125; &#125; document.getElementById("button").onclick = function() &#123; alert(document.getElementById("val").value); &#125; &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Base64 转 图片]]></title>
    <url>%2F2018%2F05%2F21%2Fnode%2Fjava%2Fnode-j2se_03%2F</url>
    <content type="text"><![CDATA[Base64 转 图片 少废话, 直接看代码 12345678910111213141516171819202122232425public static boolean base64ToImage(String base64, String url) &#123; if (base64 == null || "".equals(base64)) &#123; // 图像数据为空 return false; &#125; BASE64Decoder decoder = new BASE64Decoder(); try &#123; // Base64解码 byte[] b = decoder.decodeBuffer(base64); for (int i = 0; i &lt; b.length; ++i) &#123; if (b[i] &lt; 0) &#123;// 调整异常数据 b[i] += 256; &#125; &#125; // 生成jpeg图片 String imgFilePath = url;// 新生成的图片 OutputStream out = new FileOutputStream(imgFilePath); out.write(b); out.flush(); out.close(); return true; &#125; catch (Exception e) &#123; e.printStackTrace(); return false; &#125;&#125; 注意: 前端传过来的数据中, 可能会携带图片的头信息data:image/jpeg;base64, ,要记得删掉]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Base64</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 中生成二维码]]></title>
    <url>%2F2018%2F05%2F07%2Farticle%2FSpringBoot%2Farticle-spring-boot_12%2F</url>
    <content type="text"><![CDATA[在Web应用中, 生成二维码 pom.xml中引入jar包依赖123456&lt;!-- QrCode --&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.binarywang&lt;/groupId&gt; &lt;artifactId&gt;qrcode-utils&lt;/artifactId&gt; &lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt; 生成二维码12345678910111213141516171819202122232425262728293031package pro.yuchen.demo.spring_demo.web;import com.github.binarywang.utils.qrcode.QrcodeUtils;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import javax.imageio.ImageIO;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.awt.image.BufferedImage;import java.io.ByteArrayInputStream;@RestControllerpublic class QrCodeController &#123; @RequestMapping("/qrcode/&#123;id&#125;") public void image(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; // 生成二维码图片 byte[] bytes = QrcodeUtils.createQrcode("嘿嘿....", 800, null); BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes)); //设置浏览器以图片格式输出 response.setContentType("image/jpeg"); //设置响应头控制浏览器不要缓存 response.setDateHeader("expries", -1); response.setHeader("Cache-Control", "no-cache"); response.setHeader("Pragma", "no-cache"); //将图片写给浏览器 ImageIO.write(image, "jpg", response.getOutputStream()); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>QrCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 发送Email]]></title>
    <url>%2F2018%2F04%2F22%2Farticle%2FSpringBoot%2Farticle-spring-boot_11%2F</url>
    <content type="text"><![CDATA[使用 SpringBoot 发送邮件 闲言少叙, 直接上代码 首先引入pom 依赖 12345&lt;!-- Mail --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;&lt;/dependency&gt; 然后就是功能代码了 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128package pro.yuchen.demo.spring_demo.mail;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.core.io.FileSystemResource;import org.springframework.mail.SimpleMailMessage;import org.springframework.mail.javamail.JavaMailSender;import org.springframework.mail.javamail.MimeMessageHelper;import org.springframework.stereotype.Component;import javax.mail.MessagingException;import javax.mail.internet.MimeMessage;import java.io.File;@Componentpublic class MailService &#123; private final Logger log = LoggerFactory.getLogger(this.getClass()); @Autowired private JavaMailSender sender; @Value("$&#123;config.mail.fromMail.addr&#125;") private String from; /** * 发送文本邮 * @param to 要发送的邮箱地址 * @param subject e-mail主题 * @param content e-mail内容 */ public void sendSimpleMail(String to, String subject, String content) &#123; SimpleMailMessage message = new SimpleMailMessage(); message.setFrom(from); message.setTo(to); message.setSubject(subject); message.setText(content); try &#123; sender.send(message); log.info("简单邮件已经发送。"); &#125; catch (Exception e) &#123; log.error("发送简单邮件时发生异常！", e); &#125; &#125; /** * 发送html邮件 * @param to 要发送的邮箱地址 * @param subject e-mail主题 * @param content e-mail内容 */ public void sendHtmlMail(String to, String subject, String content) &#123; MimeMessage message = sender.createMimeMessage(); try &#123; //true表示需要创建一个multipart message MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); sender.send(message); log.info("html邮件发送成功"); &#125; catch (MessagingException e) &#123; log.error("发送html邮件时发生异常！", e); &#125; &#125; /** * 发送带附件的邮件 * @param to 要发送的邮箱地址 * @param subject e-mail主题 * @param content e-mail内容 * @param filePath 附件路径 */ public void sendAttachmentsMail(String to, String subject, String content, String filePath) &#123; MimeMessage message = sender.createMimeMessage(); try &#123; MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); FileSystemResource file = new FileSystemResource(new File(filePath)); String fileName = filePath.substring(filePath.lastIndexOf(File.separator)); helper.addAttachment(fileName, file); sender.send(message); log.info("带附件的邮件已经发送。"); &#125; catch (MessagingException e) &#123; log.error("发送带附件的邮件时发生异常！", e); &#125; &#125; /** * 发送正文中有静态资源（图片）的邮件 * @param to 要发送的邮箱地址 * @param subject e-mail主题 * @param content e-mail内容 * @param rscPath 静态图片路径 * @param rscId 静态图片编号 */ public void sendInlineResourceMail(String to, String subject, String content, String rscPath, String rscId) &#123; MimeMessage message = sender.createMimeMessage(); try &#123; MimeMessageHelper helper = new MimeMessageHelper(message, true); helper.setFrom(from); helper.setTo(to); helper.setSubject(subject); helper.setText(content, true); FileSystemResource res = new FileSystemResource(new File(rscPath)); helper.addInline(rscId, res); sender.send(message); log.info("嵌入静态资源的邮件已经发送。"); &#125; catch (MessagingException e) &#123; log.error("发送嵌入静态资源的邮件时发生异常！", e); &#125; &#125;&#125; 测试: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657package pro.yuchen.demo.spring_demo.mail;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;Application.class&#125;)public class MailServiceTest &#123; @Autowired private MailService mailService; @Test public void testSimpleMail() throws Exception &#123; mailService.sendSimpleMail("yuchen352416@gmail.com", "Test", "hehehehehehehheheheh"); &#125; @Test public void testHtmlMail() throws Exception &#123; StringBuffer content = new StringBuffer(); content.append("&lt;html&gt;").append("\n"); content.append(" &lt;body&gt;").append("\n"); content.append(" &lt;h3&gt;Hello Mail....&lt;/h3&gt;").append("\n"); content.append(" &lt;/body&gt;").append("\n"); content.append("&lt;/html&gt;").append("\n"); mailService.sendHtmlMail("yuchen352416@gmail.com", "HTML Test", content.toString()); &#125; @Test public void testAttachmentsMail() &#123; StringBuffer content = new StringBuffer(); content.append("&lt;html&gt;").append("\n"); content.append(" &lt;body&gt;").append("\n"); content.append(" &lt;h3&gt;Hello Mail....&lt;/h3&gt;").append("\n"); content.append(" &lt;/body&gt;").append("\n"); content.append("&lt;/html&gt;").append("\n"); String filepath = "/Users/smile/Documents/notes/Journal.md"; mailService.sendAttachmentsMail("yuchen352416@gmail.com", "File Test", content.toString(), filepath); &#125; @Test public void testInlineResourceMail() &#123; String rscId = "neo006"; String content="&lt;html&gt;&lt;body&gt;这是有图片的邮件：&lt;img src=\'cid:" + rscId + "\' &gt;&lt;/body&gt;&lt;/html&gt;"; String imgPath = "/Users/smile/Pictures/Wechat.jpeg"; mailService.sendInlineResourceMail("yuchen352416@gmail.com", "File Test", content, imgPath, rscId); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginx 安装与配置]]></title>
    <url>%2F2018%2F04%2F17%2Fnode%2Fnode-nginx_1%2F</url>
    <content type="text"><![CDATA[Nginx 安装与配置 Nginx 安装yum install nginx -y 查看 Nginx 安装路径ps -ef | grep nginx 配置文件 /etc/nginx/nginx.conf /etc/nginx/conf.d/*.conf 配置默认根目录跳转8083端口12345678910server &#123; listen 80; server_name localhost; location / &#123; proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $http_host; proxy_pass http://127.0.0.1:8083; &#125;&#125; 配置指定路径跳转8090端口1234567891011121314upstream wechat &#123; server 127.0.0.1:8090; keepalive 2000;&#125;server &#123; listen 80; server_name localhost; location /wechat/ &#123; proxy_pass http://wechat/; proxy_set_header Host $host:$server_port; &#125;&#125;]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker 安装 MySQL容器]]></title>
    <url>%2F2018%2F03%2F31%2Fnode%2Flinux%2Fnode-docker_02%2F</url>
    <content type="text"><![CDATA[Docker 安装 MySQL容器 1. 下载 MySQL镜像 docker pull mysql/mysql-server 2. 启动容器 docker run -p 3306:3306 --name=mysql -d mysql/mysql-server 3. 查看MySQL默认密码 docker logs mysql 4. 登录后修改密码 set password = password(&#39;123456&#39;); 5. 解决一下远程登录的问题 update user set host = &#39;%&#39; where user = &#39;root&#39;; 6. 安装MySQL8.01docker run -p 33060:3306 --name mysql0 -e MYSQL_ROOT_PASSWORD=docker.mysql0.root -d mysql:8.0 --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot RabbitMQ]]></title>
    <url>%2F2018%2F03%2F22%2Farticle%2FSpringBoot%2Farticle-spring-boot_10%2F</url>
    <content type="text"><![CDATA[SpringBoot 中使用 消息队列 RabbitMQ 即一个消息队列，主要是用来实现应用程序的异步和解耦，同时也能起到消息缓冲，消息分发的作用。 1. 安装RabbitMQ1.1. 下载 RabbitMQ 的Docker镜像docker pull frodenas/rabbitmq 1.2. 启动镜像docker run -d --name rabbitmq -p 5672:5672 -p 15672:15672 -e RABBITMQ_USERNAME=admin -e RABBITMQ_PASSWORD=admin frodenas/rabbitmq 1.3. 其他详细配置 https://hub.docker.com/r/frodenas/rabbitmq/ 2. 添加pom.xml依赖, 以及基本配置2.1. 添加pom.xml依赖1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;&lt;/dependency&gt; 2.2 application.yml 基本配置123456spring: rabbitmq: host: 127.0.0.1 port: 5672 username: admin password: admin 3. 交换机(Exchange)3.1. Topic ExchangeTopic Exchange 转发消息主要是根据通配符。 在这种交换机下，队列和交换机的绑定会定义一种路由模式，那么，通配符就要在这种路由模式和路由键之间匹配后交换机才能转发消息。 在这种交换机模式下： 路由键(routing_key)必须是一串字符，用句号（.） 隔开，比如说 message.user.jack，或者 message.user.jude 等。 路由模式下的消息匹配: 如果ServerA只想接收发给jude的消息, 就可以匹配 message.user.jude, 而ServerB想要接收发给所有用户的消息, 就可以匹配 message.user.*, 现在有ServerC 要接收所有消息, 就可以匹配message.# topic 和 direct 类似, 只是匹配上支持了”模式”, 在”点分”的 routing_key 形式中, 可以使用两个通配符: *表示一个词. #表示零个或多个词. 3.2. Fanout ExchangeFanout Exchange 消息广播的模式，不管路由键或者是路由模式，会把消息发给绑定给它的全部队列，如果配置了routing_key会被忽略。 4. SpringBoot中使用RabbitMQ4.1. 使用 Topic(主题) TopicRabbitConfig 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.core.Binding;import org.springframework.amqp.core.BindingBuilder;import org.springframework.amqp.core.Queue;import org.springframework.amqp.core.TopicExchange;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configurationpublic class TopicRabbitConfig &#123; public final static String exchange = "messages"; public final static String mysql = "message.disk.mysql"; public final static String hbase = "message.disk.hbase"; @Bean public Queue queueMySQL() &#123; return new Queue("mysql"); &#125; @Bean public Queue queueHBase() &#123; return new Queue("hbase"); &#125; @Bean public Queue queueDisk() &#123; return new Queue("disk"); &#125; @Bean TopicExchange exchange() &#123; return new TopicExchange(TopicRabbitConfig.exchange, true, true); &#125; @Bean Binding bindingExchangeMySQL(Queue queueMySQL, TopicExchange exchange) &#123; return BindingBuilder.bind(queueMySQL).to(exchange).with(TopicRabbitConfig.mysql); &#125; @Bean Binding bindingExchangeHBase(Queue queueHBase, TopicExchange exchange) &#123; return BindingBuilder.bind(queueHBase).to(exchange).with(TopicRabbitConfig.hbase); &#125; @Bean Binding bindingExchangeDisk(Queue queueDisk, TopicExchange exchange) &#123; return BindingBuilder.bind(queueDisk).to(exchange).with("message.disk.#"); &#125;&#125; TopicSender 12345678910111213141516171819202122package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.core.AmqpTemplate;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;@Componentpublic class TopicSender &#123; @Autowired private AmqpTemplate rabbitTemplate; /** * 发送消息 * @param routingKey 路由key * @param context 消息内容 */ public void send(String routingKey, Object context) &#123; System.out.println("Sender : " + context); this.rabbitTemplate.convertAndSend(TopicRabbitConfig.exchange, routingKey, context); &#125;&#125; TopicReceiverQueuesDisk 123456789101112131415package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.rabbit.annotation.RabbitHandler;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Component;@Component@RabbitListener(queues = "disk")public class TopicReceiverQueuesDisk &#123; @RabbitHandler public void process(String message) &#123; System.out.println("Topic Disk : " + message); &#125;&#125; TopicReceiverQueuesHBase 123456789101112131415package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.rabbit.annotation.RabbitHandler;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Component;@Component@RabbitListener(queues = "hbase")public class TopicReceiverQueuesHBase &#123; @RabbitHandler public void process(String message) &#123; System.out.println("Topic HBase : " + message); &#125;&#125; TopicReceiverQueuesMySQL123456789101112131415package pro.yuchen.demo.spring_demo.mq.topic;import org.springframework.amqp.rabbit.annotation.RabbitHandler;import org.springframework.amqp.rabbit.annotation.RabbitListener;import org.springframework.stereotype.Component;@Component@RabbitListener(queues = "mysql")public class TopicReceiverQueuesMySQL &#123; @RabbitHandler public void process(String message) &#123; System.out.println("Topic MySQL : " + message); &#125;&#125; 一个队列, 可以绑定多个 Routing Key , 在开发过程中, 若修改了匹配关系(Routing Key), Spring 默认是增加一条Routing Key, 原来的Routing Key还会被保留. 所以这里一定要谨慎 4.2. 使用 Fanout(广播)]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>RabbitMQ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ProtoBuf 学习(一)]]></title>
    <url>%2F2018%2F03%2F20%2Fnode%2Fnode-protobuf_1%2F</url>
    <content type="text"><![CDATA[ProtoBuf 环境的安装与HelloWord 1. 安装 ProtoBuf brew install protobuf@2.5.0 2. 新建 person.proto 文件1234567891011121314151617181920212223242526272829syntax = "proto2";package tutorial;option java_package = "pro.yuchen.demo.spring_demo.proto";option java_outer_classname = "AddressBookProtos";message Person &#123; required string name = 1; // 非空属性 required int32 id = 2; // 非空属性 optional string email = 3; // 可空属性 enum PhoneType &#123; // 枚举类型 MOBILE = 0; HOME = 1; WORK = 2; &#125; message PhoneNumber &#123; // 子类(可多个, JSON表现为数组形式) required string number = 1; optional PhoneType type = 2 [default = HOME]; &#125; repeated PhoneNumber phones = 4;&#125;message AddressBook &#123; repeated Person people = 1;&#125; 3. 生成 Java源文件protoc --java_out . person.proto 4. 导入pom.xml依赖12345678910&lt;dependency&gt; &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt; &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt; &lt;version&gt;2.5.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.googlecode.protobuf-java-format&lt;/groupId&gt; &lt;artifactId&gt;protobuf-java-format&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt; ps: 将刚刚根据.proto生成的 java文件, 导入项目中 5. 测试123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124package pro.yuchen.demo.spring_demo.proto;import com.google.protobuf.ByteString;import com.google.protobuf.Descriptors;import com.google.protobuf.Descriptors.FieldDescriptor;import com.google.protobuf.Message;import com.googlecode.protobuf.format.JsonFormat;import org.junit.Test;import pro.yuchen.demo.spring_demo.proto.Protos.Person;import java.util.Iterator;import java.util.List;import java.util.Map;public class ProtoBufTest &#123; @Test public void testProtoBuf() throws Exception &#123; Person person = Person.newBuilder() .setId(1) .setName("Tom") .setEmail("yuchen352416@163.com") .addPhones(Person.PhoneNumber.newBuilder() .setNumber("18733775865") .setType(Person.PhoneType.MOBILE)) .build(); // ProtoBuf -&gt; JSON String jsonFormat = JsonFormat.printToString(person); System.out.println(jsonFormat); // JSON -&gt; ProtoBuf String json = "&#123;\"name\": \"Tom\", \"id\": 1, \"email\": \"yuchen352416@163.com\", \"phones\": [&#123;\"number\": \"18733775865\", \"type\": 1 &#125;, &#123;\"number\": \"13463170232\", \"type\": 0 &#125; ] &#125;"; Message.Builder message = Person.newBuilder(); JsonFormat.merge(json, message); System.out.println(message.build()); byte[] bytes = person.toByteArray(); // 序列化 Person result = Person.parseFrom(bytes); // 反序列化 // 遍历输出 for (Iterator&lt;Map.Entry&lt;FieldDescriptor, Object&gt;&gt; iter = result.getAllFields().entrySet().iterator(); iter.hasNext();) &#123; Map.Entry&lt;FieldDescriptor, Object&gt; field = iter.next(); System.out.println("Number: " + field.getKey().getNumber()); System.out.println("Type: " + field.getKey().getType()); System.out.println("Name: " + field.getKey().getName()); System.out.println("FullName: " + field.getKey().getFullName()); System.out.println("FileName: " + field.getKey().getFile().getName()); printFieldValue(field); System.out.println("-------------------------------------------"); System.out.println(); &#125; &#125; private void printFieldValue(Map.Entry&lt;FieldDescriptor, Object&gt; field) &#123; switch (field.getKey().getType())&#123; case INT32: case INT64: case SINT32: case SINT64: case SFIXED32: case SFIXED64: case FLOAT: case DOUBLE: case BOOL: // Good old toString() does what we want for these types. System.out.println("Value: " + field.getValue().toString()); break; case UINT32: case FIXED32: System.out.println("Value: " + (Integer) field.getValue()); break; case UINT64: case FIXED64: System.out.println("Value: " + (Long) field.getValue()); break; case STRING: &#123; System.out.println("Value: " + (String) field.getValue()); break; &#125; case BYTES: &#123; System.out.println("Value: " + (ByteString) field.getValue()); break; &#125; case ENUM: &#123; System.out.println("Value: " + ((Descriptors.EnumValueDescriptor) field.getValue()).getName()); break; &#125; case MESSAGE: case GROUP: System.out.println("Size: " + ((List&lt;?&gt;) field.getValue()).size()); System.out.println("Value: ["); List&lt;?&gt; list = (List&lt;?&gt;) field.getValue(); for (Object o : list) &#123; Message message = (Message) o; for (Iterator&lt;Map.Entry&lt;FieldDescriptor, Object&gt;&gt; iters = message.getAllFields().entrySet().iterator(); iters.hasNext();) &#123; Map.Entry&lt;FieldDescriptor, Object&gt; iter = iters.next(); System.out.println("\t-----Number: " + iter.getKey().getNumber()); System.out.println("\t-----Type: " + iter.getKey().getType()); System.out.println("\t-----Name: " + iter.getKey().getName()); System.out.println("\t-----FullName: " + iter.getKey().getFullName()); System.out.println("\t-----FileName: " + iter.getKey().getFile().getName()); System.out.print("\t-----"); printFieldValue(iter); System.out.println("\t--------------------------------------------"); &#125; System.out.println(); &#125; System.out.println("]"); break; &#125; &#125;&#125; 输出结果: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&#123;&quot;name&quot;: &quot;Tom&quot;,&quot;id&quot;: 1,&quot;email&quot;: &quot;yuchen352416@163.com&quot;,&quot;phones&quot;: [&#123;&quot;number&quot;: &quot;18733775865&quot;,&quot;type&quot;: &quot;MOBILE&quot;&#125;]&#125;name: &quot;Tom&quot;id: 1email: &quot;yuchen352416@163.com&quot;phones &#123; number: &quot;18733775865&quot; type: HOME&#125;phones &#123; number: &quot;13463170232&quot; type: MOBILE&#125;Number: 1Type: STRINGName: nameFullName: Person.nameFileName: person.protoValue: Tom-------------------------------------------Number: 2Type: INT32Name: idFullName: Person.idFileName: person.protoValue: 1-------------------------------------------Number: 3Type: STRINGName: emailFullName: Person.emailFileName: person.protoValue: yuchen352416@163.com-------------------------------------------Number: 4Type: MESSAGEName: phonesFullName: Person.phonesFileName: person.protoSize: 1Value: [ -----Number: 1 -----Type: STRING -----Name: number -----FullName: Person.PhoneNumber.number -----FileName: person.proto -----Value: 18733775865 -------------------------------------------- -----Number: 2 -----Type: ENUM -----Name: type -----FullName: Person.PhoneNumber.type -----FileName: person.proto -----Value: MOBILE --------------------------------------------]-------------------------------------------]]></content>
      <categories>
        <category>ProtoBuf</category>
      </categories>
      <tags>
        <tag>ProtoBuf</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Hibernate]]></title>
    <url>%2F2018%2F03%2F20%2Farticle%2FSpringBoot%2Farticle-spring-boot_09%2F</url>
    <content type="text"><![CDATA[SpringBoot 中使用 Hibernate操作数据库 1. 添加pom.xml依赖12345678&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;/dependency&gt; 2. 修改配置文件application.yml123456789101112spring: datasource: # 数据库连接参数 driverClassName: com.mysql.jdbc.Driver url: jdbc:mysql://localhost:3306/base_db?useUnicode=true&amp;characterEncoding=utf-8 username: root password: root jpa: database: MYSQL hibernate: ddl-auto: update dialect: org.hibernate.dialect.MySQL5InnoDBDialect show-sql: true 3. 新建表1234567891011121314USE base_db;CREATE TABLE BLOG ( id INT PRIMARY KEY AUTO_INCREMENT, title VARCHAR(30) NOT NULL, content VARCHAR(4000))ENGINE=InnoDB DEFAULT CHARSET=utf8;ALTER TABLE BLOG COMMENT = '博客表';CREATE TABLE COMMENT ( id BIGINT PRIMARY KEY AUTO_INCREMENT, content VARCHAR(4000), blog_id INT NOT NULL)ENGINE=InnoDB DEFAULT CHARSET=utf8;ALTER TABLE COMMENT COMMENT = '评论表'; 4. 添加Entity实体4.1. Blog 类123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263package pro.yuchen.demo.spring_demo.entity;import org.hibernate.annotations.Fetch;import org.hibernate.annotations.FetchMode;import java.io.Serializable;import java.util.List;import javax.persistence.*;@Entity@Table(name="blog")public class Blog implements Serializable &#123; @Id @GeneratedValue(strategy=GenerationType.AUTO) private Integer id; @Column private String title; @Column private String content; @OneToMany(targetEntity=Comment.class,cascade=CascadeType.ALL) @Fetch(FetchMode.JOIN) //updatable=false很关键，如果没有它，在级联删除的时候就会报错(反转的问题) @JoinColumn(name="blog_id",updatable=false) private List&lt;Comment&gt; comments; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getTitle() &#123; return title; &#125; public void setTitle(String title) &#123; this.title = title; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public List&lt;Comment&gt; getComments() &#123; return comments; &#125; public void setComments(List&lt;Comment&gt; comments) &#123; this.comments = comments; &#125;&#125; 4.2. Comment 类1234567891011121314151617181920212223242526272829303132333435363738394041424344package pro.yuchen.demo.spring_demo.entity;import javax.persistence.*;@Entity@Table(name="comment")public class Comment &#123; @Id @GeneratedValue(strategy= GenerationType.AUTO) private Integer id; @Column private String content; //多对一，@JoinColumn与@column类似，指定映射的数据库字段 @ManyToOne(targetEntity = Blog.class) @JoinColumn(name="blog_id",updatable=false) private Blog blog; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public Blog getBlog() &#123; return blog; &#125; public void setBlog(Blog blog) &#123; this.blog = blog; &#125;&#125; 附: “一对多”, “多对一” 关系, 是针对两个实体说的 5. 新建 JPA操作类5.1. Blog 操作类12345678package pro.yuchen.demo.spring_demo.dao;import org.springframework.data.jpa.repository.JpaRepository;import pro.yuchen.demo.spring_demo.entity.Blog;public interface BlogRepository extends JpaRepository&lt;Blog, Integer&gt; &#123;&#125; 5.2.Comment 操作类12345678package pro.yuchen.demo.spring_demo.dao;import org.springframework.data.jpa.repository.JpaRepository;import pro.yuchen.demo.spring_demo.entity.Comment;public interface CommentRepository extends JpaRepository&lt;Comment, Integer&gt; &#123;&#125; 6. 测试用例6.1. 测试 BlogRepository12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package pro.yuchen.demo.spring_demo.dao;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.data.domain.Sort;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.Blog;import pro.yuchen.demo.spring_demo.entity.Comment;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)@WebAppConfigurationpublic class BlogRepositoryTest &#123; @Autowired private BlogRepository repository; @Test public void insert() throws Exception &#123; Blog blog = new Blog(); String title = "TEST......."; blog.setTitle(title); blog.setContent("jjjjkkkkjjsfjseoijqksahbfgoyhujikldfghjklsdfgesdrtfgzxrdcfvgbnazesxdcfvgbhnjklaWzesxdcfvgbhjklazsdfghjkazesxdcfghj"); repository.save(blog); &#125; @Test public void delete() &#123; repository.delete(10); &#125; @Test public void update() &#123; Blog blog = repository.findOne(12); blog.setTitle("花一样的人生...."); repository.save(blog); System.out.println(repository.findOne(12).getTitle()); &#125; @Test public void findOne() &#123; Blog result = repository.findOne(45); System.out.println(result.getTitle()); for (Comment comment:result.getComments()) &#123; System.out.println(comment.getContent()); &#125; &#125; @Test public void findAllByPage() &#123; Sort sort = new Sort(Sort.Direction.DESC, "title"); Pageable pageable = new PageRequest(1,10, sort); Page&lt;Blog&gt; list = repository.findAll(pageable); for (Blog blog : list) &#123; System.out.println(blog.getTitle()); &#125; &#125;&#125; 6.2 测试 CommentRepository123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566package pro.yuchen.demo.spring_demo.dao;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.domain.Page;import org.springframework.data.domain.PageRequest;import org.springframework.data.domain.Pageable;import org.springframework.data.domain.Sort;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.Blog;import pro.yuchen.demo.spring_demo.entity.Comment;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;Application.class&#125;)public class CommentRepositoryTest &#123; @Autowired private CommentRepository repository; @Test public void insert() &#123; Blog blog = new Blog(); for (int i = 30; i &lt; 100; i++) &#123; blog.setId(i); for(int j = 0; j &lt; 10; j++) &#123; Comment comment = new Comment(); comment.setBlog(blog); comment.setContent("评论...." + j); repository.save(comment); &#125; &#125; &#125; @Test public void delete() &#123; repository.delete(23); &#125; @Test public void update() &#123; Comment comment = repository.findOne(10); comment.setContent("lll"); repository.save(comment); &#125; @Test public void findOne() &#123; Comment comment = repository.findOne(10); System.out.println(comment.getContent()); &#125; @Test public void findAllByPage() &#123; Sort sort = new Sort(Sort.Direction.ASC, "blog_id", "id"); Pageable pageable = new PageRequest(23,10, sort); Page&lt;Comment&gt; list = repository.findAll(pageable); for (Comment comment : list) &#123; System.out.println(comment.getContent() + " " + comment.getId()); &#125; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot AOP]]></title>
    <url>%2F2018%2F03%2F19%2Farticle%2FSpringBoot%2Farticle-spring-boot_08%2F</url>
    <content type="text"><![CDATA[SpringBoot 中使用 AOP 1. 添加pom.xml依赖1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;&lt;/dependency&gt; 2. 添加切片类1234567891011121314151617181920212223242526272829303132package pro.yuchen.demo.spring_demo.aop;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Pointcut;import org.aspectj.lang.reflect.MethodSignature;import org.springframework.stereotype.Component;/** * 通用AOP */@Aspect@Componentpublic class GlobalAspect &#123; public static final String GET = "execution(* pro.yuchen.demo.spring_demo.mapper.*.get(..))"; @Pointcut(GET) private void get() &#123; &#125; // 声明环绕通知 @Around("get()") public Object doAround(ProceedingJoinPoint pjp) throws Throwable &#123; long startTime = System.currentTimeMillis(); Object o = pjp.proceed(); MethodSignature signature = (MethodSignature) pjp.getSignature(); String methodName = signature.getDeclaringTypeName() + "." + signature.getName(); long endTime = System.currentTimeMillis(); System.out.println(endTime - startTime); return o; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot MyBatis]]></title>
    <url>%2F2018%2F03%2F18%2Farticle%2FSpringBoot%2Farticle-spring-boot_07%2F</url>
    <content type="text"><![CDATA[SpringBoot 与MyBatis 整合 1. 添加pom.xml依赖12345678910&lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt;&lt;/dependency&gt; 2. 修改配置文件123456spring: datasource: driverClassName: com.mysql.jdbc.Driver url: jdbc:mysql://localhost:3306/base_db?useUnicode=true&amp;characterEncoding=utf-8 username: root password: root 3. 新建实体以及Mapper类(注解方式)3.1. 实体12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package pro.yuchen.demo.spring_demo.entity;import java.io.Serializable;import java.util.Date;public class Visitor implements Serializable &#123; /** * 主键 */ private Integer id; /** * 名字 */ private String name; /** * 邮箱地址 */ private String email; /** * 状态标识 */ private Integer status; /** * 创建时间 */ private Date createTime; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email; &#125; public Integer getStatus() &#123; return status; &#125; public void setStatus(Integer status) &#123; this.status = status; &#125; public Date getCreateTime() &#123; return createTime; &#125; public void setCreateTime(Date createTime) &#123; this.createTime = createTime; &#125;&#125; 3.2. Mapper 类12345678910111213141516171819202122232425262728293031package pro.yuchen.demo.spring_demo.mapper;import org.apache.ibatis.annotations.*;import pro.yuchen.demo.spring_demo.entity.Visitor;import java.util.List;public interface VisitorMapper &#123; @Insert("INSERT INTO visitor(name, email, status, create_time) VALUES(#&#123;name&#125;, #&#123;email&#125;, #&#123;status&#125;, #&#123;createTime&#125;)") void insert(Visitor visitor); @Delete("DELETE FROM visitor WHERE id=#&#123;id&#125;") void delete(Integer id); @Update("UPDATE visitor SET name=#&#123;name&#125;, email=#&#123;email&#125;, status=#&#123;status&#125;, create_time=#&#123;createTime&#125; WHERE id=#&#123;id&#125;") void update(Visitor visitor); @Select("SELECT * FROM visitor") @Results(&#123; @Result(property = "createTime", column = "create_time") &#125;) List&lt;Visitor&gt; getAll(); // 注意这里的方法, 是不可以重载的 @Select("SELECT * FROM visitor WHERE id=#&#123;id&#125;") @Results(&#123; @Result(property = "createTime", column = "create_time") &#125;) Visitor get(Integer id);&#125; 3.3. 测试用例12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package pro.yuchen.demo.spring_demo.mapper;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.Visitor;import java.util.Date;import java.util.List;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)public class VisitorMapperTest &#123; @Autowired private VisitorMapper mapper; @Test public void insert() &#123; Visitor visitor = new Visitor(); visitor.setCreateTime(new Date()); visitor.setName("Ws"); visitor.setEmail("ws@163.com"); visitor.setStatus(1); mapper.insert(visitor); &#125; @Test public void delete() &#123; mapper.delete(8); &#125; @Test public void update() &#123; Visitor visitor = mapper.get(2); System.out.println(visitor.getName()); visitor.setName("Mr.Li"); mapper.update(visitor); &#125; @Test public void get() &#123; List&lt;Visitor&gt; list = mapper.getAll(); for (Visitor visitor : list) &#123; System.out.println(visitor.getName()); &#125; Visitor visitor = mapper.get(2); System.out.println(visitor.getName()); &#125;&#125; 4. 新建实体以及mapper.xml(xml方式)4.1. 修改application.yml配置文件1234# mybatis 配置文件路径mybatis: config-locations: classpath:mybatis/mybatis-config.xml mapper-locations: classpath:mybatis/mapper/*.xml 4.2. 实体12345678910111213141516171819202122232425262728293031323334353637383940package pro.yuchen.demo.spring_demo.entity;public class User &#123; private Integer id; private String name; private Integer age; private String city; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public String getCity() &#123; return city; &#125; public void setCity(String city) &#123; this.city = city; &#125;&#125; 4.3. 新建Mapper接口123456789101112131415161718package pro.yuchen.demo.spring_demo.mapper;import pro.yuchen.demo.spring_demo.entity.User;import java.util.List;public interface UserMapper &#123; void insert(User user); void delete(Integer id); void update(User user); List&lt;User&gt; getAll(); // 注意这里的方法, 是不可以重载的 User get(Integer id);&#125; 4.4. 新建 user-mapper.xml文件1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;&lt;mapper namespace="pro.yuchen.demo.spring_demo.mapper.UserMapper"&gt; &lt;resultMap id="BaseResultMap" type="pro.yuchen.demo.spring_demo.entity.User" &gt; &lt;id column="id" property="id" jdbcType="BIGINT" /&gt; &lt;result column="name" property="name" jdbcType="VARCHAR" /&gt; &lt;result column="age" property="age" jdbcType="BIGINT" /&gt; &lt;result column="city" property="city" jdbcType="VARCHAR" /&gt; &lt;/resultMap&gt; &lt;sql id="Base_Column_List" &gt; id, name, age, city &lt;/sql&gt; &lt;insert id="insert" parameterType="pro.yuchen.demo.spring_demo.entity.User"&gt; INSERT INTO user(name, age, city) values(#&#123;name&#125;, #&#123;age&#125;, #&#123;city&#125;) &lt;/insert&gt; &lt;delete id="delete" parameterType="Integer"&gt; DELETE FROM user WHERE id =#&#123;id&#125; &lt;/delete&gt; &lt;update id="update" parameterType="pro.yuchen.demo.spring_demo.entity.User"&gt; UPDATE user SET &lt;if test="name != null"&gt;name = #&#123;name&#125;,&lt;/if&gt; &lt;if test="age &gt;= 0"&gt;age = #&#123;age&#125;,&lt;/if&gt; city = #&#123;city&#125; WHERE id = #&#123;id&#125; &lt;/update&gt; &lt;select id="getAll" resultMap="BaseResultMap" &gt; SELECT &lt;include refid="Base_Column_List" /&gt; FROM user &lt;/select&gt; &lt;select id="get" parameterType="Integer" resultMap="BaseResultMap" &gt; SELECT &lt;include refid="Base_Column_List" /&gt; FROM user WHERE id = #&#123;id&#125; &lt;/select&gt; &lt;/mapper&gt; 4.5. 测试用例12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package pro.yuchen.demo.spring_demo.mapper;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import pro.yuchen.demo.spring_demo.Application;import pro.yuchen.demo.spring_demo.entity.User;import pro.yuchen.demo.spring_demo.entity.Visitor;import java.util.Date;import java.util.List;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)public class UserMapperTest &#123; @Autowired private UserMapper mapper; @Test public void insert() &#123; User user = new User(); user.setAge(20); user.setName("mmw"); user.setCity("dd"); mapper.insert(user); &#125; @Test public void delete() &#123; mapper.delete(1); &#125; @Test public void update() &#123; User user = mapper.get(2); System.out.println(user.getName()); user.setName("Mr.Li"); mapper.update(user); &#125; @Test public void get() &#123; List&lt;User&gt; list = mapper.getAll(); for (User user : list) &#123; System.out.println(user.getName()); &#125; User user = mapper.get(2); System.out.println(user.getName()); &#125;&#125; 5. 面试中遇到过的问题5.1 resultType 与 resultMap 的区别用select查询时返回值的类型可以为resultType和resultMap两种类型. resultType表示返回类型，映射成我们的model对象中的实体， resultMap需要提前定义好数据库db和model实体类对应关系，然后在引用定义好的外部resultMap resultMap和resultType是不能同时存在的 5.2 # 与 $ 的区别动态 SQL 是 mybatis 的强大特性之一，也是它优于其他 ORM 框架的一个重要原因。mybatis 在对 sql 语句进行预编译之前，会对 sql 进行动态解析，解析为一个 BoundSql 对象，也是在此处对动态 SQL 进行处理的。 在动态 SQL 解析阶段， #{ } 和 ${ } 会有不同的表现： #{ } 解析为一个 JDBC 预编译语句（prepared statement）的参数标记符。 例如，sqlMap 中如下的 sql 语句 1select * from user where name = #&#123;name&#125;; 解析为： 1select * from user where name = ?; 一个 #{ } 被解析为一个参数占位符 ? 。 ${ } 仅仅为一个纯碎的 string 替换，在动态 SQL 解析阶段将会进行变量替换 例如，sqlMap 中如下的 sql 1select * from user where name = &apos;$&#123;name&#125;&apos;; 当我们传递的参数为 “ruhua” 时，上述 sql 的解析为： 1select * from user where name = &quot;ruhua&quot;; 预编译之前的 SQL 语句已经不包含变量 name 了。 附: JDBC Type Java Type CHAR String VARCHAR String LONGVARCHAR String NUMERIC java.math.BigDecimal DECIMAL java.math.BigDecimal BIT boolean BOOLEAN boolean TINYINT byte SMALLINT short INTEGER int BIGINT long REAL float FLOAT double DOUBLE double BINARY byte[] VARBINARY byte[] LONGVARBINARY byte[] DATE java.sql.Date TIME java.sql.Time TIMESTAMP java.sql.Timestamp CLOB Clob BLOB Blob ARRAY Array DISTINCT mapping of underlying type STRUCT Struct REF Ref DATALINK java.net.URL JAVA_OBJECT underlying Java class]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot IDEA中实现热部署]]></title>
    <url>%2F2018%2F03%2F17%2Farticle%2FSpringBoot%2Farticle-spring-boot_06%2F</url>
    <content type="text"><![CDATA[SpringBoot 在IDEA中实现热部署 1. 添加pom.xml依赖123456&lt;!-- 热部署 --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt; 2. 在 Maven 的构建插件中, 添加热部署插件12345678910&lt;!-- 热部署 --&gt;&lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;!--fork : 如果没有该项配置devtools不会起作用，即应用不会restart --&gt; &lt;fork&gt;true&lt;/fork&gt; &lt;addResources&gt;true&lt;/addResources&gt;&lt;!--支持静态文件热部署--&gt; &lt;/configuration&gt;&lt;/plugin&gt; 3. 设置IDEA3.1. Command + , –&gt; 查找 Compiler 3.2. Command + Shift + A –&gt; 查找make project automatically 3.3. Command + Shift + A –&gt; 查找 Registry –&gt; 找到并勾选compiler.automake.allow.when.app.running]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Redis]]></title>
    <url>%2F2018%2F03%2F15%2Farticle%2FSpringBoot%2Farticle-spring-boot_05%2F</url>
    <content type="text"><![CDATA[SpringBoot 对 Redis的基本操作 Redis一共支持5种数据类型，每种数据类型对应不同的数据结构，有简单的string、list、hash、set(字典)、zet(跳跃表)。跳跃表是比较新型的数据结构，常用于高性能的查找，可以达到log2N的查询速度，而且跳跃表相对于红黑树，在更新时变更的节点较少，更易于实现并发操作。 Redis提供了两种持久机制，包括RDB和AOF，前者是定时的持久机制，但在出现宕机时可能会出现数据丢失，后者是基于操作日志的持久机制。 1. 添加pom.xml依赖1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;&lt;/dependency&gt; 2. 添加配置信息1234567891011spring: redis: database: 0 # Redis数据库索引（默认为0） host: 127.0.0.1 # Redis服务器地址 port: 6379 # Redis服务器连接端口 password: # Redis服务器连接密码（默认为空） pool.max-active: 8 # 连接池最大连接数（使用负值表示没有限制） pool.max-wait: -1 # 连接池最大阻塞等待时间（使用负值表示没有限制） pool.max-idle: 8 # 连接池中的最大空闲连接 pool.min-idle: 0 # 连接池中的最小空闲连接 timeout: 0 # 连接超时时间（毫秒） 3. 新增RedisConfig类12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061package pro.yuchen.demo.spring_demo.redis;import com.fasterxml.jackson.annotation.JsonAutoDetect;import com.fasterxml.jackson.annotation.PropertyAccessor;import com.fasterxml.jackson.databind.ObjectMapper;import org.springframework.cache.CacheManager;import org.springframework.cache.annotation.CachingConfigurerSupport;import org.springframework.cache.annotation.EnableCaching;import org.springframework.cache.interceptor.KeyGenerator;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.data.redis.cache.RedisCacheManager;import org.springframework.data.redis.connection.RedisConnectionFactory;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;import java.lang.reflect.Method;@Configuration@EnableCachingpublic class RedisConfig extends CachingConfigurerSupport &#123; @Bean public KeyGenerator keyGenerator() &#123; return new KeyGenerator() &#123; @Override public Object generate(Object target, Method method, Object... params) &#123; StringBuilder sb = new StringBuilder(); sb.append(target.getClass().getName()); sb.append(method.getName()); for (Object obj : params) &#123; sb.append(obj.toString()); &#125; return sb.toString(); &#125; &#125;; &#125; @SuppressWarnings("rawtypes") @Bean public CacheManager cacheManager(RedisTemplate redisTemplate) &#123; RedisCacheManager rcm = new RedisCacheManager(redisTemplate); //设置缓存过期时间// rcm.setDefaultExpiration(60);//秒 return rcm; &#125; @Bean public RedisTemplate&lt;String, String&gt; redisTemplate(RedisConnectionFactory factory) &#123; StringRedisTemplate template = new StringRedisTemplate(factory); Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class); ObjectMapper om = new ObjectMapper(); om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY); om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL); jackson2JsonRedisSerializer.setObjectMapper(om); template.setValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; &#125;&#125; 4. 测试RedisTemplate12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970package pro.yuchen.demo.spring_demo.redis;import com.google.gson.Gson;import com.google.gson.GsonBuilder;import org.junit.Assert;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.data.redis.core.RedisTemplate;import org.springframework.data.redis.core.StringRedisTemplate;import org.springframework.data.redis.core.ValueOperations;import org.springframework.test.context.junit4.SpringRunner;import pro.yuchen.demo.spring_demo.entity.Book;import pro.yuchen.demo.spring_demo.entity.User;import java.util.Date;import java.util.concurrent.TimeUnit;@RunWith(SpringRunner.class)@SpringBootTestpublic class RedisTest &#123; @Autowired private StringRedisTemplate stringRedisTemplate; @Autowired private RedisTemplate redisTemplate; @Test public void test() throws Exception &#123; stringRedisTemplate.opsForValue().set("aaa", "张三"); Assert.assertEquals("张三", stringRedisTemplate.opsForValue().get("aaa")); &#125; @Test public void testObj() throws Exception &#123; User user=new User(); user.setName("tom"); user.setAge(10); user.setId(1L); User user1 = new User(); user1.setName("Jack"); user1.setAge(48); user1.setId(3L); Book book = new Book(); book.setDate(new Date()); book.setId(1); book.setName("hheehe"); book.setPress("aaa").setPress("bbb").setPress("ccc"); Gson gson = new GsonBuilder().setDateFormat("yyyy-MM-dd HH:mm:ss.SSS").create(); String book_json = gson.toJson(book); ValueOperations&lt;String, Object&gt; operations = redisTemplate.opsForValue(); operations.set("com.neox", user); operations.set("com.neo.f", user1); operations.set("book", book_json); Book book1 = gson.fromJson(operations.get("book").toString(), Book.class); operations.set("com.neo.f", user,99, TimeUnit.SECONDS); Thread.sleep(1000); redisTemplate.delete("com.neo.f"); boolean exists=redisTemplate.hasKey("com.neo.f"); if(exists)&#123; System.out.println("exists is true"); &#125;else&#123; System.out.println("exists is false"); &#125; // Assert.assertEquals("aa", operations.get("com.neo.f").getUserName()); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 统一处理错误]]></title>
    <url>%2F2018%2F03%2F13%2Farticle%2FSpringBoot%2Farticle-spring-boot_04%2F</url>
    <content type="text"><![CDATA[SpringBoot 统一处理错误信息 1. 定义公共异常类123456789101112131415161718192021222324252627282930313233343536373839404142434445package pro.yuchen.demo.spring_demo.pojo;/** * HTTP请求通用错误信息 */public class GlobalException extends Exception &#123; /** * 错误的状态码 */ private Integer code; /** * HTTP 错误信息 */ private String message; /** * HTTP 返回数据(JSON 格式) */ private String data; public GlobalException(Integer code, String message) &#123; super(message); this.code = code; &#125; public Integer getCode() &#123; return code; &#125; public void setCode(Integer code) &#123; this.code = code; &#125; public String getData() &#123; return data; &#125; public void setData(String data) &#123; this.data = data; &#125;&#125; 2. 定义页面异常类12345678910111213141516171819202122232425262728293031323334353637383940414243package pro.yuchen.demo.spring_demo.pojo;/** * 页面错误信息 */public class PageException extends Exception &#123; /** * 错误的状态码 */ private Integer code; /** * 错误信息 */ private String message; /** * 返回数据 */ private String data; public PageException(Integer code, String message) &#123; super(message); this.code = code; &#125; public Integer getCode() &#123; return code; &#125; public void setCode(Integer code) &#123; this.code = code; &#125; public String getData() &#123; return data; &#125; public void setData(String data) &#123; this.data = data; &#125;&#125; 3. 定义异常拦截类12345678910111213141516171819202122232425262728293031323334353637383940414243444546package pro.yuchen.demo.spring_demo.web;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.servlet.ModelAndView;import pro.yuchen.demo.spring_demo.entity.Book;import pro.yuchen.demo.spring_demo.pojo.GlobalException;import pro.yuchen.demo.spring_demo.pojo.PageException;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.util.*;@ControllerAdvicepublic class GlobalExceptionHandler &#123; private Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class); @ExceptionHandler(value = GlobalException.class) @ResponseBody public Map&lt;String, Object&gt; defaultErrorHandler(HttpServletResponse response, HttpServletRequest request, GlobalException e) throws Exception &#123; logger.error("", e); Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;(); result.put("code", e.getCode()); result.put("message", e.getMessage()); result.put("data", e.getData()); response.setStatus(e.getCode()); return result; // 返回 JSON &#125; @ExceptionHandler(value = &#123;PageException.class&#125;) public ModelAndView pageErrorHandler(PageException e) throws Exception &#123; logger.error("", e); ModelAndView m = new ModelAndView(); // 设置返回数据 m.addObject("code", e.getCode()); m.addObject("message", e.getMessage()); m.addObject("data", e.getData()); // 设置返回页面 m.setViewName("error/500"); return m; // 返回thymeleaf渲染的页面 &#125;&#125; 4. 新建Error页面1234567891011&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;title th:text="$&#123;code&#125;"&gt;&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;span th:text="$&#123;message&#125;"&gt;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt; 4.1. 新建error页面路径 5. 新建Web接口, 测试异常12345678910111213141516171819202122package pro.yuchen.demo.spring_demo.web;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import pro.yuchen.demo.spring_demo.pojo.GlobalException;import pro.yuchen.demo.spring_demo.pojo.PageException;@RestControllerpublic class ErrorController &#123; @RequestMapping("/error/&#123;id&#125;") public String error(@PathVariable Integer id) throws Exception &#123; if(id &lt; 20) &#123; throw new GlobalException(503, "测试......."); &#125; else if (id &gt; 50) &#123; throw new PageException(500, "测试页面"); &#125; return "error"; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot Thymeleaf]]></title>
    <url>%2F2018%2F03%2F10%2Farticle%2FSpringBoot%2Farticle-spring-boot_03%2F</url>
    <content type="text"><![CDATA[SpringBoot 使用 Thymeleaf 模板渲染页面 1. 引入pom文件1234&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt; 2. 修改配置文件(application.yml)1234567891011121314spring: # 模板配置 thymeleaf: # 这个开发配置为false，避免改了模板还要重启服务器 cache: false check-template-location: true content-type: text/html enabled: true encoding: utf-8 mode: HTML5 prefix: classpath:/templates/ suffix: .html excluded-view-names: template-resolver-order: 3. 新建静态页面(Thymeleaf渲染)12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt;&lt;html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"&gt;&lt;head&gt; &lt;title&gt;Thymeleaf Demo&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;变量表达式&lt;/h2&gt; &lt;span th:text="$&#123;book.name&#125;"&gt;&lt;/span&gt; &lt;h2&gt;选择(星号)表达式&lt;/h2&gt; &lt;div th:object="$&#123;book&#125;"&gt; ID: &lt;span th:text="*&#123;id&#125;"&gt;&lt;/span&gt;&lt;br/&gt; NAME: &lt;span th:text="*&#123;name&#125;"&gt;&lt;/span&gt;&lt;br/&gt; Date: &lt;span th:text="*&#123;#dates.format(date, 'yyyy-MM-dd HH:mm:ss.SSS')&#125;"&gt;&lt;/span&gt;&lt;br/&gt; Press:&lt;br/&gt; &lt;span th:each="p : *&#123;press&#125;"&gt; &lt;span th:text="$&#123;p&#125;"&gt;&lt;/span&gt;&lt;br/&gt; &lt;/span&gt; &lt;/div&gt; &lt;h2&gt;URL表达式&lt;/h2&gt; &lt;a href="main.html" th:href="@&#123;./404&#125;"&gt;URL-TEST&lt;/a&gt; &lt;a th:href="@&#123;/hello&#125;"&gt;hello&lt;/a&gt; &lt;h2&gt;常见的几种用法&lt;/h2&gt; &lt;h4&gt;1. 拼接字符串&lt;/h4&gt; &lt;span th:text="|Welcome to our application, $&#123;book.name&#125;!|"&gt;&lt;/span&gt; &lt;/body&gt;&lt;/html&gt; 4. 新建Web响应接口1234567891011121314151617181920212223package pro.yuchen.demo.spring_demo.thymeleaf;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;@Controller // 如果使用@RestController，页面只返回index这个字符串，这个注解等同于使用@ResponseBodypublic class ThymeleafController &#123; @RequestMapping(value = &#123;"/", "", "/index.html"&#125;) public String index(ModelMap m) &#123; // 加入一个属性，用来在模板中读取 Book book = new Book(); book.setId(1); book.setName("Java 编程思想"); book.setPress("Bruce").setPress("李述昱"); book.setDate(new Date()); m.put("book", book); m.put("url", "404.html"); // return模板文件的名称，对应src/main/resources/templates/index.html return "index"; &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis 初体验]]></title>
    <url>%2F2018%2F03%2F06%2Fnode%2Fdatabase%2Fredis%2Fnode-redis_1%2F</url>
    <content type="text"><![CDATA[MacOS 中安装并使用Redis 安装 用docker 拉取redis镜像文件 1docker pull redis 启动redis容器 1docker run --name redis -p 6379:6379 -d redis 启用持久化 1docker run --name redis -p 6379:6379 -d redis redis-server --appendonly yes 更详细的说明 1https://dev.aliyun.com/detail.html?spm=5176.1971733.2.19.OSaOMd&amp;repoId=1259 Redis 常用命令 启动|停止 Redis 服务 1redis-server start | stop 启动 Redis 客户端 1redis-cli 关闭 Redis 客户端 1redis-cli shutdown 写入数据 1set foo bar 读取数据 1get foo 查看所有keys 1keys * 查看前缀为”prefix_”的所有keys 1keys prefix_* 清除当前数据库的所有keys 1flushdb 清除所有数据库的所有keys 1flushall Java 操作 Redis​ 使用Maven管理jar包 1234567891011121314151617181920212223242526&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;pro.yuchen.demo&lt;/groupId&gt; &lt;artifactId&gt;RedisDemo&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.1.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-pool&lt;/groupId&gt; &lt;artifactId&gt;commons-pool&lt;/artifactId&gt; &lt;version&gt;1.5.4&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; ​ 这是一个简单的测试例子. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239package pro.yuchen.dome.dao;import java.util.ArrayList;import java.util.List;import redis.clients.jedis.Jedis;import redis.clients.jedis.JedisPool;import redis.clients.jedis.JedisPoolConfig;import redis.clients.jedis.JedisShardInfo;import redis.clients.jedis.ShardedJedis;import redis.clients.jedis.ShardedJedisPool;/** * redis的Java客户端Jedis测试验证 * * @author */public class Test &#123; /** * 非切片客户端链接 */ private Jedis jedis; /** * 非切片链接池 */ private JedisPool jedisPool; /** * 切片客户端链接 */ private ShardedJedis shardedJedis; /** * 切片链接池 */ private ShardedJedisPool shardedJedisPool; private String ip = "127.0.0.1"; /** * 构造函数 */ public Test() &#123; initialPool(); initialShardedPool(); shardedJedis = shardedJedisPool.getResource(); jedis = jedisPool.getResource(); &#125; private void initialPool() &#123; // 池基本配置 JedisPoolConfig config = new JedisPoolConfig(); config.setMaxActive(20); config.setMaxIdle(5); config.setMaxWait(-1); config.setTestOnBorrow(false); jedisPool = new JedisPool(config, ip, 6379); &#125; /** * 初始化切片池 */ private void initialShardedPool() &#123; // 池基本配置 JedisPoolConfig config = new JedisPoolConfig(); config.setMaxActive(20); config.setMaxIdle(5); config.setMaxWait(-1); config.setTestOnBorrow(false); // slave链接 List&lt;JedisShardInfo&gt; shards = new ArrayList&lt;JedisShardInfo&gt;(); shards.add(new JedisShardInfo(ip, 6379, "master")); // 构造池 shardedJedisPool = new ShardedJedisPool(config, shards); &#125; public void show() &#123; // key检测 testKey(); // string检测 testString(); // list检测 testList(); // set检测 testSet(); // sortedSet检测 testSortedSet(); // hash检测 testHash(); shardedJedisPool.returnResource(shardedJedis); &#125; private void testKey() &#123; System.out.println("=============key=========================="); // 清空数据 System.out.println(jedis.flushDB()); System.out.println(jedis.echo("foo")); // 判断key否存在 System.out.println(shardedJedis.exists("foo")); shardedJedis.set("key", "values"); System.out.println(shardedJedis.exists("key")); &#125; private void testString() &#123; System.out.println("=============String=========================="); // 清空数据 System.out.println(jedis.flushDB()); // 存储数据 shardedJedis.set("foo", "bar"); System.out.println(shardedJedis.get("foo")); // 若key不存在，则存储 shardedJedis.setnx("foo", "foo not exits"); System.out.println(shardedJedis.get("foo")); // 覆盖数据 shardedJedis.set("foo", "foo update"); System.out.println(shardedJedis.get("foo")); // 追加数据 shardedJedis.append("foo", " hello, world"); System.out.println(shardedJedis.get("foo")); // 设置key的有效期，并存储数据 shardedJedis.setex("foo", 2, "foo not exits"); System.out.println(shardedJedis.get("foo")); try &#123; Thread.sleep(3000); &#125; catch (InterruptedException e) &#123; &#125; System.out.println(shardedJedis.get("foo")); // 获取并更改数据 shardedJedis.set("foo", "foo update"); // 返回修改前的数据 System.out.println(shardedJedis.getSet("foo", "foo modify")); System.out.println(shardedJedis.get("foo")); // 截取value的值 System.out.println(shardedJedis.getrange("foo", 1, 3)); // 存储多组key-value System.out.println(jedis.mset("mset1", "mvalue1", "mset2", "mvalue2", "mset3", "mvalue3", "mset4", "mvalue4")); // 获取多个key的value, 返回数组 System.out.println(jedis.mget("mset1", "mset2", "mset3", "mset4")); // 删除多个key, 不存在的key, 不会报错, 返回删除数 System.out.println(jedis.del(new String[] &#123; "foo", "foo1", "foo3" &#125;)); &#125; private void testList() &#123; System.out.println("=============list=========================="); // 清空数据 System.out.println(jedis.flushDB()); // 添加数据 shardedJedis.lpush("lists", "23"); shardedJedis.lpush("lists", "77"); shardedJedis.lpush("lists", "58"); // 数组长度 System.out.println(shardedJedis.llen("lists")); // 排序 System.out.println(shardedJedis.sort("lists")); // List的字符串数组 System.out.println(shardedJedis.lrange("lists", 0, 3)); // 修改列表中单个值 shardedJedis.lset("lists", 0, "9"); // 获取列表指定下标的值 System.out.println(shardedJedis.lindex("lists", 1)); // 出栈列表指定数量的指定值, 返回实际出栈数量 System.out.println(shardedJedis.lrem("lists", 1, "58")); // 删除区间以外的数据 System.out.println(shardedJedis.ltrim("lists", 0, 2)); // 列表出栈(返回并删除列表中第一个元素) System.out.println(shardedJedis.lpop("lists")); // 整个列表值 System.out.println(shardedJedis.lrange("lists", 0, -1)); &#125; private void testSet() &#123; System.out.println("=============set=========================="); // 清空数据 System.out.println(jedis.flushDB()); // 添加数据 shardedJedis.sadd("sets", "HashSet"); shardedJedis.sadd("sets", "SortedSet"); shardedJedis.sadd("sets", "TreeSet"); // 判断value是否在列表中 System.out.println(shardedJedis.sismember("sets", "TreeSet")); // 整个列表值 System.out.println(shardedJedis.smembers("sets")); // 删除指定元素 System.out.println(shardedJedis.srem("sets", "SortedSet")); // 出栈 System.out.println(shardedJedis.spop("sets")); System.out.println(shardedJedis.smembers("sets")); shardedJedis.sadd("sets1", "HashSet1"); shardedJedis.sadd("sets1", "SortedSet1"); shardedJedis.sadd("sets1", "TreeSet"); shardedJedis.sadd("sets2", "HashSet2"); shardedJedis.sadd("sets2", "SortedSet1"); shardedJedis.sadd("sets2", "TreeSet1"); // 交集 System.out.println(jedis.sinter("sets1", "sets2")); // [SortedSet1] // 并集 System.out.println(jedis.sunion("sets1", "sets2")); // [HashSet2, HashSet1, TreeSet1, TreeSet, SortedSet1] // 差集 System.out.println(jedis.sdiff("sets1", "sets2")); // [TreeSet, HashSet1] &#125; private void testSortedSet() &#123; System.out.println("=============zset=========================="); // 清空数据 System.out.println(jedis.flushDB()); // 添加数据 shardedJedis.zadd("zset", 10.1, "hello"); shardedJedis.zadd("zset", 10.0, ":"); shardedJedis.zadd("zset", 9.0, "zset"); shardedJedis.zadd("zset", 11.0, "zset!"); // 元素个数 System.out.println(shardedJedis.zcard("zset")); // 元素下标 System.out.println(shardedJedis.zscore("zset", "zset")); // 集合子集 System.out.println(shardedJedis.zrange("zset", 0, -1)); // 删除元素 System.out.println(shardedJedis.zrem("zset", "zset!")); System.out.println(shardedJedis.zcount("zset", 9.5, 10.5)); // 整个集合值 System.out.println(shardedJedis.zrange("zset", 0, -1)); &#125; private void testHash() &#123; System.out.println("=============hash=========================="); // 清空数据 System.out.println(jedis.flushDB()); // 添加数据 shardedJedis.hset("hashs", "entryKey", "entryValue"); shardedJedis.hset("hashs", "entryKey1", "entryValue1"); shardedJedis.hset("hashs", "entryKey2", "entryValue2"); // 判断某个值是否存在 System.out.println(shardedJedis.hexists("hashs", "entryKey")); // 获取指定的值 System.out.println(shardedJedis.hget("hashs", "entryKey")); // 批量获取指定的值 System.out.println(shardedJedis.hmget("hashs", "entryKey", "entryKey1")); // 删除指定的值 System.out.println(shardedJedis.hdel("hashs", "entryKey")); // 为key中的域 field 的值加上增量 increment System.out.println(shardedJedis.hincrBy("hashs", "entryKey", 123l)); // 获取所有的keys System.out.println(shardedJedis.hkeys("hashs")); // 获取所有的values System.out.println(shardedJedis.hvals("hashs")); &#125; public static void main(String[] args) &#123; new Test().show(); &#125;&#125; 注: 所谓 切片 就是在分布式应用中使用的. Python 操作 Redis12]]></content>
      <categories>
        <category>Redis</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot 配置自定义属性与多环境开发]]></title>
    <url>%2F2018%2F03%2F05%2Farticle%2FSpringBoot%2Farticle-spring-boot_02%2F</url>
    <content type="text"><![CDATA[SpringBoot 中配置自定义属性, 与多环境开发. 自定义的配置属性这里我用的是 application.yml 文件. 123456config: user: name: Mr.Li age: 27 sex: 男 application: 單車 实体Bean通过 @ConfigurationProperties 配置注入的内容. 12345678910111213141516171819202122232425262728293031323334353637383940package pro.yuchen.demo.spring_demo.pojo;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.stereotype.Component;/** * 提供系统的一些配置信息 */@Component@ConfigurationProperties(prefix="config.user")public class ConfigBean &#123; private String name; private Integer age; private String sex; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public String getSex() &#123; return sex; &#125; public void setSex(String sex) &#123; this.sex = sex; &#125;&#125; 测试自动注入ConfigBean 123456789101112131415161718192021222324252627282930313233343536373839404142package pro.yuchen.demo.spring_demo;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.http.MediaType;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import org.springframework.test.web.servlet.MockMvc;import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;import org.springframework.test.web.servlet.setup.MockMvcBuilders;import pro.yuchen.demo.spring_demo.pojo.ConfigBean;import pro.yuchen.demo.spring_demo.web.HelloController;import static org.hamcrest.Matchers.equalTo;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)@WebAppConfigurationpublic class ApplicationTests &#123; @Autowired private ConfigBean config; @Value("$&#123;config.application&#125;") // 获取配置文件中的单独key private String application; @Test public void testConfigBean() &#123; System.out.println(config.getName()); System.out.println(config.getAge()); System.out.println(config.getSex()); System.out.println(application); &#125; &#125; 多环境开发很多时候, 在实际开发过程中, 我们的开发环境和线上的部署环境, 是有差异的. 让配置文件中属性的值, 随着编译环境的改变而改变, 就可以了. 在pom.xml文件中添加: 1234567891011121314151617181920&lt;profiles&gt; &lt;profile&gt; &lt;id&gt;dev&lt;/id&gt; &lt;properties&gt; &lt;config.key&gt;call&lt;/config.key&gt; &lt;config.value&gt;123456&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;profile&gt; &lt;id&gt;localhost&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;!-- 默认有效 --&gt; &lt;/activation&gt; &lt;properties&gt; &lt;config.key&gt;password&lt;/config.key&gt; &lt;config.value&gt;54321&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;/profiles&gt; 修改 application.yml 文件: 12345678config: user: name: Mr.Li age: 27 sex: 男 key: @config.key@ value: @config.value@ application: 單車 修改 ConfigBean 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package pro.yuchen.demo.spring_demo.pojo;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.stereotype.Component;/** * 提供系统的一些配置信息 */@Component@ConfigurationProperties(prefix="config.user")public class ConfigBean &#123; private String name; private Integer age; private String sex; private String key; private String value; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public Integer getAge() &#123; return age; &#125; public void setAge(Integer age) &#123; this.age = age; &#125; public String getSex() &#123; return sex; &#125; public void setSex(String sex) &#123; this.sex = sex; &#125; public String getKey() &#123; return key; &#125; public void setKey(String key) &#123; this.key = key; &#125; public String getValue() &#123; return value; &#125; public void setValue(String value) &#123; this.value = value; &#125;&#125; 修改测试用例: 1234567891011121314151617181920212223242526272829303132333435363738394041import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.http.MediaType;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import org.springframework.test.web.servlet.MockMvc;import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;import org.springframework.test.web.servlet.setup.MockMvcBuilders;import pro.yuchen.demo.spring_demo.pojo.ConfigBean;import pro.yuchen.demo.spring_demo.web.HelloController;import static org.hamcrest.Matchers.equalTo;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class, Application.class&#125;)@WebAppConfigurationpublic class ApplicationTests &#123; @Autowired private ConfigBean config; @Value("$&#123;config.application&#125;") // 获取配置文件中的单独key private String application; @Test public void testConfigBean() &#123; System.out.println(config.getName()); System.out.println(config.getAge()); System.out.println(config.getSex()); System.out.println(config.getKey()); // 默认输出 password System.out.println(config.getValue()); // 默认输出 54321 System.out.println(application); &#125; &#125; 使用 dev 分支进行编译 mvn clean install -P dev]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Boot HelloWorld以及单元测试]]></title>
    <url>%2F2018%2F02%2F25%2Farticle%2FSpringBoot%2Farticle-spring-boot_01%2F</url>
    <content type="text"><![CDATA[SpringBoot 的HelloWorld以及单元测试 pom.xml文件1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;pro.yuchen.deom&lt;/groupId&gt; &lt;artifactId&gt;spring-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;spring-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;!-- 引用父项目pom--&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.8.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;properties&gt; &lt;!-- 自定义属性 --&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;!-- Maven 构建插件 --&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 启动类12345678910111213package pro.yuchen.demo.spring_demo;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(Application.class, args); &#125;&#125; application.yml(配置文件)123# webserver: port: 8081 Controller(Web接口)1234567891011121314151617package pro.yuchen.demo.spring_demo.web;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Value;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;import pro.yuchen.demo.spring_demo.pojo.ConfigBean;@RestControllerpublic class HelloController &#123; @RequestMapping("/hello") public String hello() &#123; return "Hello World"; &#125;&#125; Web访问接口http://localhost:8081/hello TestController(测试Web接口)123456789101112131415161718192021222324252627282930313233343536import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import org.springframework.http.MediaType;import org.springframework.mock.web.MockServletContext;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.test.context.web.WebAppConfiguration;import org.springframework.test.web.servlet.MockMvc;import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;import org.springframework.test.web.servlet.setup.MockMvcBuilders;import pro.yuchen.demo.spring_demo.web.HelloController;import static org.hamcrest.Matchers.equalTo;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = &#123;MockServletContext.class&#125;)@WebAppConfigurationpublic class ApplicationTests &#123; private MockMvc mvc; @Before public void setup() throws Exception &#123; mvc = MockMvcBuilders.standaloneSetup(new HelloController()).build(); &#125; @Test public void testHello() throws Exception &#123; mvc.perform(MockMvcRequestBuilders.get("/hello").accept(MediaType.APPLICATION_JSON)) .andExpect(status().isOk()) .andExpect(content().string(equalTo("Hello World"))); &#125;&#125;]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTTP 中常用的状态码]]></title>
    <url>%2F2018%2F02%2F24%2Fnode%2Fnode-httpcode_1%2F</url>
    <content type="text"><![CDATA[HTTP 中常用的状态码 HTTP 中常用的状态码常见的状态码: HTTP: Status 200 – 服务器成功返回网页HTTP: Status 404 – 请求的网页不存在HTTP: Status 503 – 服务不可用 ### HTTP: Status 1xx (临时响应) 表示临时响应并需要请求者继续执行操作的状态代码。 详细代码及说明 : HTTP: Status 100 (继续) -&gt; 请求者应当继续提出请求。 服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。 HTTP: Status 101 (切换协议) -&gt; 请求者已要求服务器切换协议，服务器已确认并准备切换。 HTTP Status 2xx (成功) 表示成功处理了请求的状态代码。 详细代码及说明 : HTTP Status 200 (成功) -&gt; 服务器已成功处理了请求。 通常，这表示服务器提供了请求的网页。 HTTP Status 201 (已创建) -&gt; 请求成功并且服务器创建了新的资源。 HTTP Status 202 (已接受) -&gt; 服务器已接受请求，但尚未处理。 HTTP Status 203 (非授权信息) -&gt; 服务器已成功处理了请求，但返回的信息可能来自另一来源。 HTTP Status 204 (无内容) -&gt; 服务器成功处理了请求，但没有返回任何内容。 HTTP Status 205 (重置内容) -&gt; 服务器成功处理了请求，但没有返回任何内容。 HTTP Status 206 (部分内容) -&gt; 服务器成功处理了部分 GET 请求。 HTTP Status 4xx (请求错误) 这些状态代码表示请求可能出错，妨碍了服务器的处理。 详细代码说明 : HTTP Status 400 （错误请求） -&gt; 服务器不理解请求的语法。 HTTP Status 401 （未授权） -&gt; 请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。 HTTP Status 403 （禁止） -&gt; 服务器拒绝请求。 HTTP Status 404 （未找到） -&gt; 服务器找不到请求的网页。 HTTP Status 405 （方法禁用） -&gt; 禁用请求中指定的方法。 HTTP Status 406 （不接受） -&gt; 无法使用请求的内容特性响应请求的网页。 HTTP Status 407 （需要代理授权） -&gt; 此状态代码与 401（未授权）类似，但指定请求者应当授权使用代理。 HTTP Status 408 （请求超时） -&gt; 服务器等候请求时发生超时。 HTTP Status 409 （冲突） -&gt; 服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。 HTTP Status 410 （已删除） -&gt; 如果请求的资源已永久删除，服务器就会返回此响应。 HTTP Status 411 （需要有效长度） -&gt; 服务器不接受不含有效内容长度标头字段的请求。 HTTP Status 412 （未满足前提条件） -&gt; 服务器未满足请求者在请求中设置的其中一个前提条件。 HTTP Status 413 （请求实体过大） -&gt; 服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。 HTTP Status 414 （请求的 URI 过长） -&gt; 请求的 URI（通常为网址）过长，服务器无法处理。 HTTP Status 415 （不支持的媒体类型） -&gt; 请求的格式不受请求页面的支持。 HTTP Status 416 （请求范围不符合要求） -&gt; 如果页面无法提供请求的范围，则服务器会返回此状态代码。 HTTP Status 417 （未满足期望值） -&gt; 服务器未满足”期望”请求标头字段的要求。 HTTP Status 5xx （服务器错误） 这些状态代码表示服务器在尝试处理请求时发生内部错误。 这些错误可能是服务器本身的错误，而不是请求出错。 代码详细及说明 : HTTP Status 500 （服务器内部错误） -&gt; 服务器遇到错误，无法完成请求。 HTTP Status 501 （尚未实施） -&gt; 服务器不具备完成请求的功能。 例如，服务器无法识别请求方法时可能会返回此代码。 ####HTTP Status 502 （错误网关） -&gt; 服务器作为网关或代理，从上游服务器收到无效响应。 HTTP Status 503 （服务不可用） -&gt; 服务器目前无法使用（由于超载或停机维护）。 通常，这只是暂时状态。 HTTP Status 504 （网关超时） -&gt; 服务器作为网关或代理，但是没有及时从上游服务器收到请求。 HTTP Status 505 （HTTP 版本不受支持） -&gt; 服务器不支持请求中所用的 HTTP 协议版本。]]></content>
      <categories>
        <category>HTTP</category>
      </categories>
      <tags>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven 初体验]]></title>
    <url>%2F2018%2F02%2F23%2Fnode%2Fnode-maven_1%2F</url>
    <content type="text"><![CDATA[Maven 中常用的命令以及一些基础配置 Maven项目打包 mvn package 项目编译 mvn compile 编译测试程序 mvn test-compile 运行测试 mvn test 清理项目 mvn clean 生成站点目录 mvn site 生成站点目录并发布 mvn site-deploy 安装当前工程的输出文件到本地仓库 mvn install 根据pom中的配置信息将项目发布到远程仓库中 mvn clean deploy 跳过测试输出到本地仓库 mvn -Dmaven.test.skip=true clean install 打包本地工程并上传到远程仓库 mvn clean deploy 清理编译 mvn clean compile 清理测试 mvn clean test 清理打包 mvn clean package 使用Archetype生成项目骨架 mvn archetype:generate 选择配置参数, 构建Maven项目 1234567891011121314151617181920&lt;profiles&gt; &lt;profile&gt; &lt;id&gt;dev&lt;/id&gt; &lt;properties&gt; &lt;config.key&gt;call&lt;/config.key&gt; &lt;config.value&gt;123456&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;profile&gt; &lt;id&gt;localhost&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;/activation&gt; &lt;properties&gt; &lt;config.key&gt;password&lt;/config.key&gt; &lt;config.value&gt;654321&lt;/config.value&gt; &lt;/properties&gt; &lt;/profile&gt;&lt;/profiles&gt; mvn clean install -P dev 在 settings.xml 文件中, 配置远程仓库的访问权限 12345678910111213&lt;servers&gt; &lt;server&gt; &lt;id&gt;releases&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt; &lt;server&gt; &lt;id&gt;snapshots&lt;/id&gt; &lt;username&gt;admin&lt;/username&gt; &lt;password&gt;admin123&lt;/password&gt; &lt;/server&gt;&lt;/servers&gt; 我们需要配置POM的distributionManagement来指定Maven远程仓库的地址 1234567891011121314&lt;distributionManagement&gt; &lt;repository&gt; &lt;id&gt;releases&lt;/id&gt; &lt;name&gt;Nexus Release Repository&lt;/name&gt; &lt;url&gt;http://mvnlib.jk24h.cn:8081/nexus/content/repositories/releases&lt;/url&gt; &lt;/repository&gt; &lt;snapshotRepository&gt; &lt;id&gt;snapshots&lt;/id&gt; &lt;name&gt;Nexus Snapshot Repository&lt;/name&gt; &lt;url&gt;http://mvnlib.jk24h.cn:8081/nexus/content/repositories/snapshots&lt;/url&gt; &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt; &lt;/snapshotRepository&gt;&lt;/distributionManagement&gt;]]></content>
      <categories>
        <category>Maven</category>
      </categories>
      <tags>
        <tag>Maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git 初体验]]></title>
    <url>%2F2018%2F02%2F22%2Fnode%2Fnode-git_01%2F</url>
    <content type="text"><![CDATA[Git 中常用的命令以及一些基础配置 Git 常用的命令 下面是我整理的常用 Git 命令清单。几个专用名词的译名如下。 Workspace：工作区 Index / Stage：暂存区 Repository：仓库区（或本地仓库） Remote：远程仓库 一、新建代码库 在当前目录新建一个Git代码库 $ git init 新建一个目录，将其初始化为Git代码库 $ git init [project-name] 下载一个项目和它的整个代码历史 $ git clone [url] 二、配置Git的设置文件为.gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。 显示当前的Git配置 $ git config –list 编辑Git配置文件 $ git config -e [–global] 设置提交代码时的用户信息 $ git config [–global] user.name “[name]” $ git config [–global] user.email “[email address]” 三、增加/删除文件 添加指定文件到暂存区 $ git add [file1] [file2] … 添加指定目录到暂存区，包括子目录 $ git add [dir] 添加当前目录的所有文件到暂存区 $ git add . 添加每个变化前，都会要求确认 对于同一个文件的多处变化，可以实现分次提交 $ git add -p 删除工作区文件，并且将这次删除放入暂存区 $ git rm [file1] [file2] … 停止追踪指定文件，但该文件会保留在工作区 $ git rm –cached [file] 改名文件，并且将这个改名放入暂存区 $ git mv [file-original] [file-renamed] 四、代码提交 提交暂存区到仓库区 $ git commit -m [message] 提交暂存区的指定文件到仓库区 $ git commit [file1] [file2] … -m [message] 提交工作区自上次commit之后的变化，直接到仓库区 $ git commit -a 提交时显示所有diff信息 $ git commit -v 使用一次新的commit，替代上一次提交 如果代码没有任何新变化，则用来改写上一次commit的提交信息 $ git commit –amend -m [message] 重做上一次commit，并包括指定文件的新变化 $ git commit –amend [file1] [file2] … 五、分支 列出所有本地分支 $ git branch 列出所有远程分支 $ git branch -r 列出所有本地分支和远程分支 $ git branch -a 新建一个分支，但依然停留在当前分支 $ git branch [branch-name] 新建一个分支，并切换到该分支 $ git checkout -b [branch] 新建一个分支，指向指定commit $ git branch [branch] [commit] 新建一个分支，与指定的远程分支建立追踪关系 $ git branch –track [branch] [remote-branch] 切换到指定分支，并更新工作区 $ git checkout [branch-name] 切换到上一个分支 $ git checkout - 建立追踪关系，在现有分支与指定的远程分支之间 $ git branch –set-upstream [branch] [remote-branch] 合并指定分支到当前分支 $ git merge [branch] 选择一个commit，合并进当前分支 $ git cherry-pick [commit] 删除分支 $ git branch -d [branch-name] 删除远程分支 $ git push origin –delete [branch-name] $ git branch -dr [remote/branch] 六、标签 列出所有tag $ git tag 新建一个tag在当前commit $ git tag [tag] 新建一个tag在指定commit $ git tag [tag] [commit] 删除本地tag $ git tag -d [tag] 删除远程tag $ git push origin :refs/tags/[tagName] 查看tag信息 $ git show [tag] 提交指定tag $ git push [remote] [tag] 提交所有tag $ git push [remote] –tags 新建一个分支，指向某个tag $ git checkout -b [branch] [tag] 七、查看信息 显示有变更的文件 $ git status 显示当前分支的版本历史 $ git log 显示commit历史，以及每次commit发生变更的文件 $ git log –stat 搜索提交历史，根据关键词 $ git log -S [keyword] 显示某个commit之后的所有变动，每个commit占据一行 $ git log [tag] HEAD –pretty=format:%s 显示某个commit之后的所有变动，其”提交说明”必须符合搜索条件 $ git log [tag] HEAD –grep feature 显示某个文件的版本历史，包括文件改名 $ git log –follow [file] $ git whatchanged [file] 显示指定文件相关的每一次diff $ git log -p [file] 显示过去5次提交 $ git log -5 –pretty –oneline 显示所有提交过的用户，按提交次数排序 $ git shortlog -sn 显示指定文件是什么人在什么时间修改过 $ git blame [file] 显示暂存区和工作区的差异 $ git diff 显示暂存区和上一个commit的差异 $ git diff –cached [file] 显示工作区与当前分支最新commit之间的差异 $ git diff HEAD 显示两次提交之间的差异 $ git diff [first-branch]…[second-branch] 显示今天你写了多少行代码 $ git diff –shortstat “@{0 day ago}” 显示某次提交的元数据和内容变化 $ git show [commit] 显示某次提交发生变化的文件 $ git show –name-only [commit] 显示某次提交时，某个文件的内容 $ git show [commit]:[filename] 显示当前分支的最近几次提交 $ git reflog 八、远程同步 下载远程仓库的所有变动 $ git fetch [remote] 显示所有远程仓库 $ git remote -v 显示某个远程仓库的信息 $ git remote show [remote] 增加一个新的远程仓库，并命名 $ git remote add [shortname] [url] 取回远程仓库的变化，并与本地分支合并 $ git pull [remote] [branch] 上传本地指定分支到远程仓库 $ git push [remote] [branch] 强行推送当前分支到远程仓库，即使有冲突 $ git push [remote] –force 推送所有分支到远程仓库 $ git push [remote] –all 九、撤销 恢复暂存区的指定文件到工作区 $ git checkout [file] 恢复某个commit的指定文件到暂存区和工作区 $ git checkout [commit] [file] 恢复暂存区的所有文件到工作区 $ git checkout . 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变 $ git reset [file] 重置暂存区与工作区，与上一次commit保持一致 $ git reset –hard 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变 $ git reset [commit] 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致 $ git reset –hard [commit] 重置当前HEAD为指定commit，但保持暂存区和工作区不变 $ git reset –keep [commit] 新建一个commit，用来撤销指定commit 后者的所有变化都将被前者抵消，并且应用到当前分支 $ git revert [commit] 暂时将未提交的变化移除，稍后再移入 $ git stash $ git stash pop 十、其他 生成一个可供发布的压缩包 $ git archive 配置全局的过滤文件 $ git config --global core.excludesfile ~/development/workspace/.gitignore 123456*.classtarget/*.iml.settings/bin/.idea/]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker 笔记]]></title>
    <url>%2F2018%2F02%2F13%2Fnode%2Flinux%2Fnode-docker_01%2F</url>
    <content type="text"><![CDATA[Docker 日常使用命令 Docker 常用命令下载镜像 docker pull centos 查看镜像 docker images 删除镜像 docker rmi 备份镜像 docker commit -p 36b7b593a0e2 hbase-backup 36b7b593a0e2 为容器id, hbase-backup 为 备份名 备份镜像到文件 docker save -o ~/hbase-backup.tar hbase-backup 恢复镜像文件 docker load -i ~/Downloads/hbase-backup.tar 创建并启动交互型容器 docker run -ti –name=docker_centos centos:latest /bin/bash t: 告诉docker为容器建立一个命令行终端 i: 打开容器的标准输入 name: 指定容器名称，可以不填(随机)，建议根据具体使用功能命名，便于管理 /bin/bash:告诉docker要在容器里面执行此命令 创建并启动后台型容器 docker run –name linux -d centos /bin/bash -c “while true; do echo hello; sleep 1; done” d:使用-d参数，使容器在后台运行 c: 通过-c可以调整容器的CPU优先级 -c后的命令是循环，从而保持容器的运行 进入容器 docker exec -ti CentOS /bin/bash 退出容器 先按，ctrl+p; 再按，ctrl+q 平时进入HBase的命令 $ docker start hbase $ docker exec -ti hbase /bin/bash]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HBase 常用命令]]></title>
    <url>%2F2018%2F02%2F13%2Fnode%2Fdatabase%2Fhbase%2Fnode-hbase_2%2F</url>
    <content type="text"><![CDATA[HBase 日常使用命令 查看所在组 whoami 查看所在组中的表list 判断表是否存在exists &#39;lishuyu&#39; 将表设为失效状态disable &#39;lishuyu&#39; 判断表的状态is_enabled &#39;lishuyu&#39; 将表设为正常状态 enable &#39;lishuyu&#39; 删除表drop &#39;lishuyu&#39; 创建表(lishuyu –&gt; 表名, cluster1,cluster2 –&gt; 簇名, 没有具体的列名)create &#39;lishuyu&#39;,{NAME =&gt; &#39;cluster1&#39;, VERSIONS =&gt; 2},{NAME =&gt; &#39;cluster2&#39;, VERSIONS =&gt; 2} 查看表结构 describe &#39;lishuyu&#39; 插入数据(一次只可以插入一个单元格的值)put &#39;lishuyu&#39;,&#39;rowkey001&#39;,&#39;cluster1:col1&#39;,&#39;col1-value-001&#39; 查询数据(lishuyu –&gt; 表名, cluster2 –&gt; 簇名, col2 –&gt; 列名), 查询 rowkey001 行, cluster2 簇, col2 列 的数据get &#39;lishuyu&#39;,&#39;rowkey001&#39;, &#39;cluster2:col2&#39; 查询 rowkey001 行 的数据get &#39;lishuyu&#39;,&#39;rowkey001&#39; 扫描表scan &#39;lishuyu&#39;,{LIMIT=&gt;1}scan &#39;lishuyu&#39;, {COLUMNS=&#39;cluster2:col1&#39;, LIMIT = 1} 计算lishuyu表合计count &#39;lishuyu&#39; 显示RowKeycount &#39;lishuyu&#39;, {INTERVAL =&gt; 1, CACHE =&gt; 5} 删除表中单元格中的内容delete &#39;lishuyu&#39;,&#39;rowkey001&#39;,&#39;cluster2:col1&#39;]]></content>
      <categories>
        <category>HBase</category>
      </categories>
      <tags>
        <tag>HBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HBase 笔记]]></title>
    <url>%2F2018%2F02%2F12%2Fnode%2Fdatabase%2Fhbase%2Fnode-hbase_1%2F</url>
    <content type="text"><![CDATA[HBase 日常使用命令 HBase 初体验安装 HBasedocker pull harisekhon/hbase 创建HBase容器docker run -d --name=hbase -p 2181:2181 -p 8080:8080 -p 8085:8085 -p 9090:9090 -p 9095:9095 -p 16000:16000 -p 16010:16010 -p 16201:16201 -p 16301:16301 harisekhon/hbase 启动 HBase 服务docker start hbase 停止 HBase 服务docker stop hbase 启动 HBase 命令行docker exec -ti hbase /bin/bash 进入 shell hbase shell 退出 shell exit 建表 create ‘SCORE’, {NAME =&gt; ‘F’, VERSIONS =&gt; 1}, {NAME =&gt; ‘M’, VERSIONS =&gt; 1} 删除表 disable ‘SCORE’drop ‘SCORE’ 新增记录 put &#39;&lt;table&gt;&#39;, &#39;&lt;row_key&gt;&#39;, &#39;&lt;column_family:column_qualifier&gt;&#39;, &#39;&lt;cell_value&gt;&#39;, [&lt;timestamp&gt;] 例子 put ‘SCORE’, ‘row_key_1’, ‘M:1’, ‘1’ 删除单元格 delete &#39;&lt;table&gt;&#39;, &#39;&lt;row_key&gt;&#39;, &#39;&lt;column_family:column_qualifier&gt;&#39; [, &lt;timestamp&gt;] 例子 delete ‘SCORE’, ‘row_key_1’, ‘M:1’ 删除行 deleteall &#39;&lt;table&gt;&#39;, &#39;&lt;row_key&gt;&#39; [, &#39;&lt;column_family:column_qualifier&gt;&#39;, &lt;timestamp&gt;] 例子 deleteall ‘SCORE’, ‘row_key_1’ 清空表中数据 truncate &lt;table&gt; 例子 truncate ‘SCORE’ 扫描表 scan &lt;table&gt;, {COLUMNS =&gt; [ &lt;family:column&gt;,.... ], LIMIT =&gt; num} 例子 scan ‘SCORE’, {LIMIT=&gt;2} 查询某行记录 get &lt;table&gt;,&lt;rowkey&gt;,[&lt;family:column&gt;,....] 注: table 表 row_key 行 column_family 列簇 column_qualifier 列]]></content>
      <categories>
        <category>HBase</category>
      </categories>
      <tags>
        <tag>HBase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 操作XML]]></title>
    <url>%2F2018%2F01%2F25%2Farticle%2Fpython%2Farticle-python_12%2F</url>
    <content type="text"><![CDATA[Python 中的XML操作 Python XML操作XML（可扩展性标记语言）是一种非常常用的文件类型，主要用于存储和传输数据。在编程中，对XML的操作也非常常见。 XML格式首先，来看一下XML所包含的元素类型 标签 &lt;tag&gt; 属性 &lt;tag name=&quot;attribute&quot;&gt; 数据 &lt;data&gt;1&lt;data&gt; 例子1234567891011121314151617181920212223&lt;?xml version="1.0"?&gt;&lt;data&gt; &lt;country name="Liechtenstein"&gt; &lt;rank&gt;1&lt;/rank&gt; &lt;year&gt;2008&lt;/year&gt; &lt;gdppc&gt;141100&lt;/gdppc&gt; &lt;neighbor name="Austria" direction="E"/&gt; &lt;neighbor name="Switzerland" direction="W"/&gt; &lt;/country&gt; &lt;country name="Singapore"&gt; &lt;rank&gt;4&lt;/rank&gt; &lt;year&gt;2011&lt;/year&gt; &lt;gdppc&gt;59900&lt;/gdppc&gt; &lt;neighbor name="Malaysia" direction="N"/&gt; &lt;/country&gt; &lt;country name="Panama"&gt; &lt;rank&gt;68&lt;/rank&gt; &lt;year&gt;2011&lt;/year&gt; &lt;gdppc&gt;13600&lt;/gdppc&gt; &lt;neighbor name="Costa Rica" direction="W"/&gt; &lt;neighbor name="Colombia" direction="E"/&gt; &lt;/country&gt;&lt;/data&gt; Python操作XML123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228#!/usr/bin/env python3# -*- coding: utf-8 -*-import tracebackfrom xml.etree import ElementTree as etclass XMLUtils(object): def __init__(self, file_path): self.__path = file_path self.tree = None def read(self): ''' 读取并解析xml文件 return: True or False ''' try: tree = et.ElementTree() tree.parse(self.__path) self.tree = tree return True except Exception as e: print("读取XML失败...") # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def wite(self, path): """ 写入XML到文件 :param path: 文件的路径 :return: True or False """ try: self.tree.write(path, encoding="utf-8", xml_declaration=True) return True except Exception as e: print("写入XML失败...") # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def if_match(self, node, kv_map): """ 判断某个节点是否包含所有传入参数属性 :param node: 节点 :param kv_map: 属性及属性值组成的map :return: True or False """ for key in kv_map: if node.get(key) != kv_map.get(key): return False return True def find_nodes(self, path): """ 查找某个路径匹配的所有节点(注意: 路径中不能有&lt;根节点&gt;) :param path: 路径 :return: 匹配的所有节点 """ try: return self.tree.findall(path) except Exception as e: print("写入XML失败...") # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return None def get_node_by_key_value(self, nodes, kv_map): """ 根据属性及属性值定位符合的节点，返回节点 :param nodes: 所要查找的节点集合 :param kv_map: 查找属性条件 :return: 符合条件的节点集合 """ result_nodes = [] for node in nodes: if self.if_match(node, kv_map): result_nodes.append(node) return result_nodes def change_node_properties(self, nodes, kv_map, is_delete=False): """ 修改/增加 /删除 节点的属性及属性值 :param nodes: 需要操作属性的节点集合 :param kv_map: 要新增, 修改或删除的属性map :param is_delete: 是否删除属性 :return: True or False """ try: for node in nodes: for key in kv_map: if is_delete: if key in node.attrib: del node.attrib[key] else: node.set(key, kv_map.get(key)) return True except Exception as e: print("操作节点属性失败...") # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def change_node_text(self, nodes, text, is_add=False, is_delete=False): """ 改变/增加/删除一个节点的文本 :param nodes: 节点集合 :param text: 文本 :param is_add: 是否新增 :param is_delete: 是否删除 :return: True or False """ try: for node in nodes: if is_add: node.text += text elif is_delete: node.text = "" else: node.text = text return True except Exception as e: print("操作节点文本失败...") # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def create_node(self, tag, property_map, content): """ 新建节点 :param tag: 节点名 :param property_map: 节点属性 :param content: 节点文本 :return: 新节点 """ element = et.Element(tag, property_map) element.text = content return element def add_child_node(self, node, element): """ 给指定节点添加子节点 :param node: 指定操作节点 :param element: :return: True or False """ try: node.append(element) return True except Exception as e: print("添加新节点失败...") # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def del_node_by_tag_key_value(self, nodes, tag, kv_map): """ 同过属性及属性值定位一个节点，并删除之 :param nodes: 父节点列表 :param tag: 子节点标签 :param kv_map: 属性及属性值列表 :return: True or False """ try: for parent in nodes: childs = parent.getchildren() for child in childs: if child.tag == tag and self.if_match(child, kv_map): parent.remove(child) return True except Exception as e: print("操作节点失败...") # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def list(self): """ 返回xml文件中所有节点数组 :return: """ result = [] for node in self.tree.iter(): # "Tag": node.tag # "Attributes": node.attrib # "Data":, node.text result.append(node) return resultpath = "/Users/smile/test.xml"xml = XMLUtils(path)result = xml.read() # 读取print(result)## 遍历节点# xml.list()# 查询节点# nodes = xml.find_nodes("country/neighbor")# print(nodes)# nodes = xml.get_node_by_key_value(xml.tree.iter(), &#123;"direction": "W", "name": "Switzerland"&#125;)# nodes = xml.get_node_by_key_value(xml.tree.iter(), &#123;"direction": "W", "name": "Mr.Li"&#125;)# print(nodes)# xml.change_node_properties(nodes, &#123;"directions": "F"&#125;, is_delete=True)# nodes = xml.find_nodes("country/year")# xml.change_node_text(nodes, "年", is_add=True)# nodes = xml.get_node_by_key_value(xml.tree.iter(), &#123;"direction": "W", "name": "Mr.Li"&#125;)# print(nodes)# new_node = xml.create_node("xxx", &#123;"x": "1", "xx": "2"&#125;, "XXXX")# xml.add_child_node(nodes[0], new_node)nodes = xml.find_nodes("country/neighbor")xml.del_node_by_tag_key_value(nodes, "xxx", &#123;"x": "1", "xx": "2"&#125;)result = xml.wite(path) # 写入print(result)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 数据库操作(MySQL, HBase)]]></title>
    <url>%2F2018%2F01%2F24%2Farticle%2Fpython%2Farticle-python_11%2F</url>
    <content type="text"><![CDATA[Python 中的数据库操作 Python 数据库操作Python操作MySQL123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122#!/usr/bin/env python3# -*- coding: utf-8 -*-import pymysqlimport tracebackfrom functools import reduceclass BaseDao: def __exec(self, sql): flag = False # 使用cursor()方法获取操作游标 cursor = self.db_connect.cursor() try: # 执行sql语句 cursor.execute(sql) # 提交 self.db_connect.commit() flag = True except Exception as e: # 打印错误的堆栈信息 info = traceback.format_exc() print(info) # 如果发生错误则回滚 self.db_connect.rollback() # 关闭数据库连接 self.db_connect.close() return flag def __init__(self, user, passwd, host, db, port=3306): # 打开数据库连接 self.db_connect = pymysql.connect(host=host, port=port, user=user, passwd=passwd, db=db, charset="utf8") def insert(self, table, **kw): ''' :param table: tablename :param kw: &#123;"insert_field":"insert_value"&#125; :return: True or False ''' # SQL 插入语句 fieds = reduce(lambda x, y: "&#123;0&#125;, &#123;1&#125;".format(x, y), kw.keys()) values = reduce(lambda x, y: "&#123;0&#125;, &#123;1&#125;".format("\"%s\"" % x if type(x) == str else x, "\"%s\"" % y if type(y) == str else y), kw.values()) sql = "INSERT INTO &#123;0&#125; (&#123;1&#125;) VALUES(&#123;2&#125;)".format(table, fieds, values) return self.__exec(sql) def delete(self, table, id): ''' :param table: tablename :param id: Primary Key :return: True or False ''' sql = "DELETE FROM &#123;0&#125; WHERE ID = &#123;1&#125;".format(table, id) return self.__exec(sql) def update(self, table, id, **kw): ''' :param table: tablename :param id: Primary Key :param kw: &#123;"update_fields": "update_value"&#125; :return: ''' # 拼装 SQL fields = "" for k, v in kw.items(): fields += k fields += "=" fields += "\"%s\"" % v if type(v) == str else str(v) fields += "," fields = fields[:-1] sql = "UPDATE &#123;0&#125; SET &#123;1&#125; WHERE id = &#123;2&#125;".format(table, fields, id) return self.__exec(sql) def query(self, table, **kw): """ :param table: table_name :param kw: query_condition :return: [&#123;&#125;, &#123;&#125;] """ # 拼装 SQL condition = "" if kw: condition = "WHERE " for k, v in kw.items(): condition += k condition += "=" condition += "\"%s\"" % v if type(v) == str else str(v) condition += " AND " condition = condition[:-5] sql = "SELECT * FROM &#123;0&#125; &#123;1&#125;".format(table, condition) # 使用cursor()方法获取操作游标 # pymysql.cursors.DictCursor 设置查询结果为 dict类型 cursor = self.db_connect.cursor(pymysql.cursors.DictCursor) try: # 执行SQL语句 cursor.execute(sql) # 获取所有记录列表 rows = cursor.fetchall() return rows except Exception as e: # 打印错误的堆栈信息 info = traceback.format_exc() print(info) # 如果发生错误则回滚 self.db_connect.rollback() # 关闭数据库连接 self.db_connect.close()dao = BaseDao("root", "root", "127.0.0.1", "Test")# result = dao.insert("USER", id="2", name="Jack", age=17, city="Shanghai")# print(result)# result = dao.delete("USER", 2)# print(result)# result = dao.update("USER", 1, name="小红", age=23, city="Shanghai")# print(result)result = dao.query("USER")print(result) Python操作HBase123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136#!/usr/bin/env python3# -*- coding: utf-8 -*-import tracebackimport happybase as hbclass HBaseDao: def __convert(self, dict): result = &#123;&#125; for k, v in dict.items(): result[k.decode("utf-8")] = v.decode("utf-8") return result def __init__(self, table, host="localhost", port=9090): """ :param table: table name :param host: h-base host :param port: h-base port """ try: self.__connection = hb.Connection(host, port) self.__connection.open() self.__table = self.__connection.table(table) except Exception as e: print("连接 HBase &#123;0&#125;:&#123;1&#125; 失败...".format(host, port)) # 打印错误的堆栈信息 info = traceback.format_exc() print(info) def insert(self, rowkey, columns): # 将字符编码成2进制 """ :param rowkey: row key :param columns: &#123;"column_family:column_qualifier":"value"&#125; :return: True or False """ try: rowkey = rowkey.encode(encoding='utf-8') columnsByte = &#123;&#125; for k, v in columns.items(): columnsByte[k.encode(encoding='utf-8')] = v.encode(encoding='utf-8') self.__table.put(rowkey, columnsByte) # 插入数据 return True except Exception as e: print("插入 HBase 失败, row_key:&#123;0&#125;, data:&#123;1&#125;".format(rowkey, columns)) # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def insert_all(self, data): """ :param data: &#123;"row_key":&#123;"column_family:column_qualifier":"value"&#125;&#125; :return: True or False """ try: # 使用batch一次插入多行数据 bat = self.__table.batch() for row_key, columns in data.items(): columnsByte = &#123;&#125; for k, v in columns.items(): columnsByte[k.encode(encoding='utf-8')] = v.encode(encoding='utf-8') bat.put(row_key.encode(encoding='utf-8'), columnsByte) bat.send() return True except Exception as e: print("插入 HBase 失败 data:&#123;0&#125;".format(data)) # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def delete_row(self, row_key): try: bat = self.__table.batch() bat.delete(row_key) bat.send() return True except Exception as e: print("删除 HBase 失败 row_key:&#123;0&#125;".format(row_key)) # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def delete_columns(self, row_key, *columns): try: if len(columns) == 0: raise AttributeError("缺失要删除的列") self.__table.delete(row_key, columns) return True except Exception as e: print("删除 HBase 失败 row_key:&#123;0&#125;".format(row_key)) # 打印错误的堆栈信息 info = traceback.format_exc() print(info) return False def query(self, *row_keys): ''' :param row_keys: :return: &#123;"row_key":&#123;"column_family:column_qualifier":"value"&#125;&#125; ''' result = None if len(row_keys) == 1: result = self.__table.row(row_keys[0]) result = self.__convert(result) result = &#123;row_keys[0]:result&#125; elif len(row_keys) &gt; 1: result = &#123;&#125; items = self.__table.rows(row_keys) for item in items: result[item[0].decode("utf-8")] = self.__convert(item[1]) return result def query_all(self): items = self.__table.scan() result = &#123;&#125; for k, v in items: result[k.decode("utf-8")] = self.__convert(v) return resultdao = HBaseDao("SCORE")# result = dao.insert("row_key_5", &#123;"F:1": "李", "F:2": "述", "F:3": "昱"&#125;)# result = dao.insert("row_key_5", &#123;"F:1": "A", "F:2": "B", "F:3": "C"&#125;)# result = dao.insert_all(&#123;"row_key_6":&#123;"F:1":"Z", "F:2":"Y", "F:3":"X"&#125;, "row_key_7":&#123;"F:1":"Q", "F:2":"W", "F:3":"E", "F:4":"R"&#125; &#125;)# result = dao.delete_row("row_key_5")result = dao.delete_columns("row_key_4", "M:1")# result = dao.query("row_key_5")# result = dao.query("row_key_5", "row_key_6", "row_key_7")# result = dao.query_all()print(result) 更有用的方法是使用上下文管理器来管理batch，这样就不用手动发送数据了，即不再需要bat.send() 12345# 使用with来管理batchwith table.batch() as bat: bat.put("row_key_5", &#123;"F:1": "A", "F:2": "B", "F:3": "C"&#125;) bat.put("row_key_6", &#123;"F:1": "李", "F:2": "述", "F:3": "昱"&#125;) bat.put("row_key_7", &#123;"F:1":"Q", "F:2":"W", "F:3":"E", "F:4":"R"&#125;) 还可以删除数据 123456# 在batch中删除数据with table.batch() as bat: bat.put("row_key_5", &#123;"F:1": "A", "F:2": "B", "F:3": "C"&#125;) bat.put("row_key_6", &#123;"F:1": "李", "F:2": "述", "F:3": "昱"&#125;) bat.put("row_key_7", &#123;"F:1":"Q", "F:2":"W", "F:3":"E", "F:4":"R"&#125;) bat.delete("row_key_4") batch将数据保存在内存中，知道数据被send，第一种send数据的方法是显示地发送，即bat.send()，第二种send数据的方法是到达with上下文管理器的结尾自动发送。这样就存在一个问题，万一数据量很大，就会占用太多的内存。所以我们在使用table.batch()的时候要通过batch_size参数来设置batch的大小 1234# 通过batch_size参数来设置batch的大小with table.batch(batch_size=10) as bat: for i in range(16): bat.put('www.test&#123;&#125;.com'.format(i), &#123;'cf1:price': '&#123;&#125;'.format(i)&#125;)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python I/O]]></title>
    <url>%2F2018%2F01%2F23%2Farticle%2Fpython%2Farticle-python_10%2F</url>
    <content type="text"><![CDATA[Python 中的 I/O输入与输出 Python I/O输出文件的读写123456789101112131415161718192021222324252627282930313233343536373839404142434445#!/usr/bin/env python3# -*- coding: utf-8 -*-import osclass FileUtils(object): def __init__(self, **args): super(FileUtils, self).__init__() def read(self, file_name, mode='r'): """ :param file_name: file_path and file_name :param mode: open mode :return: file content lines array """ result = [] if not os.path.exists(file_name): print("没有 \"&#123;0&#125;\" 此文件...".format(file_name)) return None with open(file_name, mode, encoding="UTF-8") as f: for line in f.readlines(): result.append(line.strip()) return result def write(self, file_name, content, mode='w'): result = False with open(file_name, mode, encoding="UTF-8") as f: for line in content: f.write(line + "\r\n") result = True return result def truncate(self, file_name): with open(file_name, "w", encoding="UTF-8") as f: f.write("") return Truefu = FileUtils()# result = fu.read("/Users/smile/example.log")# result = fu.write("/Users/smile/example1.log", result, "a")result = fu.truncate("/Users/smile/example1.log")print(result) 文件的打开方式 模式 描述 r 以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。 rb 以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。 r+ 打开一个文件用于读写。文件指针将会放在文件的开头。 rb+ 以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。 w 打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 wb 以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 w+ 打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 wb+ 以二进制格式打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。 a 打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不 ab 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。 a+ 打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于 ab+ 以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。 文件对象的属性 文件对象属性 描 述 file.closed 表示文件已经被关闭，否则为False file.mode Access文件打开时使用的访问模式 file.encoding 文件所使用的编码 file.name 文件名 file.newlines 未读取到行分隔符时为None，只有一种行分隔符时为一个字符串，当文件有多种类型的行结束符时，则为一个包含所有当前所遇到的行结束的列表 file.softspace 为0表示在输出一数据后，要加上一个空格符，1表示不加。这个属性一般程序员用不着，由程序内部使用]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 异常处理]]></title>
    <url>%2F2017%2F12%2F31%2Farticle%2Fpython%2Farticle-python_09%2F</url>
    <content type="text"><![CDATA[Python 中的异常处理 Python中的异常处理try 的基本语法12345678910111213141516171819202122#!/usr/bin/env python3# -*- coding: utf-8 -*-import loggingdef division(x, y): if y == 0: raise ValueError("除数不能为 0") return x / ytry: print(division(4, 0))except ValueError as e: # raise print("除数为0, 计算终止....", e) logging.exception(e)else: print("计算正常结束....")finally: print("一切终归于平静....") ​ try: 是可能会出现异常的代码 ​ except: 是处理异常的代码 ​ else: 是没有出现异常执行的代码 ​ finally: 是无论如何都执行的代码 ​ raise: 是抛出自定义异常 ​ logging: 打印异常的堆栈信息 所谓异常处理, 分为两部分: 1. goto(跳转), 2. treat(应对) Python单元测试123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#!/usr/bin/env python3# -*- coding: utf-8 -*-import loggingclass MyDict(dict): def __init__(self, **kw): logging.info("init params ==&gt; %s" % str(kw)) super(MyDict, self).__init__(**kw) def __getattr__(self, item): try: return self[item] except KeyError: logging.error(r"MyDict no found [%s]" % item) raise KeyError(r"MyDict no found [%s]" % item) def __setattr__(self, key, value): self[key] = value#!/usr/bin/env python3# -*- coding: utf-8 -*-import logging, unittestfrom learn.MyDict import MyDictclass TestMyDict(unittest.TestCase): def setUp(self): # 测试方法执行前执行, 一般用来初始化环境(比如: 创建数据库连接) print('setUp...') def tearDown(self): # 测试方法执行后执行, 一般用来GC(比如: 关闭数据库连接) print('tearDown...') def test_init(self): d = MyDict(a=1, b='test') # assert 断言 self.assertEqual(d.a, 1) self.assertEqual(d.b, 'test') self.assertTrue(isinstance(d, dict)) def test_key(self): d = MyDict() d['key'] = 'value' self.assertEqual(d.key, 'value') def test_attr(self): d = MyDict() d.key = 'value' self.assertTrue('key' in d) self.assertEqual(d['key'], 'value') def test_keyerror(self): d = MyDict() with self.assertRaises(KeyError): # 判断抛出的异常是 KeyError value = d['empty'] def test_attrerror(self): d = MyDict() with self.assertRaises(AttributeError): # 测试未通过, 因为这里抛出的是KeyError value = d.empty 单元测试: 要求每一个分支都要覆盖到.]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 面向对象]]></title>
    <url>%2F2017%2F12%2F30%2Farticle%2Fpython%2Farticle-python_08%2F</url>
    <content type="text"><![CDATA[Python 面向对象编程 面向对象OOP 类(Class) 对象(Object) 实例(Instance) 类: 是一个抽象的存在 实例: 是真实存在的类 对象: 是类的实例 好比说 门 就是一个类, 我的 屋门 就是门的一个实例. 我的屋门是白颜色的, 而且打开和关闭时会发出声响. 不管是 颜色, 还是打开和关闭 都是类赋予的属性和行为. 至于白颜色和打开和关闭时发出的声响是这个实例的具体表现. 对象: 包括了 类的属性和行为, 还有实例所都有的具体表现形式(比如: 白颜色, 打开和关闭时发出声响) 在面向对象的程序设计中, 首先要抽离出实体, 以及这个实体所拥有的属性和行为(方法). 面向对象的三大特点: 封装, 继承, 多态 封装123456789101112131415161718192021222324252627282930class Animal(object): def __init__(self, args): super(Animal, self).__init__() self.__name = args.get("name") self.age = args.get("age") def call(self): print("Animal(name:&#123;0&#125;, age:&#123;1&#125;) Call....".format(self.__name, self.age)); def setAnimalInfo(self, *, name, age): self.__name = name self.age = age def getAnimalInfo(self): return &#123;"name": self.__name, "age": self.age&#125; def __str__(self): # 重写父类方法 return "Animal(name:&#123;0&#125;, age:&#123;1&#125;)".format(self.__name, self.age)pig = Animal(&#123;&#125;)pig.setAnimalInfo(name="tom", age=2)pig.call()pig.age = 3print(pig.age)print(pig._Animal__name) # 不建议这样访问# print(pig.__name) # AttributeError: 'Animal' object has no attribute '__name'pig.__name = "jack" # 这么写是错误的, 虽然Python没有限制print(pig.__name) # 实际上就是给 pig 绑了一个新的属性pig.call() 所谓封装, 就是将类的属性设为私有, 然后开放属性的get, set方法. 这样会提高程序的健壮性(比如set时, 验证实参是否合法) 因为构造方法(init(self, args))中, 存在必选参数, 所以在初始化实例时 pig = Animal({}) 实际上私有属性, 在实例化对象时, 就已经改了变量名, 所以才有的 AttributeError: &#39;Animal&#39; object has no attribute &#39;__name&#39; 的错误信息 pig.__name = &quot;jack&quot; 就像当于给pig实例, 重新绑定了新的属性(这样写虽然语法没有错, 但不建议这样写. 就像某件事, 没有触犯法律, 但受到道德的谴责.) 继承class Animal(object) Animal 继承自 object, 1234567891011121314151617181920212223242526272829303132333435363738394041class Dog(Animal): def __init__(self, args): super(Dog, self).__init__(args) def call(self): # print("Dog(name:&#123;0&#125;, age:&#123;1&#125;) wang....".format(super().__name, super.age)); print("Dog(name:&#123;0&#125;, age:&#123;1&#125;) wang....".format(super(Dog, self).getAnimalInfo().get("name"), super(Dog, self).getAnimalInfo().get("age"))); def __str__(self): # 重写父类方法 # return "Dog(name:&#123;0&#125;, age:&#123;1&#125;)".format(super().__name, super.age) return "Dog(name:&#123;0&#125;, age:&#123;1&#125;)".format(super(Dog, self).getAnimalInfo().get("name"), super(Dog, self).getAnimalInfo().get("age"))class Cat(Animal): def __init__(self, args): super(Cat, self).__init__(args) def call(self): # print("Cat(name:&#123;0&#125;, age:&#123;1&#125;) miao....".format(self.__name, self.age)); print("Cat(name:&#123;0&#125;, age:&#123;1&#125;) miao....".format(super(Cat, self).getAnimalInfo().get("name"), super(Cat, self).getAnimalInfo().get("age"))); def __str__(self): # 重写父类方法 # return "Cat(name:&#123;0&#125;, age:&#123;1&#125;)".format(self.__name, self.age) return "Cat(name:&#123;0&#125;, age:&#123;1&#125;)".format(super(Cat, self).getAnimalInfo().get("name"), super(Cat, self).getAnimalInfo().get("age"))dog = Dog(&#123;"name": "lucy", "age": 2&#125;)cat = Cat(&#123;"name":"lola", "age":1&#125;)dog.call()cat.call()print("pig is Animal", isinstance(pig, Animal))print("dog is Dog", isinstance(dog, Dog))print("cat is Cat", isinstance(cat, Cat))print("dog is Animal", isinstance(dog, Animal))print("cat is Animal", isinstance(cat, Animal)) 在子类中, 获取父类的引用 super(Dog, self). 而在子类中要想拿到父类的属性, 只能通过父类中提供的开放接口, 来实现了. 多态从上面的程序中可以看出, Animal重写了他的父类的str方法, Cat和Dog也重写了这个方法. 有继承和方法重写, 自然就有多态了. 1234567891011def getAnimal(animal): print(animal)getAnimal(pig)getAnimal(dog)getAnimal(cat)# Animal(name:tom, age:3)# Dog(name:lucy, age:2)# Cat(name:lola, age:1) 虽传入的都是 Animal类, 但执行的却有着不同的行为. 这就是多态(^_^) 判断对象类型1234567891011121314&gt;&gt;&gt; type(123) == type(456)True&gt;&gt;&gt; type("123") == 'str'False&gt;&gt;&gt; type("123") == strTrue&gt;&gt;&gt; isinstance(1, (str, int))True&gt;&gt;&gt; isinstance(1, (str, int, float))True&gt;&gt;&gt; isinstance(1.0, (str, int, float))True&gt;&gt;&gt; isinstance('1.0', (str, int, float))True 获取对象的所有方法及属性12345print(dir(pig))print(dir(dog))# ['_Animal__name', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__name', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'call', 'getAnimalInfo', 'setAnimalInfo']# ['_Animal__name', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__int__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'call', 'getAnimalInfo', 'setAnimalInfo'] 类似反射的东西123456789101112131415161718192021# hasattr() 判断对象中是否有指定属性或方法# getattr() 获取对象中指定的属性或方法的引用# setattr() 向对象中添加指定的属性或方法print(getattr(pig, "__name") if hasattr(pig, "__name") else "404")print(getattr(dog, "__name") if hasattr(dog, "__name") else "404")if hasattr(cat, "__name"): # 判断cat对象中, 是否有'__name'属性 print(cat.__name)else: setattr(cat, "__name", "tom") # 向cat对象绑定'__name'属性, 并向该属性赋值print(cat.__name) # 输出刚刚绑定的'__name'属性的值getattr(cat, "call")() # 获取cat对象的call方法, 进行调用def eat(): print("eat.... ing.....")setattr(cat, "eat", eat) # 是将方法绑定到了cat这个对象上, 而非类上. 所以新创建的类, 没有eat方法cat.eat() 实例属性和类属性实例属性: 就相当于Java类中的普通属性 类属性: 就相当于是Java中的静态属性 1234567891011121314151617class Plant(object): name = "植物" def __init__(self, *args): super(Plant, self).__init__() if len(args) &gt; 0: self.name = args[0] def __str__(self): return Plant.name;pl = Plant("绿萝")print(pl) # 类属性: 植物print(pl.name) # 实例属性的优先级高于类属性, 所以输出实例属性: 绿萝delattr(pl, "name") # 删除实例属性print(pl.name) # 因为实例属性中没有 name 了, 所以输出类属性: 植物 Python内置的@property装饰器就是负责把一个方法变成属性调用. 把一个getter方法变成属性，只需要加上@property就可以了, 此时，@property本身又创建了另一个装饰器@score.setter，负责把一个setter方法变成属性赋值 12345678910111213141516171819202122232425262728class Lotus(Plant): @property def colour(self): # 隐藏 _colour 属性, 对外看到的只是 colour return self._colour @colour.setter def colour(self, value): print("Assignment ing...") self._colour = value @property def age(self): return 54lotus = Lotus()lotus.colour = "橙红色" # 调用了 colour set方法print(lotus.colour)print(lotus.age)print(dir(lotus))print(getattr(lotus, "colour"))setattr(lotus, "colour", "粉红色") # 调用了 colour set方法print(getattr(lotus, "_colour"))setattr(lotus, "_colour", "艳红色") # 没有调用colour set方法print(lotus.colour) 在测试环境下, 我们可以看到 lotus 对象中有colour 和 _colour 两个属性, 但实际我们定义的_colour属性, 在面向其他对象时, 是被隐藏的, 所以在对@property的实例属性操作的时候, 属性很可能不是直接暴露的，而是通过getter和setter方法来实现的 上面的colour是可读写属性，而age就是一个只读属性 Python的多重继承12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849class Book(object): def __init__(self, name): # super(Book, self).__init__() self.name = name def getName(self): return self.nameclass Literature(object): def __init__(self, author): # super(Literature, self).__init__() self.author = author def getAuthor(self): return self.authorclass Biography(object): def __init__(self, heroName): # super(Biography, self).__init__() self.heroName = heroName def getHeroName(self): return self.heroNameclass Youth(Book, Literature, Biography): def __init__(self, name, author, heroName): Book.__init__(self, name) Literature.__init__(self, author) Biography.__init__(self, heroName) def getInfo(self): return "书名: &#123;0&#125;, 作者: &#123;1&#125;, 主人公: &#123;2&#125;".format( self.getName(), self.getAuthor(), self.getHeroName())book = Youth("青春", "J.M.库切", "约翰")print(book.getName())print(book.getAuthor())print(book.getHeroName())print(book.getInfo())# 青春# J.M.库切# 约翰# 书名: 青春, 作者: J.M.库切, 主人公: 约翰 Object中常用到的类__str__() 和__repr__()__str__()有点类似Java里的toString方法, 就是在 str(object) 时调用的方法 __repr__() 和 __str__()的功能差不多, 在控制台直接调用对象时, 会调用__repr__()方法 两者的区别是__str__()返回用户看到的字符串，而__repr__()返回程序开发者看到的字符串，也就是说，__repr__()是为调试服务的。 1234567891011121314class CustomMade(object): def __str__(self): return "我被主人改了toString方法" def __repr__(self): return "我也被主人改了toString方法" cm = CustomMade()print(cm) # 我被主人改了toString方法&gt;&gt;&gt; cm = CustomMade()&gt;&gt;&gt; cm我也被主人改了toString方法 __item__() 和 __next__()__item__() 返回一个迭代对象 --next__() 迭代这个对象时, 所执行的方法(有点像生成式) 1234567891011121314151617181920class CustomMade(object): def __init__(self): super(CustomMade, self).__init__() self.index = 0 def __iter__(self): return self def __next__(self): self.index += 1 if self.index &gt; 100: raise StopIteration() return self.indexcm = CustomMade()for x in cm: print(x)# 1 2 3 4 ... 100 __getitem__()__getitem__() 是让我们自己定义的类, 拥有索引和切片的功能 123456789101112131415161718192021222324252627282930313233343536373839404142434445class CustomMade(object): def __getitem__(self, item): if isinstance(item, int): if item &gt; 50 or item &lt; -50: raise IndexError() else: if item &lt; 0: item = 50 + item index = 2 for x in range(item): index += 2 return index if isinstance(item, slice): start = item.start stop = item.stop step = item.step if start is None: start = 0 if step is None: step = 1 if start &lt; 0: start = 50 + start if stop &lt; 0: stop = 50 + stop result = [] index = 2 skip = -1 for x in range(stop): if x &gt;= start: skip += 1 if skip % step == 0: result.append(index) index += 2 return resultcm = CustomMade()print(cm)for x in cm: print(x)print(cm[1]) # 4print(cm[:10:2]) # [2, 6, 10, 14, 18] __getattr__()__getattr__() 给未绑定的属性或方法一个默认的返回值 1234567891011121314151617class Chain(object): def __init__(self, method='GET', path=''): super(Chain, self).__init__() self._path = path self._method = method def __str__(self): return "&#123;0&#125; &#123;1&#125;".format(self._method, self._path) def __getattr__(self, path): if path == "user": return lambda x: Chain(self._method, "&#123;0&#125;/&#123;1&#125;/&#123;2&#125;".format(self._path, path, x)) return Chain(self._method, "&#123;0&#125;/&#123;1&#125;".format(self._path, path))print(Chain("POST").status.user("yuchen352416").timeline.list)# POST /status/user/yuchen352416/timeline/list __call__()__call__() 是实例默认调用的方法 1234567891011class Student(object): def __init__(self, name): super(Student, self).__init__() self._name = name def __call__(self, *args, **kw): print("Student name is %s" % self._name)s = Student('Jack')s() # Student name is Jack 枚举与单例12345678910111213141516171819202122232425262728293031323334353637383940414243#!/usr/bin/env python3# -*- coding: utf-8 -*-from enum import Enum, uniqueMonth = Enum('Month', ('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'))# 这样我们就获得了Month类型的枚举类，可以直接使用Month.Jan来引用一个常量for k, v in Month.member_map_.items(): print(k, v, v.value)# value属性则是自动赋给成员的int常量，默认从1开始计数。print(Month.Jan.value)print(Month(2))@uniqueclass Weekday(Enum): Sun = 0 Mon = 1 Tue = 2 Wed = 3 Thu = 4 Fri = 5 Sat = 6print(Weekday(2))# 自定义value# @unique装饰器可以帮助我们检查保证没有重复值。# 单例class DateUtil(Enum): class DateUtil(object): def __str__(self): return "单例...." instance = DateUtil()print(DateUtil.instance.value) 动态生成类与实例type()12345678910111213# type()函数既可以返回一个对象的类型，又可以创建出新的类型，比如，我们可以通过type()函数创建出Hello类def fn(self, name): self._name = namedef hell(self): print("Hello %s" % self._name)Hello = type("Hello", (object,), &#123;"hello": hell, "setName": fn&#125;)hello = Hello()hello.setName("Jack")hello.hello() # Hello Jack# 通过type()函数创建的类和直接写class是完全一样的，因为Python解释器遇到class定义时，仅仅是扫描一下class定义的语法，然后调用type()函数创建出class metaclass123456789101112131415# 除了使用type()动态创建类以外，要控制类的创建行为，还可以使用metaclass# metaclass是类的模板，所以必须从`type`类型派生：class ListMetaclass(type): def __new__(cls, name, bases, attrs): attrs['add'] = lambda self, value: self.append(value) return type.__new__(cls, name, bases, attrs)class MyList(list, metaclass=ListMetaclass): pass# 当我们传入关键字参数metaclass时，魔术就生效了，它指示Python解释器在创建MyList时，要通过ListMetaclass.__new__()来创建L = MyList()L.add(1)print(L) # [1] __new__()方法接收到的参数依次是： 当前准备创建的类的对象； 类的名字； 类继承的父类集合； 类的方法和属性的集合。]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 高级函数]]></title>
    <url>%2F2017%2F12%2F29%2Farticle%2Fpython%2Farticle-python_07%2F</url>
    <content type="text"><![CDATA[Python 中函数的一些高级用法 在熟悉了自定义函数和函数中使用到的参数(必选参数, 默认参数, 可变参数, 关键字参数, 命名关键字参数), 以及由函数返回值引伸出的递归和装饰器后, 让我们继续前行. Python 高阶函数mapmap()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回123456def func(x): return x * xm = map(func, [2, 3])print(m)for x in m: print(x) map函数, 就有点类似一个加工厂, func 就像是加工规则, [2, 3] 就像是加工原料, 每个原料加工后, 就成了map的返回值[4, 9] reducereduce把一个函数作用在一个序列[x1, x2, x3, …]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算123456from functools import reducedef func(x, y): return x + ys = reduce(func, [1, 2, 3, 4, 5]) # 15# s = func(func(func(func(1, 2), 3), 4), 5) # 15 reduce函数, 就像是个面包机, [1, 2, 3, 4, 5] 就像是事先要准备的原料 [面粉,鸡蛋, 牛奶, 糖] 而func, 就像是向面包机里加的动作 最后的面包机中的热腾腾的面包, 就是返回结果了.^_^ filterfilter()把传入的函数依次作用于每个元素，然后根据返回值是True还是False决定保留还是丢弃该元素。12345678910111213def remove_ood(x): if x % 2 == 0: return True else: return Falsearr = list(range(1, 10))envn = filter(remove_ood, arr)print(even) # &lt;filter object at 0x10a444630&gt;for x in envn: print(x)# 2 4 6 8 filter函数 就是把传入集合中的元素, 按照指定规则分离. 有点像是做奶油前要从鸡蛋中去出蛋黄, 留下蛋清. (^_^) sortedsorted()函数就可以对list进行排序12&gt;&gt;&gt; sorted([36, 5, -12, 9, -21])[-21, -12, 5, 9, 36] sorted()函数也是一个高阶函数，它还可以接收一个key函数来实现自定义的排序，例如:12&gt;&gt;&gt; sorted([36, 5, -12, 9, -21], key=abs)[5, 9, -12, -21, 36] 其实还可以这样玩12&gt;&gt;&gt; sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower)['about', 'bob', 'Credit', 'Zoo'] 这样 排序就忽略了数组中的字符的大小写 12&gt;&gt;&gt; sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower, reverse=True)['Zoo', 'Credit', 'bob', 'about'] 数组的反转 匿名函数关键字lambda表示匿名函数，冒号前面的x表示函数参数。1print(reduce(lambda x, y: x + y, [1, 2, 3, 4, 5])) # 15 lambda 与 : 之间是匿名函数的入参 偏函数所谓偏函数，其实就是将一个已知参数和函数进行绑定，生成一个新的函数 假设要转换大量的二进制字符串，每次都传入int(x, base=2)非常麻烦，于是，我们想到，可以定义一个int2()的函数，默认把base=2传进去12def int2(x, base=2): return int(x, base) 这样，我们转换二进制就非常方便了：1234&gt;&gt;&gt; int2('1000000')64&gt;&gt;&gt; int2('1010101')85 functools.partial 就是帮助我们创建一个偏函数的，不需要我们自己定义int2()，可以直接使用下面的代码创建一个新的函数int2： 123456&gt;&gt;&gt; import functools&gt;&gt;&gt; int2 = functools.partial(int, base=2)&gt;&gt;&gt; int2('1000000')64&gt;&gt;&gt; int2('1010101')85 Python 高级特性切片切片是Python提供处理Iterable类型数据的一个工具.1234567891011121314151617181920&gt;&gt;&gt; L = list(range(100))# 前10个元素&gt;&gt;&gt; L[:10] # [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]# 后10个元素&gt;&gt;&gt; L[-10:] # [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]# 前11-20个元素&gt;&gt;&gt; L[10:20] # [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]# 前10个数，每两个取一个&gt;&gt;&gt; L[:10:2] # [0, 2, 4, 6, 8]# 倒数 第3个~倒数第5个&gt;&gt;&gt; L[-5:-2][::-1] # [97, 96, 95]&gt;&gt;&gt; 'ABCDEFG'[:3] # 'ABC'&gt;&gt;&gt; 'ABCDEFG'[::2] # 'ACEG'&gt;&gt;&gt; 'ABC'[::-1] # 'CBA' Iterable[起始位置=0:截至位置=len(Iterable):步长=1] 迭代我们可以通过for循环来遍历这个list或tuple，这种遍历我们称为迭代（Iteration） 12345678910111213d = &#123;'a': 1, 'b': 2, 'c': 3&#125;for k in d: print(k) # a b cfor v in d.values(): print(v)# 1 2 3for k, v in d.items(): print(k, '-', v)# a - 1 b - 2 c - 3 如何判断一个对象是可迭代对象呢？1234567&gt;&gt;&gt; from collections import Iterable&gt;&gt;&gt; isinstance('abc', Iterable) # str是否可迭代True&gt;&gt;&gt; isinstance([1,2,3], Iterable) # list是否可迭代True&gt;&gt;&gt; isinstance(123, Iterable) # 整数是否可迭代False 迭代tuple123for x, y in [(1, 1), (2, 4), (3, 9)]: print('&#123;0&#125;-&#123;1&#125;'.format(x, y))# 1-1 2-4 3-9 列表生成式从一定意义上来说, 列表生成式可以做到的, 用map()函数也可以做到.但列表生成器更容易, 更直观. 我现在需要一个数组2次方后的一个数组.12345L = [1, 2, 3, 4, 5]L1 = map(lambda x: x * x, L)L2 = [x * x for x in L]print(L1) # object.mapprint(L2) #[1, 4, 9, 16, 25] 其实, 还可以这样^_^123t = [1, 2, 3]l = [t[i] * t[i + 1] for i in range(len(t) -1)]print(l) # [2, 6] 生成器在Python中，这种一边循环一边计算的机制，称为generator(生成器)12g = (x * x for x in range(10))print(g) # &lt;generator object &lt;genexpr&gt; at 0x1101431a8&gt; 和列表生成式不同的是, 生成器返回的是一个Iterable, 而列表生成式返回的是一个数组 generator: 存储的是计算规则, 并没有真实的数据. 遍历时, 每次返回的数据, 都是按照所存储的计算规则计算出的 123456789def odd(): n = 1 while True: yield n n += 2o = odd()print(next(o)) # 1print(next(o)) # 3 odd不是普通函数，而是generator，在执行过程中，遇到yield就中断，下次又继续执行。 最后附上一位大神用generator实现的杨辉三角1234567def triangles(): t = [1] while True: yield t t= [t[i] + t[i-1] for i in range(1,len(t))] t.insert(0,1) # 第一位始终为 1 t.append(1) # 最后一位始终为 1 迭代器凡是可作用于for循环的对象都是Iterable类型；凡是可作用于next()函数的对象都是Iterator类型，它们表示一个惰性计算的序列；集合数据类型如list、dict、str等是Iterable, 但不是Iterator，不过可以通过iter()函数获得一个Iterator对象。 Python 模块 这是我项目中各文件的路径.我在hello.py中希望引用我web模块下的utils中的函数12345from web.utils import reverseprint(reverse("123"))import web.utilsweb.utils.welcome("Tom")]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 自定义函数]]></title>
    <url>%2F2017%2F12%2F28%2Farticle%2Fpython%2Farticle-python_06%2F</url>
    <content type="text"><![CDATA[Python 中自己定义函数 在熟悉了Python中常用的一些内置函数, 那接下来我们定义一个自己的函数吧 12def add(x, y): return x + y 函数函数语法123def functonname(parameters): ... return result 定义空函数12def nop(): pass 实际上 pass 是用来作为占位符的. 比如现在还没想好怎么写函数的代码, 就可以先放一个pass, 让其他代码可以运行起来. 函数也是Object1234567def pow(x, y): result = 1 for i in range(0, y): result = result * x return resultprint(pow) #&lt;function pow at 0x104147e18&gt; 函数也是内存中的一块区域, 函数名指向这块区域.123fn = powprint(fn) #&lt;function pow at 0x104147e18&gt;print(fn(2, 10)) #1024 参数 必选参数 默认参数 可变参数 关键字参数 命名关键字参数 必选参数12345678def pow(x, y): result = 1 for i in range(0, y): result = result * x return resultt = pow(2, 3)print(t) # 8 上面函数中, 需要两个参数分别是 x, y. 这两个参数都是必选参数, 缺一不可.pow函数中 x 为底数, y 为指数, 现在我想让指数默认为 2 默认参数12345678def pow(x, y = 2): result = 1 for i in range(0, y): result = result * x return resultt = pow(2)print(t) # 4 设, 我要求多个数的和. 具体有多个参数, 我也不知道 可变参数12345678910111213141516def sum_1(numbers): s = 0 for x in numbers: s += x return sdef sum_2(*numbers): s = 0 for x in numbers: s += x return sarr = [1, 2, 4]print(sum_1(arr))print(sum_2(1, 2, 4))print(sum_2(*arr)) 关键字参数可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。而关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个dict12345678910111213def person(name, age, **kw) : # ** =&gt; dict print("kw tyep is", type(kw)) if "city" in kw : print("city :", kw["city"]) if "job" in kw: print("job :", kw.get("job")) print("name:", name, ", age:", age, ", other:", kw)person("Jion", 18, city = "Beijing")person(name = "Tom", city = "Beijing", age = 17)extra = &#123;'city': 'Beijing', 'job': 'Engineer'&#125;person("Jion", 18, **extra) 命名关键字参数如果要限制关键字参数的名字，就可以用命名关键字参数，例如，只接收city和job作为关键字参数 12def person(name, age, *, city, job): print(name, age, city, job) 命名关键字参数需要一个特殊分隔符 * ，* 后面的参数被视为命名关键字参数。12&gt;&gt;&gt; person('Jack', 24, city='Beijing', job='Engineer')Jack 24 Beijing Engineer 如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符 * 了.1234567891011121314151617def person(name, age, *, city = "Beijing", job): # 要限制关键字参数的名字, 就要用到 "命名关键字参数" # * 后的参数, 被视为"命名关键字参数" print(name, age, city, job)person("Jack", 24, job = "Engineer")x = &#123;"city":"Shanghai", "job":"Engineer"&#125;person("Jack", 23, **x)person("Jack", 23, city = "Beijing", job = "Engineer")def person(name, age, *args, city, job): print(name, age, args, city, job)x = &#123;"A":1, "B":2, "C":3&#125;# 当实参为 *x 时, 会将实参中的key以tuple(元组)的形式, 传递到方法内# person("Jack", 23, *x, city = "Beijing", job = "Engineer") # Jack 23 ('A', 'B', 'C') Beijing Engineer# 当实参为 x 时, 会将实参的整体内容做为tuple(元组)的一个元素, 传递到方法内person("Jack", 23, x, city = "Beijing", job = "Engineer") # Jack 23 (&#123;'A': 1, 'B': 2, 'C': 3&#125;,) Beijing Engineer 返回值返回常用类型1234567def abs(x): if(x &gt;= 0): return x else: retrun -xprint(abs(-1)) #1 return 类似出栈操作, return之后的语句则不被执行 返回多个值123456def show(x, y, z): return x * y * z, x + y + zx = show(2, 3, 4)print(x[0], x[1]) #24 9print(x) #(24, 9) 当函数返回多个值时, 实际上是把多个需要返回的值, 封装成一个tuple 返回函数刚刚说过, 函数也是一个Object, 所以也可以作为返回值进行返回 递归123456789def trim(s): if (s == ''): return '' if (ord(s[:1]) == 32): return trim(s[1:]) elif (ord(s[-1:]) == 32): return trim(s[:-1]) else: return s 这是一个去除字符串前后空格的函数, 首先检测字符串的第一位是不是空格, 如果是去掉第一位, 再次检查新字符串的第一位 直至不是后, 检查字符串的最后一位, 如果是, 则去掉最后一位, 再次检测新字符串的最后一位.直到最后一位,不再是空格. 闭包12345678910def make_adder(addend): def adder(augend): return augend + addend return adderp = make_adder(23)q = make_adder(44)print(p(100)) #123print(q(100)) #144 闭包: 可以形象的把它理解为一个封闭的包裹，这个包裹就是一个函数，当然还有函数内部对应的逻辑，包裹里面的东西就是自由变量，自由变量可以在随着包裹到处游荡。当然还得有个前提，这个包裹是被创建出来的。在通过Python的语言介绍一下，一个闭包就是你调用了一个函数A，这个函数A返回了一个函数B给你。这个返回的函数B就叫做闭包。你在调用函数A的时候传递的参数就是自由变量。 1234567def func(name): def inner_func(age): print 'name:', name, 'age:', age return inner_funcbb = func('the5fire')bb(26) # &gt;&gt;&gt; name: the5fire age: 26 这里面调用func的时候就产生了一个闭包——inner_func,并且该闭包持有自由变量——name，因此这也意味着，当函数func的生命周期结束之后，name这个变量依然存在，因为它被闭包引用了，所以不会被回收。 1234567891011121314def hellocounter (name): count = 0 def counter(): # 如果不加 nonlocal 会报错 # UnboundLocalError: local variable 'count' referenced before assignment nonlocal count count += 1 print ('Hello &#123;0&#125;, &#123;1&#125; access!'.format(name, count)) return counterhello = hellocounter('ysisl')hello()hello()hello() 在闭包函数内, 可以直接访问父函数作用域下的变量, 但不可以修改.python3里面,引入了一个关键字:nonlocal,这个关键字是干什么的? 就是告诉python程序, 我的这个count变量是再外部定义的, 你去外面找吧. 然后python就去外层函数找, 然后就找到了count = 0 这个定义和赋值, 程序就能正常执行了. 装饰器装饰器: 是对闭包的一种实际运用的场景. 12345678910111213141516def makebold(fn): def wrapped(): return "&lt;b&gt;" + fn() + "&lt;/b&gt;" return wrappeddef makeitalic(fn): def wrapped(): return "&lt;i&gt;" + fn() + "&lt;/i&gt;" return wrapped@makebold@makeitalicdef hello(): return "hello world"print hello() # &lt;b&gt;&lt;i&gt;hello world&lt;/i&gt;&lt;/b&gt; 相当于 makebold(makeitalic(hello())) 123456789101112131415161718192021222324252627import timedef timecost(func): def wrapper(*args, **kw): def fn(*args, **kw): start = int(time.time()) print(&quot;Call &#123;0&#125;() Before [&#123;1&#125;]&quot;.format(func.__name__, time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime(int(time.time()))))) func(*args, **kw) print(&quot;Call &#123;0&#125;() After [&#123;1&#125;]&quot;.format(func.__name__, time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime(int(time.time()))))) end = int(time.time()) print(&quot;Run Cost Time &#123;0&#125;s&quot;.format(end - start)) return fn(*args, **kw) return wrapper@timecostdef now_datetime(format): now = int(time.time()) print(time.strftime(format, time.localtime(now)))now_datetime(&quot;%H:%M:%S&quot;)# Call now_datetime() Before [2018-01-15 00:24:17]# 00:24:17# Call now_datetime() After [2018-01-15 00:24:17]# Run Cost Time 0s# 在方法前后加入自己想要的内容, 哈哈, 这就是传说中的AOP吗?]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 内置函数]]></title>
    <url>%2F2017%2F12%2F27%2Farticle%2Fpython%2Farticle-python_05%2F</url>
    <content type="text"><![CDATA[Python 中常用到的一些内置函数 熟悉了Python中的控制语句后, 就可以进一步探索Python了. Python 常用的内置函数所谓内置函数, 是不用导入其他模块, 就可以直接使用的函数 range()它生成一个等差级数链表 range( [起始值, 0], &lt;截止值&gt;, [步长, 1] )1range(3, 10, 3) # 3, 6, 9 list()从可迭代（对象）中创建列表 list( )1list(range(3, 10, 3)) # [3, 6, 9] chr()返回传入ASCII码对应的字符 chr( )1chr(65) # A ord()返回传入字符对应的ASCII码值 ord( )1ord('A') # 65 len()返回传入集合长度 len( &lt;集合&gt; )1len([1, 3, 5]) # 3 input()接收控制台的输入内容 input( [“提示信息”] )1input("请输入您的身高:") float()将传入数据, 转为 float类型 float( ) raise ValueError12float(1) # 1.0float("1.9") # 1.9 str()将传入数据, 转为字符串 str( )1str(&#123;"A":1, "B":2&#125;) # "&#123;'A': 1, 'B': 2&#125;" int()将传入数据, 转为 int 类型 int( ) raise ValueError12int(1.9) # 1int("1.9") # ValueError isinstance()判断数据是否指定类型 isinstance( , )12x = 1.0isinstance(x, float) # True type()返回传入数据的类型 type( )1type(1) == int # True Python 字符集bytes 类型数据123456x = b'A' # bytes 类型数据 y = 'A'print('x =', x, '\t' ,type(x)) # &lt;class 'bytes'&gt;print('y =', y, '\t' ,type(y)) # &lt;class 'str'&gt;z = ord(x) print(z) # 65 字符编码1234print('A'.encode('ASCII'))print('森'.encode('GBK')) # b'\xc9\xad'print('森'.encode('GB2312')) # b'\xc9\xad'print('森'.encode('UTF-8')) # b'\xe6\xa3\xae' ASCII码 范围 [0, 127]GBK 和 GB2312 都是用两个字节表示UTF-8 用三个字节表示 123456789101112131415161718x = b'\x41'print(x) # b'A'print(x.decode("ASCII")) # Ax = b'\xc9\xad' # =&gt; 11001001 10101101print(x.decode("GB2312")) # 森print(x.decode("GBK")) # 森x = b'\xe6\xa3\xae' # =&gt; 11100110 10100011 10101110print(x.decode("UTF-8")) # 森print(len('ABC')) # 3print(len('森A')) # 2x = b'\xc9\xad'print(x) # b'\xc9\xad'print(x.decode("GBK")) # 森print(len(x)) # 2# 1个中文字符经过UTF-8编码后通常会占用3个字节，而1个英文字符只占用1个字节。print(len('森'.encode('utf-8'))) # 3print(len('森A'.encode('utf-8'))) # 4 Python 字符串格式化1234567891011121314151617s = 'Hello %s' % ('World!')print(s)# %d 表示 整数# %f 表示 浮点数# %s 表示 字符串# %x 表示 十六进制整数# s = 'Age: %s. Gender: %s' % (25, True)# s = 'Age: %d. Gender: %s' % (25, True)# s = 'Age: %f. Gender: %s' % (25, True)s = 'Age: %x. Gender: %s' % (25, True) # 十进制25传入, 会转化一次, 变为十六进制的 19 print(s)s = 'Growth rate: %d%%' % (7) # 在使用格式化占位符的字符串中, 用 %% 来表示一个 % print(s)# 使用format方法, 格式化输出s = 'Hello, &#123;0&#125;, 成绩提升了 &#123;1:.2f&#125;%'.format('小明', 17.125)print(s)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 控制语句]]></title>
    <url>%2F2017%2F12%2F26%2Farticle%2Fpython%2Farticle-python_04%2F</url>
    <content type="text"><![CDATA[Python 中的控制语句 熟悉了Python中的各种运算符之后, 接下来要进一步了解Python了 控制语句if 语句 单分支 if 双分支 if 多分支 if 单分支 if12if x &gt;= 0: print("x 为自然数") 需要注意: 关系表达式后面要跟冒号, 而 if 条件成立执行的语句, 用 tab 撮行表示, 而且没有 {} 双分支 if1234if x == 1: print("条件成立...")else: print("条件不成立...") 多分支 if123456if x == 1: print("状态尚可...")elif x == 2: print("状态极佳...")else: print("状态不佳...") for 语句12for x in [1, 2, 3, 4]: print(x) for 语句 是用来遍历 Iterable(可迭代对象)的 while 语句123456789x = 0while True: x += 1; if x % 2 == 0: print(x) continue if x % 3 == 0: print(x) break continue 跳回循环开始处break 跳出循环 switch 语句123456789101112131415161718int x = 0;switch (x) &#123; // Java 的语法 case 0: &#123; System.out.println("0"); break; &#125; case 1: &#123; System.out.println("1"); break; &#125; case 2: &#123; System.out.println("2"); break; &#125; default: &#123; System.out.println("9"); &#125;&#125; 很遗憾, Python 好像没有 switch 语句, 但也不是没有变通之道 12345678910111213# 方法 1def func(x): return &#123; 'a': 1, 'b': 2 &#125;.get(x, 9) # 方法 2result = &#123; 'a': lambda x: x * 5, 'b': lambda x: x + 7, 'c': lambda x: x - 2&#125;[value](x)]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 各种运算符]]></title>
    <url>%2F2017%2F12%2F25%2Farticle%2Fpython%2Farticle-python_03%2F</url>
    <content type="text"><![CDATA[Python 中的各种运算符 在掌握了怎么用Python定义变量和Python常用的数据类型后, 我们就可以继续探索Python世界了. 运算符算术运算符 运算符 描述 实例 + 加 1 + 2 =&gt; 3 - 减 3 - 2 =&gt; 1 * 乘 2 * 3 =&gt; 6 / 除 6 / 2 =&gt; 3 // 整除 7 // 2 =&gt; 3 % 模除 7 % 2 = 1 ** 幂 2 ** 3 = 8 关系运算符 运算符 描述 实例 == 等于 1 == 2 =&gt; False != 不等 3 != 2 =&gt; True &lt;&gt; 不等 2 &lt;&gt; 3 =&gt; True &gt; 大于 6 &gt; 2 =&gt; True &lt; 小于 7 &lt; 2 =&gt; False &gt;= 大于等于 7 &gt;= 2 = True &lt;= 小于等于 2 &lt;= 3 = True 赋值运算符 运算符 描述 实例 = 赋值 x = 1 += 加赋值 x += 1 -= 减赋值 x -= 1 *= 乘赋值 x *= 2 /= 除赋值 x /= 2 //= 整除赋值 x //= 2 %= 模除赋值 x %= 2 **= 幂赋值 x **= 3 位运算符 运算符 描述 实例 &amp; 与运算 5 &amp; 2 &#124; 或运算 5 &#124; 2 ~ 取反运算 ~7 ^ 异或运算 7 ^ 3 &lt;&lt; 左移运算 1 &lt;&lt; 2 &gt;&gt; 右移运算 7 &gt;&gt; 1 123456print( 5 &amp; 2 ) # 00000101 and 00000010 =&gt; 00000000 =&gt; 0print( 5 | 2 ) # 00000101 or 00000010 =&gt; 00000111 =&gt; 7 print( 7 ^ 3) # 00000111 xor 00000011 =&gt; 00000100 =&gt; 4print(1 &lt;&lt; 2) # 00000001 &lt;&lt; 2 =&gt; 00000100 =&gt; 4 print(7 &gt;&gt; 1) # 00000111 &gt;&gt; 1 =&gt; 00000011 =&gt; 3print(~7) # -x - 1 =&gt; -8 涉及到的一些概念1. 源码: 是指由 0 和 1 组成的二进制数.(先低后高存储)2. 无符号位数: 是指将源码的所有有效位数, 都用来表示数值(比如 “0000 0001” 这是一个8位的二进制数, 可以表示数的范围就是[0, 255])3. 有符号位数: 是指用源码的第一位表示符号位(1 表示负数, 0 表示正数), 其余的位数来表示数值(比如”0000 0001” 这是一个8位的二进制数, 可以表示数的范围就是[-128, 127])4. 原码: 是指用有符号位数表示的二进制数5. 反码: 正数的反码是它本身, 负数的反码是除符号位外的其他位取反得到的(比如 -7的原码是 10000111, 反码就是 11111000)6. 补码: 正数的补码是它本身, 负数的补码是在反码的基础上加 1(比如 -7 的反码是 11111000, 那补码就是 11111001) ~取反运算符, 是将数值的补码进行取反 ~7 =&gt; ~(0000 0111) =&gt; 1111 1000 =&gt; 1000 0111(反码) =&gt; 1000 1000(补码) =&gt; -8同理 ~(-8)∵ -8 =&gt; 1000 1000(原码) =&gt; 1111 0111(反码) ==&gt; 1111 1000(补码)∴ ~(-8) =&gt; ~(1111 1000) =&gt; 0000 0111 =&gt; 7 逻辑运算符 运算符 描述 实例 not 非 not True and 与 True and False or 或 True or False 成员运算符 运算符 描述 实例 in 存在 1 in range(10) not in 不存在 1 not in range(2, 10) 身份运算符 运算符 描述 实例 is 是否相同引用 x is y is not 是否不同引用 x is not y 运算符的优先级 描述 运算符 ** 指数 (最高优先级) ~ 按位翻转 * / % // 乘, 除, 模除和整除 + - 加法, 减法 &gt;&gt; &lt;&lt; 右移，左移运算符 &amp; 与运算 ^ &#124; 或运算符和异或运算符 &lt;= &lt; &gt; &gt;= 比较运算符 &lt;&gt; == != 关系运算符 = %= /= //= -= += = *= 赋值运算符 is is not 身份运算符 in not in 成员运算符 not or and 逻辑运算符]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 变量与数据类型]]></title>
    <url>%2F2017%2F12%2F24%2Farticle%2Fpython%2Farticle-python_02%2F</url>
    <content type="text"><![CDATA[Python 的变量与数据类型 在迈过HelloWorld的大门后, 正式开始了解Python 变量变量定义当看到Python的变量定义方式时, 让我有一点意外.即没有变量的类型说明符, 也没有定义变量的标志符(如: JavaScript的var, VB的Dim)1x = 1 这样, 就定义一个变量 x 这个变量的类型, 取决于变量指向的值. 行尾不能加分号, 让我也是纠结了好一会儿, 不过还是要入乡随俗的, 慢慢习惯了就好. 数据类型基本数据类型基本数据类型包括 int, float, str, bool 测试基本数据类型:12345678i = 1f = 2.0s = "jack"b = Trueprint("i type", type(i))print("f type", type(f))print("s type", type(s))print("b type", type(b)) 执行结果: 局部变量123456789x = 50def func(x): print('x is', x) x = 2 # 这里修改的是局部变量 print('Changed local x to', x)func(x)print('x is still', x) 执行结果: x is 50 Changed local x to 2 x is still 50 fun(x) 方法中, x 作为形参传进方法体中进行运算, 方法体中认为 x 是局部变量 全局变量12345678910x = 50def func(): global x print('x is', x) x = 2 # 这时修改的是全局变量 print('Changed global x to', x)func()print('Value of x is', x) 输出结果: x is 50 Changed global x to 2 Value of x is 2 x 显然未在func() 方法中, 故用 global 声明 x 为全局变量, 使用外面的x变量 常用的数据类型 list tuple set dictionarylist (数组)123arr = [1, "jack", 9.7, True]print(arr)print(type(arr)) 执行结果: 同样我们也可以定义一个二维数组:12arr = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]print(arr[1][1]) # 5 当数组中的内容不固定时, 我们还可以动态操作 list:123456789arr = []arr.append("A")arr.append("B")arr.append("C")arr.insert(1, "X")arr.remove("B")arr.pop()arr.pop(0)print(arr) append: 将在数组末尾添加元素insert: 将在指定位置添加元素remove: 删除指定元素pop: 删除指定位置的元素, 如果没有指定位置, 则删除末尾元素 tuple(元组)tuple和list非常类似，但是tuple一旦初始化就不能修改1234classmates = ('Michael', 'Bob', 'Tracy')print('classmates =', classmates)print('classmates[0] =', classmates[0])classmates[0] = "Jack" # TypeError: 'tuple' object does not support item assignment 但是当tuple中含有 list, set, dictionary时, 情况就不一样了123classmates = ('Michael', ["a", "b"])classmates[1].append("c")print('classmates =', classmates) 执行结果: classmates = (‘Michael’, [‘a’, ‘b’, ‘c’]) 看上去 classmates 改变了, 但实际上 classmates 是没有变的. classmates[1]指向的list的指针是没有变的, 改变的是指针指向的list set(集合)set有一个特性, 就是元素的内容是唯一的, 还有set和tuple一样, 只可以添加不可变的值123456789101112131415s = set([1, 2, 3]) # 初始化Set时, 只能接收lists.add(4)s.add((4, 5)) # set 只可以添加不可变的值s.add((4, 5)) # 不会重复添加s.add((4, 5, 6))x = "ABC"s.add(x)x = "XYZ" # 虽然 x 改变了指针指向, 但set中原来添加的并不是变量x, 而是x所指向的"ABC"# s.add([1, 2, 5]) # set 不能添加可变的元素s.remove(1)s.remove((4, 5, 6))# s.remove(5) # KeyError: 5print(s) 执行结果: dictionary(字典)1234567891011121314151617181920dictionary = &#123; "name" : "小明", "age" : 23, "phone":"18733774869", "age" : 24 # 这样是可以的, 新值会覆盖旧值, 但实际情况中这样没有意义&#125;dictionary["age"] = dictionary["age"] + 1 # 修改dictionary中指定key的值dictionary["address"] = "北京, 丰台区" # 向dictionary中添加新的元素print(isinstance(dictionary["phone"], str))print(isinstance(dictionary["age"], int))print(isinstance(dictionary["name"], str))print(dictionary["age"])if "age" in dictionary: # 判断dictionary中, 是否存在指定的key print(dictionary["age"])for key in dictionary: print(key, '\t =&gt; \t', dictionary[key])print(dictionary.pop("age")) # 删除指定的keyprint(dictionary.get("Age")) # None# print(dictionary["Age"]) # KeyError: 'Age'print(dictionary.get("Age", -1)) # -1, 若Map中没对应的key, 则返回指定的默认值]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python 环境的安装与HelloWord]]></title>
    <url>%2F2017%2F12%2F23%2Farticle%2Fpython%2Farticle-python_01%2F</url>
    <content type="text"><![CDATA[Python 环境的安装与HelloWord Python 作为一种解释型语言, 最近几年他的影响力渐渐扩大.说来可笑, 我说想学Python的原因, 是想用 Python 写一个爬虫程序, 去爬取网易云音乐中的MV. 一开始就在网上找一些爬虫的代码的示例, 发现完全不懂, 于是就想系统的学习一下这门语言. 之前也接触过其他的解释型语言(JavaScript), 我想学习起来应该不会太过费力. 首先, 安装环境, 选择IDE 我安装的是 Python 3 IDE 我用的是 Sublime Text 3 配置 IDE (前提是python要加到环境变量中, 这在安装时, 就已经修改过了)123456789101112131415&#123; "shell_cmd": "python -u \"$file\"", "file_regex": "^[ ]*File \"(...*?)\", line ([0-9]*)", "selector": "source.python", "env": &#123;"PYTHONIOENCODING": "utf-8"&#125;, "variants": [ &#123; "name": "Customize Python", "shell_cmd": "python \"$&#123;file&#125;\"", &#125; ]&#125; 编写 Hello World 在编写程序之前, 给Python一个独立的工作空间 创建 hello.py 在文件中, 直接写下面这一句, 就是可以执行了1print(&quot;Hello World!&quot;) 先体验一下Python的命令行:在hello.py文件所在的目录下, 调出命令行执行 python hello.py 执行结果: 也可以在 Sublime Text 3 中按 Ctrl + B 执行结果:]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Cookie, Session, Token]]></title>
    <url>%2F2017%2F04%2F25%2Fnode%2Fnode-cookie-session-token%2F</url>
    <content type="text"><![CDATA[Cookie, Session, Token的区别与联系 Cookie, Session, Token 这三者都解决了HTTP协议无状态的问题 Cookie机制Cookie机制 是采用在客户端保持状态的方案. Cookie的使用是由浏览器按照一定的原则在后台自动发送给服务器的。浏览器检查所有存储的Cookie，如果某个Cookie所声明的作用范围大于等于将要请求的资源所在的位置，则把该Cookie附在请求资源的HTTP请求头上发送给服务器。 Cookie的内容主要包括：名字、值、过期时间、路径和域。路径与域一起构成Cookie的作用范围。 若不设置过期时间，则表示这个Cookie的生命期为浏览器会话期间，关闭浏览器窗口，Cookie就消失。这种生命期为浏览器会话期的Cookie被称为 会话Cookie. 会话Cookie一般不存储在硬盘上而是保存在内存里. 若设置了过期时间，浏览器就会把Cookie保存在硬盘上，关闭后再次打开浏览器，这些Cookie仍然有效直到超过设定的过期时间。存储在硬盘上的cookie可以在不同的浏览器进程间共享，比如两个IE窗口。而对于保存在内存里Cookie，不同的浏览器有不同的处理方式。 Session 机制Session机制是一种服务器端的机制，服务器使用一种类似于散列表的结构（也可能就是使用散列表）来保存信息。 当程序需要为某个客户端的请求创建一个Session时，服务器首先检查这个客户端的请求里是否已包含了一个Session标识（称为session id），如果已包含则说明以前已经为此客户端创建过session,服务器就按照session id把这个session检索出来使用（检索不到，会新建一个），如果客户端请求不包含session id，则为此客户端创建一个session并且生成一个与此session相关联的session id，session id的值应该是一个既不会重复，又不容易被找到规律以伪造的字符串，这个session id将被 在本次响应中返回给客户端保存。保存这个session id的方式可以采用cookie，这样在交互过程中浏览器 可以自动的按照规则把这个标识发送给服务器。一般这个cookie的名字就是类似于SESSIONID。 由于cookie可以被人为的禁止，必须有其他机制以便在cookie被禁止时仍然能够把session id传递回服务器。 两种方式： 第一种：URL重写（常用），就是把session id直接附加在URL路径的后面。 第二种：表单隐藏字段（现已很少使用）。就是服务器会自动修改表单，添加一个隐藏字段，以便在表单提交时能够把session id传递回服务器。 Ps: GitHub 貌似没打算用这两种方式: “Cookies must be enabled to use GitHub.” Token机制Token的意思是“令牌”，是用户身份的验证方式，最简单的Token组成:uid(用户唯一的身份标识)、time(当前时间的时间戳)、sign(签名)，由Token的前几位+盐以哈希算法压缩成一定长的十六进制字符串，可以防止恶意第三方拼接Token请求服务器。还可以把不变的参数也放进Token，避免多次查库 Cookie 与 Session 传统身份验证的方法HTTP 是一种没有状态的协议，也就是它并不知道是谁是访问应用。这里我们把用户看成是客户端，客户端使用用户名还有密码通过了身份验证，不过下回这个客户端再发送请求时候，还得再验证一下。 解决的方法就是，当用户请求登录的时候，如果没有问题，我们在服务端生成一条记录，这个记录里可以说明一下登录的用户是谁，然后把这条记录的 ID 号发送给客户端，客户端收到以后把这个 ID 号存储在 Cookie 里，下次这个用户再向服务端发送请求的时候，可以带着这个 Cookie ，这样服务端会验证一个这个 Cookie 里的信息，看看能不能在服务端这里找到对应的记录，如果可以，说明用户已经通过了身份验证，就把用户请求的数据返回给客户端。 上面说的就是 Session，我们需要在服务端存储为登录的用户生成的 Session ，这些 Session 可能会存储在内存，磁盘，或者数据库里。我们可能需要在服务端定期的去清理过期的 Session 。 基于 Token 的身份验证方法 使用基于 Token 的身份验证方法，在服务端不需要存储用户的登录记录。大概的流程是这样的： 客户端使用用户名跟密码请求登录 服务端收到请求，去验证用户名与密码 验证成功后，服务端会签发一个 Token，再把这个 Token 发送给客户端 客户端收到 Token 以后可以把它存储起来，比如放在 Cookie 里或者 Local Storage 里 客户端每次向服务端请求资源的时候需要带着服务端签发的 Token 服务端收到请求，然后去验证客户端请求里面带着的 Token，如果验证成功，就向客户端返回请求的数据 打破误解 只要关闭浏览器 ，session就消失了？ 不对。对Session来说，除非程序通知服务器删除一个 Session，否则服务器会一直保留，程序一般都是在用户做log off的时候发个指令去删除Session。 然而浏览器从来不会主动在关闭之前通知服务器它将要关闭，因此服务器根本不会有机会知道浏览器已经关闭，之所以会有这种错觉，是大部分Session机制都使用会话Cookie来保存session id，而关闭浏览器后这个session id就消失了，再次连接服务器时也就无法找到原来的Session。如果服务器设置的Cookie被保存在硬盘上，或者使用某种手段改写浏览器发出的HTTP请求头，把原来的session id发送给服务器，则再次打开浏览器仍然能够打开原来的Session. 恰恰是由于关闭浏览器不会导致Session被删除，迫使服务器为Session设置了一个失效时间，当距离客户端上一次使用Session的时间超过这个失效时间时，服务器就可以以为客户端已经停止了活动，才会把Session删除以节省存储空间。]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Cookie</tag>
        <tag>Session</tag>
        <tag>Token</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于Oracle 的NULL]]></title>
    <url>%2F2016%2F12%2F30%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_04%2F</url>
    <content type="text"><![CDATA[关于Oracle 的NULL 原本设想 两数相加 123select a+b from ( select 11 A, 22 B from dual) 结果: 33 但是如果其中一个数为NULL时 123select a+b from ( select null A, 22 B from dual) 结果: null没有得到我们预期的结果: 22 正确的写法: 123select nvl(a,0)+nvl(b,0) from ( select null A, 22 B from dual) 结果: 22 NULL参加统计 123456789select count(A) from ( select 1 A from dual union select 2 A from dual union select 3 A from dual union select 4 A from dual) 结果: 4 如果统计的数据中有NULL值： 123456789select count(A) from ( select 1 A from dual union select 2 A from dual union select null A from dual union select 4 A from dual) 结果: 3 显然没有达到我们计数统计的需求应该写成这样: 123456789select count(decode(A, null, 1, 1)) from ( select 1 A from dual union select 2 A from dual union select null A from dual union select 4 A from dual) 结果: 4]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[简单的 Oracle Function]]></title>
    <url>%2F2016%2F12%2F04%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_05%2F</url>
    <content type="text"><![CDATA[简单的 Oracle Function 1234567891011-- 简单的 Functioncreate or replace function get_sal(a in number, b in number) return number is result number; begin result := a + b; return(result); end;-- 调用 Functionselect get_sal(1,2) from dual;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[循环引用 to JSON]]></title>
    <url>%2F2016%2F09%2F24%2Fnode%2Fjava%2Fnode-j2se_02%2F</url>
    <content type="text"><![CDATA[循环引用 to JSON DisableCircularReferenceDetect来禁止循环引用检测： JSON.toJSONString(…, SerializerFeature.DisableCircularReferenceDetect) 当进行toJSONString的时候，默认如果重用对象的话，会使用引用的方式进行引用对象。 12345678910&#123; "颜色": [ &#123; "$ref": "$.itemSkuList[0].itemSpecificationList[0]" &#125;, &#123; "$ref": "$.itemSkuList[1].itemSpecificationList[0]" &#125; ]&#125; 循环引用很多场景中，我们需要序列化的对象中存在循环引用，在许多的json库中，这会导致stackoverflow。在功能强大的fastjson中，你不需要担心这个问题。例如: 123456A a = new A();B b = new B(a);a.setB(b);String text = JSON.toJSONString(a); //&#123;"b":&#123;"a":&#123;"$ref":".."&#125;&#125;&#125;A a1 = JSON.parseObject(text, A.class);Assert.assertTrue(a1 == a1.getB().getA()); 引用是通过”$ref”来表示的 引用 描述 “$ref”:”..” 上一级 “$ref”:”@” 当前对象，也就是自引用 “$ref”:” ¥” 根对象 “$ref”:” ¥.children.0” 基于路径的引用，相当于 root.getChildren().get(0)]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JSON</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VBA 操作 Excel 数据筛查]]></title>
    <url>%2F2016%2F09%2F22%2Fnode%2Fnode-vba_1%2F</url>
    <content type="text"><![CDATA[VBA 操作 Excel 数据筛查 今天要统计程序中用到了哪些表, 统计出来, 发现有很多重复的就想到用Excel筛一下 1234567891011121314151617181920212223242526272829303132Sub cal()'' cal 宏' Dim num As Integer Dim dataCol As Integer Dim maxRow As Integer Dim resultCol As Integer num = 1 dataCol = 4 maxRow = 2728 resultCol = 6 For i = 1 To maxRow For j = i + 1 To maxRow If Cells(i, dataCol) = Cells(j, dataCol) And Not Cells(j, dataCol).Interior.Color = 65535 Then Cells(j, dataCol).Interior.Color = 65535 End If Next Next For i = 1 To maxRow If Not Cells(i, dataCol).Interior.Color = 65535 Then Cells(num, resultCol) = Cells(i, dataCol) num = num + 1 End If NextEnd Sub 自定义了一个宏, 处理这个问题]]></content>
      <categories>
        <category>VBA</category>
      </categories>
      <tags>
        <tag>VBA</tag>
        <tag>Excel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 临时表]]></title>
    <url>%2F2016%2F09%2F19%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_06%2F</url>
    <content type="text"><![CDATA[Oracle 临时表 Oracle 临时表临时表空间分配一块内存空间。也就是说只有向临时表中插入数据时，才会给临时表分配存储空间。临时表分事务级临时表和会话级临时表。事务级临时表只对当前事务有效，通过语句：ON COMMIT DELETE ROWS 语句指定。会话级临时表对当前会话有效，通过语句：ON COMMIT PRESERVE ROWS语句指定。 会话级: 只有该会话可以访问临时表中的内容, 其他Session 无法访问 Oracle 删除其他Session中的临时表因为表KOL_XX_FIN050_TEMP 为临时表，而且有其他session正在使用。 处理步骤： 先从 dba_objects / user_objects中查询到该表的object_id: select object_id from dba_objects where object_name=upper(‘KOL_XX_FIN050_TEMP’); 根据查到的object_id知道使用该表的session： select * from v$lock where id1=&amp;object_id; 在从v$session视图中查到该session的SID和SERIAL#： select * from v$session where sid=331; 杀掉这些进程: alter system kill session ‘SID,SERIAL#’;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[初识 JavaScript 闭包]]></title>
    <url>%2F2016%2F09%2F19%2Fnode%2Fjavascript%2Fnode-javascript_01%2F</url>
    <content type="text"><![CDATA[初识 JavaScript 闭包 12345678910// 神奇的重名方法var sayHello = function() &#123; return 'Hello var';&#125;;function sayHello(name) &#123; return 'Hello function';&#125;;alert(sayHello()); JavaScript 会默认将 Function 提到最前面. 12345678910var global_var1 = 11;function global_function1(parameter_a)&#123; var local_var1 = 12 ; function local_function1(parameter_b)&#123; return parameter_b + local_var1 + parameter_a + global_var1; &#125; return local_function1 ;&#125;var global_sum = global_function1(13);alert(global_sum(14)); 返回 50. global_var1, global_sum 全局变量 var global_sum = global_function1(13); 执行global_function1方法时, 将local_function1函数返回给, global_sum global_sum(14); 因为 global_sum 是全局变量, 所以会一直保存 local_function1 函数在内存中. 又因为 local_function1 依赖于 global_function1 所以 global_function1 也会保存在内存]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[初识 JavaScript 命名空间]]></title>
    <url>%2F2016%2F09%2F19%2Fnode%2Fjavascript%2Fnode-javascript_02%2F</url>
    <content type="text"><![CDATA[初识 JavaScript 命名空间 1234567891011121314151617181920// NameSpace By Functionvar NameSpace = window.NameSpace || &#123;&#125;;NameSpace.Hello = function() &#123; this.name = 'world';&#125;;NameSpace.Hello.prototype.sayHello = function(_name) &#123; return 'Hello ' + (_name || this.name);&#125;;var hello = new NameSpace.Hello();alert(hello.sayHello("JavaScript"));// NameSpace By Objectvar NameSpace = window.NameSpace || &#123;&#125;;NameSpace.Hello = &#123; name: 'World!!', sayHello: function(_name) &#123; return 'Hello ' + (_name || this.name); &#125;&#125;;alert(NameSpace.Hello.sayHello());]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 字段内容转行]]></title>
    <url>%2F2016%2F09%2F13%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_07%2F</url>
    <content type="text"><![CDATA[Oracle 字段内容转行 内容以 , 分割 , 多列展示 1234SELECT REGEXP_SUBSTR(BHALL, '[^, ]+', 1, ROWNUM) BH FROM (SELECT ('1A000000002702758284, 1A000000002702758285, 1A000000002702758334') BHALL FROM DUAL)CONNECT BY ROWNUM &lt;= LENGTH(BHALL) - LENGTH(REPLACE(BHALL, ',', '')) + 1]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[自定义对象, 绑定get, set 方法]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_03%2F</url>
    <content type="text"><![CDATA[自定义对象, 绑定get, set 方法 自定义对象, 通过 defineSetter 与 defineGetter 绑定get, set 方法 12345678910111213141516var c = &#123;sum:"", show:function(num, num1) &#123; sum = num + num1;&#125;&#125;;c.__defineSetter__('scum', function(y) &#123; this.sum = sum + "..." + y;&#125;);c.__defineGetter__('scum', function() &#123; return "sum = " + sum;&#125;);c.show(1,3);c.scum = "1";alert(c.sum);alert(c.scum);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript 格式化时间类型]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_04%2F</url>
    <content type="text"><![CDATA[JavaScript 格式化时间类型 12345678910111213141516171819202122232425262728293031Date.prototype.__defineGetter__('year', function() &#123;return this.getFullYear();&#125;);Date.prototype.__defineSetter__('year', function(y) &#123;this.setFullYear(y)&#125;);Date.prototype.__defineGetter__('month', function() &#123;return this.getMonth();&#125;);Date.prototype.__defineSetter__('month', function(m) &#123;this.setMonth(m)&#125;);Date.prototype.format = function(fmt) &#123; //author: meizz var o = &#123; "M+" : this.getMonth()+1, //月份 "d+" : this.getDate(), //日 "H+" : this.getHours(), //小时 "m+" : this.getMinutes(), //分 "s+" : this.getSeconds(), //秒 "q+" : Math.floor((this.getMonth()+3)/3), //季度 "S" : this.getMilliseconds() //毫秒 &#125;; if(/(y+)/.test(fmt)) fmt=fmt.replace(RegExp.$1, (this.getFullYear()+"").substr(4 - RegExp.$1.length)); for(var k in o) if(new RegExp("("+ k +")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length))); return fmt; &#125;var now = new Date;now.year = 2007;now.month = 10;alert(now.year);alert(now.month);alert(now.format("yyyy-MM-dd HH:mm:ss"));alert(now.format("yyyy-MM-dd"));]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript 定义对象的两种方式]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_05%2F</url>
    <content type="text"><![CDATA[JavaScript 定义对象的两种方式 方法一: 12345678var Cat = function() &#123; var sum = "" this.show = function(num, num1) &#123; sum = num + num1; alert("sum = " + sum); &#125;&#125;var c = new Cat(); 方法二: 123var c = &#123;sum:"", show:function(num, num1) &#123;sum = num + num1; alert("sum = " + sum);&#125;&#125;;c.show(1,1);alert(t);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript 定义对象的两种方式]]></title>
    <url>%2F2016%2F09%2F11%2Fnode%2Fjavascript%2Fnode-javascript_16%2F</url>
    <content type="text"><![CDATA[方法一: 12345678var Cat = function() &#123; var sum = "" this.show = function(num, num1) &#123; sum = num + num1; alert("sum = " + sum); &#125;&#125;var c = new Cat(); 方法二: 123var c = &#123;sum:"", show:function(num, num1) &#123;sum = num + num1; alert("sum = " + sum);&#125;&#125;;c.show(1,1);alert(t);]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SQL语句 查看Oracle版本]]></title>
    <url>%2F2016%2F09%2F09%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_08%2F</url>
    <content type="text"><![CDATA[SQL语句 查看Oracle版本 方法一：v$version 1select * from v$version; 方法二：product_component_version 1select * from product_component_version; 方法三：dbms_output.put_line( dbms_db_version.version ) 12SET SERVEROUTPUT ON EXEC dbms_output.put_line( dbms_db_version.version );]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery 不使用 $]]></title>
    <url>%2F2016%2F09%2F05%2Fnode%2Fjavascript%2Fnode-javascript_06%2F</url>
    <content type="text"><![CDATA[jQuery 不使用 $ 交出 $ 的控制权 1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;meta charset="UTF-8"/&gt; &lt;script src="js/jquery.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;script type="text/javascript"&gt; jQuery.noConflict();// 交出 $ 的控制权 jQuery(document).ready(function() &#123; alert("aaaaaaaaaaaaa") &#125;); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[初认 Oracle 存储过程]]></title>
    <url>%2F2016%2F08%2F02%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_09%2F</url>
    <content type="text"><![CDATA[初认 Oracle 存储过程 存储过程 – 基础语法创建存储过程123456789CREATE OR REPLACE PROCEDURE 存储过程名字 ( 参数1 [&lt;in, out, in out&gt;] 数据类型, 参数2 [&lt;in, out, in out&gt;] 数据类型 ) IS变量1 INTEGER :=0;变量2 DATE;BEGINEND; 变量赋值12SELECT 列.... INTO 变量... FROM 表名 WHERE 条件....;变量1 := 值; 分支123IF V_TEST=1 THEN do somethingEND IF; 循环123WHILE V_TEST=1 LOOP do somethingEND LOOP; 游标1234567-- 定义游标 CURSOR 游标名 IS SELECT 列名.... FROM 表名... WHERE 条件....;-- FOR ... IN 使用 游标 FOR 临时变量名 IN 游标名 LOOP do something END LOOP; 存储过程 – PL/SQL 工具调试 在 对象 窗口中 右击存储过程 添加调试信息 重新编译 测试]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>Oracle</tag>
        <tag>Procedure</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[一次 WebService 的调错经历]]></title>
    <url>%2F2016%2F07%2F20%2Fnode%2Fjava%2Fnode-j2ee_03%2F</url>
    <content type="text"><![CDATA[Ajax调用, 并解析返回的数据 1234567891011javax.xml.ws.WebServiceException is not a valid service. Valid services are:javax.xml.ws.WebServiceException: &#123;&#125;InterServiceImpService is not a valid service. Valid services are: &#123;&#125;InterServiceService at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:249) at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:197) at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:187) at weblogic.wsee.jaxws.spi.WLSServiceDelegate.&lt;init&gt;(WLSServiceDelegate.java:84) at weblogic.wsee.jaxws.spi.WLSProvider$ServiceDelegate.&lt;init&gt;(WLSProvider.java:598) at weblogic.wsee.jaxws.spi.WLSProvider.createServiceDelegate(WLSProvider.java:120) at weblogic.wsee.jaxws.spi.WLSProvider.createServiceDelegate(WLSProvider.java:112) at weblogic.wsee.jaxws.spi.WLSProvider.createServiceDelegate(WLSProvider.java:83) at javax.xml.ws.Service.&lt;init&gt;(Service.java:56) 今天我在调用使用cxf的webservice的时候出现这个异常。 这里的意思是：InterServiceImpService 不是可用的服务，正常可用的服务应该是InterServiceService。 不知道什么问题。后来发现我在webservice的服务方发布是的InterService，所以在wsdl文件中的server就是InterServiceService，但是呢，在客户端使用的是InterServiceImp实现类。这里匹配不上。 我将客户端的调用类InterServiceImp改为InterService或是将服务端的发布方法InterService改为InterServiceImp。就可以了。]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaWeb</tag>
        <tag>WebService</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript 禁止Backspace 键]]></title>
    <url>%2F2016%2F06%2F13%2Fnode%2Fjavascript%2Fnode-javascript_07%2F</url>
    <content type="text"><![CDATA[JavaScript 禁止Backspace 键 123456789101112131415161718192021&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;禁止后退键&lt;/title&gt; &lt;script type="text/javascript"&gt; function keyDown() &#123; // 禁止使用backspace键 if(window.event.keyCode == 8) &#123; alert("不能使用backspace键"); event.returnValue=false; &#125; // 后面还可以禁止其它键，照着上面的方法写就行了 // 比如：if(event.shiftKey&amp;&amp;event.keyCode == 121) // 屏蔽shift+F10 &#125; &lt;/script&gt; &lt;/head&gt; &lt;body onkeydown="keyDown()" oncontextmenu="event.returnValue=false"&gt; 请按退格键测试 &lt;br&gt; &lt;/body&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[自定义JSTL标签]]></title>
    <url>%2F2016%2F05%2F25%2Fnode%2Fjava%2Fnode-j2ee_01%2F</url>
    <content type="text"><![CDATA[JavaWeb项目中, 自定义JSTL标签 有WEB-INF下建立一个datetag.tld12345678910111213141516&lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;taglib&gt; &lt;tlib-version&gt;1.0&lt;/tlib-version&gt; &lt;jsp-version&gt;1.2&lt;/jsp-version&gt; &lt;tag&gt; &lt;name&gt;date&lt;/name&gt; &lt;tag-class&gt;com.hoolai.pirates.football.util.DateTag&lt;/tag-class&gt; &lt;body-content&gt;JSP&lt;/body-content&gt; &lt;attribute&gt; &lt;name&gt;value&lt;/name&gt; &lt;required&gt;true&lt;/required&gt; &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt; &lt;/attribute&gt; &lt;/tag&gt; &lt;/taglib&gt; 新建一个类DateTag123456789101112131415161718192021222324252627282930313233package pro.yuchen.demo.util; import java.io.IOException; import java.text.SimpleDateFormat; import java.util.Calendar; import javax.servlet.jsp.JspException; import javax.servlet.jsp.tagext.TagSupport; public class DateTag extends TagSupport &#123; private static final long serialVersionUID = -2312310581852395045L; private String value; @Override public int doStartTag() throws JspException &#123; String vv = "" + value; long time = Long.valueOf(vv); Calendar c = Calendar.getInstance(); c.setTimeInMillis(time); SimpleDateFormat dateformat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"); String s = dateformat.format(c.getTime()); try &#123; pageContext.getOut().write(s); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; return super.doStartTag(); &#125; public void setValue(String value) &#123; this.value = value; &#125; &#125; 在jsp中引入1&lt;%@ taglib prefix="lzq" uri="/WEB-INF/lib/tld/datetag.tld"%&gt; 页面中用到的地方123456&lt;td align=&quot;left&quot;&gt; &lt;input name=&quot;endTime&quot; type=&quot;text&quot; value=&quot;&lt;lzq:date value=&quot;$&#123;res.endTime&#125;&quot;/&gt;&quot; class=&quot;input_bg&quot; /&gt;&lt;/td&gt; 这样在servlet里传过来的是long，在页面上用jstl可以格式化为 2014-05-04 18:18:22]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JSTL</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 查看表对应注释]]></title>
    <url>%2F2016%2F04%2F19%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_11%2F</url>
    <content type="text"><![CDATA[Oracle 查看表对应注释 12345-- 表注释select * from user_tab_comments;-- 字段注释select * from user_col_comments;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[自定义 Dialog]]></title>
    <url>%2F2016%2F04%2F01%2Fnode%2Fjavascript%2Fnode-javascript_08%2F</url>
    <content type="text"><![CDATA[自定义 Dialog Dialog HTML Demo 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt; &lt;head&gt; &lt;title&gt;Dialog Demo&lt;/title&gt; &lt;script src=&quot;js/jquery.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; &lt;script src=&quot;js/dialog.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; &lt;script src=&quot;js/bootstrap.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/bootstrap.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/bootstrap-responsive.css&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/dialog.css&quot;/&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;mask&quot;&gt;&lt;/div&gt; &lt;/body&gt; &lt;script type=&quot;text/javascript&quot;&gt; // 创建对话框 var dialog = new Dialog(); dialog.createDialog(); // 设置对话框标题 dialog.setTitle(&quot;提示&quot;); // 设置对话框消息 dialog.setMessage(&quot;是否删除该图片?&quot;); // 创建需要显示的按钮 var list = new Array(); var save = document.createElement(&quot;input&quot;); save.type = &quot;button&quot;; save.setAttribute(&quot;class&quot;,&quot;btn&quot;); save.value = &quot; 保 存 &quot;; save.onclick = function() &#123; dialog.hideDialog(); &#125; list[list.length] = save; // 设置对话框按钮 dialog.setButtons(list); // 显示对话框 dialog.showDialog(); &lt;/script&gt;&lt;/html&gt; Dialog JavaScript 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081function Dialog() &#123; /** * 创建对话框 * */ this.createDialog = function() &#123; var mask = document.getElementById(&quot;mask&quot;); var dialog = document.createElement(&quot;div&quot;); var title = document.createElement(&quot;div&quot;); var body = document.createElement(&quot;div&quot;); var foot = document.createElement(&quot;div&quot;); dialog.id = &quot;dialog&quot;; title.id = &quot;dialog-title&quot;; body.id = &quot;dialog-body&quot;; foot.id = &quot;dialog-foot&quot;; dialog.appendChild(title); dialog.appendChild(body); dialog.appendChild(foot); mask.appendChild(dialog); &#125; /** * 显示对话框 */ this.showDialog = function() &#123; $(&apos;#mask&apos;).fadeIn(&quot;fast&quot;, function()&#123; $(&apos;#dialog&apos;).slideDown(&quot;fast&quot;); &#125;); &#125; /** * 隐藏对话框 */ this.hideDialog = function() &#123; $(&apos;#dialog&apos;).slideUp(&quot;fast&quot;,function()&#123; $(&apos;#mask&apos;).fadeOut(&quot;fast&quot;); &#125;); &#125; /** * 设置标题显示内容 */ this.setTitle = function(title) &#123; $(&apos;#dialog-title&apos;).html(title); &#125; /** * 设置消息显示内容 */ this.setMessage = function(message) &#123; $(&apos;#dialog-body&apos;).html(message); &#125; /** * 添加按钮 * 默认会有一个关闭按钮 * * @param &#123;Object&#125; objs */ this.setButtons = function(objs) &#123; var button = document.createElement(&quot;input&quot;); button.type = &quot;button&quot;; button.setAttribute(&quot;class&quot;,&quot;btn&quot;); button.value = &quot; 确 认 &quot;; button.onclick = function() &#123; $(&apos;#dialog&apos;).slideUp(&quot;fast&quot;,function()&#123; $(&apos;#mask&apos;).fadeOut(&quot;fast&quot;); &#125;); &#125; if(undefined!=objs &amp;&amp; null!=objs &amp;&amp; objs.length&gt;0) &#123; for (var i=0; i&lt;objs.length; i++) &#123; $(&apos;#dialog-foot&apos;).append(objs[i]); &#125; button.value = &quot; 关 闭 &quot;; &#125; $(&apos;#dialog-foot&apos;).append(button); &#125;&#125; Dialog CSS 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869*&#123; margin: 0px; padding: 0px;&#125;#mask &#123; display: none; position: absolute; top: 0%; left: 0%; width: 100%; height: 100%; background-color: black; z-index: 9997; -moz-opacity: 0.7; opacity: .70; filter: alpha(opacity=70);&#125;#dialog &#123; display: none; position: relative; top: 23px; width: 53%; min-height: 150px; border: 3px solid #CCCCCC; background-color: white; z-index: 9998; overflow: auto; /* 水平居中 */ margin-left: auto; margin-right: auto; /*修改对话框的字体*/ font-family: &quot;微软雅黑&quot;;&#125;#dialog-title &#123; position: absolute; height: 35px; width: 100%; top: 0px; left: 0px; font-size: 30px; font-weight: normal; background-color: #CCCCCC; padding-top: 7px;&#125;#dialog-foot &#123; background-color: #CCCCCC; position: absolute; height: 32px; width: 100%; bottom: 0px; right: 0px; padding-top: 3px; text-align: right;&#125;#dialog-body &#123; font-size: 15px; padding-top: 60px; padding-left: 23px; padding-bottom: 30px;&#125;#dialog-foot .btn &#123; margin-right: 10px;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSS 内使用 JavaScript]]></title>
    <url>%2F2016%2F03%2F08%2Fnode%2Fjavascript%2Fnode-javascript_09%2F</url>
    <content type="text"><![CDATA[CSS 内使用 JavaScript 12_position:absolute; _top:expression(eval(document.documentElement.scrollTop)); 这一段是CSS（层叠样式表）的代码，常用于网页的样式设计中 _position:absolute; 这句代码的意思是“位置：绝对定位”，也就是说元素的位置是相对于整个浏览器窗口的，而不是相对于父元素。一般要配合top、left属性使用。 _top:expression(eval(document.documentElement.scrollTop));top属性是定义元素的顶部在网页中的位置，而CSS中的expression属性是用来调用Javascript代码。所以expression后面的括号中就是一行Javascript代码。eval(document.documentElement.scrollTop); 其中，document.documentElement.scrollTop 的意思是获取当前页面滚动条所滚动到的位置的数值，而再用eval()函数把它计算成数值。 所以这句代码最终的意思就是：你浏览器窗口的滚动条滑到哪，这个元素的位置就在哪。 前面的下划线是CSS Hack中的用法，用来区分不同的浏览器以解决兼容问题，此处的下划线只有IE6能识别，而IE7、IE8、Firefox等浏览器是识别不了的，所以这两行代码只对IE6有效，其他浏览器是忽略它们的。要了解更多关于CSS Hack的信息]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Div嵌套 内层取消外层事件]]></title>
    <url>%2F2016%2F03%2F08%2Fnode%2Fjavascript%2Fnode-javascript_11%2F</url>
    <content type="text"><![CDATA[Div嵌套 内层取消外层事件 1234567891011121314151617181920212223242526272829303132333435363738&lt;!DOCTYPE HTML&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Test Demo....&lt;/title&gt; &lt;style type="text/css"&gt; div[id=inner_1]:hover&#123; background-color: #AAAAAA; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="__temp"&gt; Outer &lt;div id="inner_1"&gt;Inner_1&lt;/div&gt; &lt;div id="inner_2"&gt;Inner_2&lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; document.getElementById("__temp").onclick = function() &#123; alert("Outer......"); &#125; document.getElementById("inner_1").onclick = function() &#123; alert("Inner......"); event.cancelBubble=true; &#125; document.getElementById("inner_2").onclick = function() &#123; alert("Inner......");// event.cancelBubble=true; &#125; &lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5 data-* 自定义属性]]></title>
    <url>%2F2016%2F03%2F07%2Fnode%2Fnode-html_1%2F</url>
    <content type="text"><![CDATA[HTML5 data-* 自定义属性 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;!DOCTYPE HTML&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;Test Demo....&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="container"&gt; &lt;span class="right" data-id = "0001" data-title = "标题0001" data-description = "描述0001" data-role = "1"&gt; Test1 &lt;/span&gt; &lt;span class="right" data-id = "0002" data-title = "标题0002" data-description = "描述0002" data-role = "2"&gt; Test2 &lt;/span&gt; &lt;/div&gt; &lt;div id="result"&gt; &lt;/div&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; var arr = document.getElementsByClassName("right"); for (var i = 0; i &lt; arr.length; i++) &#123; arr[i].onclick = function() &#123; var rt = '&lt;br /&gt;'; var id = this.dataset.id; var title = this.dataset.title; var description = this.dataset.description; var role = this.dataset.role; document.getElementById("result").innerHTML = "ID: " + id + rt + "Title: " + title + rt + "Description: " + description + rt + "Role: " + role; &#125; &#125; &lt;/script&gt;&lt;/html&gt; 在标签中写入 自定义属性用dataset 获取自定义属性集合]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 字段 增删改]]></title>
    <url>%2F2016%2F03%2F04%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_03%2F</url>
    <content type="text"><![CDATA[Oracle 字段 增删改 123456--JKJYFJB-- Add/modify columns ALTER TABLE JKJYFJB ADD FJLX VARCHAR2(10);-- Add comments to the columns COMMENT ON COLUMN JKJYFJB.FJLX IS '附件类型'; 添加字段的语法： 1alter table tablename add (column datatype [default value][null/not null],….); 修改字段的语法： 1alter table tablename modify (column datatype [default value][null/not null],….); 删除字段的语法： 1alter table tablename drop (column);]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 查询结果列转行]]></title>
    <url>%2F2016%2F02%2F27%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_10%2F</url>
    <content type="text"><![CDATA[Oracle 查询结果列转行 查询结果列转行 wm_concat() 1select wm_concat(MC) from ZDJSJYRYLB where instr('01,02,03', DM) &gt; 0]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript 树]]></title>
    <url>%2F2016%2F01%2F31%2Fnode%2Fjavascript%2Fnode-javascript_10%2F</url>
    <content type="text"><![CDATA[JavaScript 树 Tree HTML Demo 123456789101112131415161718192021222324252627282930313233&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;title&gt;&lt;/title&gt; &lt;link rel="stylesheet" type="text/css" href="css/tree.css"/&gt; &lt;script src="js/jquery-2.1.3.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;script src="js/tree.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id="left"&gt; &lt;div id="tree_container"&gt;&lt;/div&gt; &lt;/div&gt; &lt;div id="right"&gt; &lt;div id="tree_container_right"&gt;aaaaaaaaaaaaaaa&lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; // 创建对象 var tree = new Tree(); // 初始化数据 tree.initData('&#123;"id" :"130100", "parent":"#", "text" :"石家庄", "child" : [&#123;"id" :"130101", "parent":"130100", "text" :"桥东区", "child" : [&#123;"id" :"130101001", "parent":"130101", "text" :"胜南街道社区卫生服务中心", "child" : "#"&#125;, &#123;"id" :"130101002", "parent":"130101", "text" :"胜北街道社区卫生服务中心", "child" : "#"&#125;, &#123;"id" :"130101003", "parent":"130101", "text" :"中山东路街道社区卫生服务中心", "child" : "#"&#125; ] &#125;, &#123;"id" :"130102", "parent":"130100", "text" :"桥西区", "child" : [&#123;"id" :"130102001", "parent":"130102", "text" :"红旗街道社区卫生服务中心", "child" : "#"&#125;, &#123;"id" :"130102002", "parent":"130102", "text" :"新石街道社区卫生服务中心", "child" : "#"&#125;, &#123;"id" :"130102003", "parent":"130102", "text" :"友谊街道道社区卫生服务中心", "child" : "#"&#125; ] &#125; ] &#125;'); // 初始化树 tree.init("tree_container"); &lt;/script&gt;&lt;/html&gt; JavaScript 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071function Tree() &#123; this.treeContainer = &#123;&#125;; this.root = &#123;&#125;; this.data = &#123;&#125;; /** * 创建节点 * * @param &#123;Object&#125; container 容器 * @param &#123;String&#125; type 节点类型 * @param &#123;String&#125; nodeId 节点id * @param &#123;String&#125; text 节点文本 */ this.createNode = function (container, type, nodeId, text) &#123; var node = document.createElement(type); node.id = nodeId; node.innerText = text; container.appendChild(node); return node; &#125; /** * 初始化数据 * @param &#123;JSON&#125; data JSON数据 */ this.initData = function(data) &#123; this.data = eval("([" + data + "])"); &#125; /** * 初始化组件 * @param &#123;String&#125; containerId 容器id */ this.init = function(containerId) &#123; this.treeContainer = document.getElementById(containerId); this.root = this.createNode(this.treeContainer,"ul","root", ""); this.createTree(this.root, this.data); &#125; /** * 节点单击事件 */ this.click = function() &#123; try&#123; var display = document.getElementById("_"+this.id).style.display; if("" == display)&#123; document.getElementById("_"+this.id).style.display = "none"; &#125; else &#123; document.getElementById("_"+this.id).style.display = ""; &#125; &#125;catch(e) &#123;&#125; &#125; /** * 创建树 * @param &#123;Object&#125; container 容器 * @param &#123;Object&#125; datas 数据源 */ this.createTree = function(container,datas) &#123; for (var i = 0; i &lt; datas.length; ++i) &#123; var data = datas[i]; var branches = this.createNode(container,"li", data.id, data.text); branches.onclick = this.click; if("#" != data.child)&#123; var twig = this.createNode(container,"ul", "_"+data.id, ""); this.createTree(twig, data.child); &#125; &#125; &#125;&#125; CSS 1234567891011121314li &#123; list-style-type: none; cursor: pointer; font-family: "微软雅黑"; padding-left: 5px;&#125;li:hover &#123; background-color: #ccc;&#125;ul &#123; padding-left: 17px;&#125; JSON 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354[ &#123; "id": "130100", "parent": "#", "text": "石家庄", "child": [ &#123; "id": "130101", "parent": "130100", "text": "桥东区", "child": [ &#123; "id": "130101001", "parent": "130101", "text": "胜南街道社区卫生服务中心", "child": "#" &#125;, &#123; "id": "130101002", "parent": "130101", "text": "胜北街道社区卫生服务中心", "child": "#" &#125;, &#123; "id": "130101003", "parent": "130101", "text": "中山东路街道社区卫生服务中心", "child": "#" &#125; ] &#125;, &#123; "id": "130102", "parent": "130100", "text": "桥西区", "child": [ &#123; "id": "130102001", "parent": "130102", "text": "红旗街道社区卫生服务中心", "child": "#" &#125;, &#123; "id": "130102002", "parent": "130102", "text": "新石街道社区卫生服务中心", "child": "#" &#125;, &#123; "id": "130102003", "parent": "130102", "text": "友谊街道道社区卫生服务中心", "child": "#" &#125; ] &#125; ] &#125;]]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[下拉列表 读写操作]]></title>
    <url>%2F2016%2F01%2F27%2Fnode%2Fjavascript%2Fnode-javascript_12%2F</url>
    <content type="text"><![CDATA[下拉列表 读写操作 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;span id="picking"&gt; City: &lt;select name="city" id="city"&gt; &lt;option value="130100"&gt;石家庄&lt;/option&gt; &lt;option value="130300"&gt;保定&lt;/option&gt; &lt;option value="130500"&gt;张家口&lt;/option&gt; &lt;/select&gt; &lt;span id="add" style="display: none;"&gt; &lt;input type="text" id="addCity" /&gt; 格式: 130100,石家庄 &lt;/span&gt; &lt;/span&gt; &lt;/body&gt; &lt;script type="text/javascript"&gt; document.getElementById("picking").ondblclick = function()&#123; document.getElementById("city").style.display = "none"; document.getElementById("add").style.display = "inline"; &#125; document.getElementById("addCity").onkeyup = function(e)&#123; if(e.keyCode == 13) &#123; var city = document.getElementById("city"); var arr = this.value.split(",") try&#123; var content = eval('(&#123;"dm":"' + arr[0] + '", "mc":"' + arr[1] + '"&#125;)'); if(content.mc === "undefined") &#123; throw("格式不正确!"); &#125; city.innerHTML += '&lt;option value="' + content.dm + '"&gt;' + content.mc + '&lt;/option&gt;'; &#125;catch(e)&#123; alert(e); &#125; document.getElementById("city").style.display = "inline"; document.getElementById("add").style.display = "none"; document.getElementById("addCity").value = ""; &#125; &#125; &lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScript 关于Select和CheckBox的一些操作]]></title>
    <url>%2F2016%2F01%2F27%2Fnode%2Fjavascript%2Fnode-javascript_13%2F</url>
    <content type="text"><![CDATA[JavaScript 关于Select和CheckBox的一些操作 1234567891011121314151617181920212223242526272829303132333435363738/** * 判断复选框是否为空 * 需要传入 checkBox的name属性 * 返回true,为空 * 返回false, 不为空 */function checkBoxOrRadioIsNull(name) &#123; var arr = document.getElementsByName(name); var i; for (i = 0; i &lt; arr.length; i++) &#123; if(arr[i].checked) &#123; break; &#125; &#125; if(i &lt; arr.length) &#123; return false; &#125; else &#123; return true; &#125;&#125;/** * 选择下拉框的公用方法 * 需要传入 select的id属性 和 需要选中的值 * */function selectPicking(id, val) &#123; var arr = document.getElementById(id).options; for (var i = 0; i &lt; arr.length; i++) &#123; if(arr[i].value == val) &#123; document.getElementById(id).selectedIndex = i; break; &#125; &#125;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iframe 的js变量值]]></title>
    <url>%2F2015%2F12%2F02%2Fnode%2Fjavascript%2Fnode-javascript_14%2F</url>
    <content type="text"><![CDATA[父页面获取iframe 子页面的js变量值, 以及子页面获取父页面js变量 父页面获取iframe 子页面的js变量值方法只有一种： 步骤： 1、获取iframe节点 2、获取iframe中的变量 示例 a.html&lt;iframe id=&#39;x&#39; name=&#39;x&#39; src=&#39;b.html&#39;/&gt; b.html 123&lt;script&gt; var y=&apos;1&apos;;&lt;/script&gt; 在a.html中获取y，则可以通过以下方式document.frames[&#39;x&#39;].y //先获取frame,在获取y 子页面获取父页面js变量父页面 &lt;input type=&quot;hidden&quot; id=&quot;result&quot; name=&quot;result&quot; value=&quot;&quot; /&gt; 子页面 &lt;input type=&quot;hidden&quot; id=&quot;_bh${da.bh}&quot; value=&#39;${da.bh},${da.name},${da.sfzh},${da.lxdh}&#39;/&gt; 在子页面取得父页面的对象，并赋值 123456function setVal(obj) &#123; var id = "_"+obj.id; var val = document.getElementById(id).value; var parent = window.parent.form1.result; parent.value=val;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 创建序列]]></title>
    <url>%2F2015%2F11%2F10%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_02%2F</url>
    <content type="text"><![CDATA[Oracle 创建序列 1234567CREATE SEQUENCE SEQ_FJHHZDJB --序列名 INCREMENT BY 1 -- 每次加几个 START WITH 1 -- 从1开始计数 NOMAXVALUE -- 不设置最大值 NOCYCLE -- 一直累加，不循环 CACHE 20 NOORDER;]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle 替换字段中的内容]]></title>
    <url>%2F2015%2F11%2F10%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_01%2F</url>
    <content type="text"><![CDATA[Oracle 替换字段中的内容 12update statsfielddefine t set t.showname = REPLACE(t.showname ,substr(t.showname ,7,2) ,'随访') where t.showname like '重性精神疾病访视%' commit; substr(字符串,截取开始位置,截取长度) //返回截取的字 substr(‘Hello World’,0,1) //返回结果为 ‘H’ *从字符串第一个字符开始截取长度为1的字符串 substr(‘Hello World’,1,1) //返回结果为 ‘H’ *0和1都是表示截取的开始位置为第一个字符 substr(‘Hello World’,2,4) //返回结果为 ‘ello’ substr(‘Hello World’,-3,3)//返回结果为 ‘rld’ *负数(-i)表示截取的开始位置为字符串右端向左数第i个字符 replace 函数用法如下： replace（’将要更改的字符串’,’被替换掉的字符串’,’替换字符串’）]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Oracle &符号如何插入（转义）]]></title>
    <url>%2F2015%2F11%2F03%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_12%2F</url>
    <content type="text"><![CDATA[Oracle &amp;符号如何插入（转义） 123insert into table values( 'http://localhost:8080/index.action?username=138&amp;type=1 ');insert into table values( 'http://localhost:8080/index.action?username=138 '||chr(38)|| 'type=1 ');]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java 对称加密算法(DES)]]></title>
    <url>%2F2015%2F10%2F13%2Fnode%2Fjava%2Fnode-j2se_01%2F</url>
    <content type="text"><![CDATA[Java 中的对称加密算法 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188package com.yuchen352416.example;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.ObjectInputStream;import java.io.ObjectOutputStream;import java.io.UnsupportedEncodingException;import java.security.InvalidKeyException;import java.security.Key;import java.security.NoSuchAlgorithmException;import javax.crypto.BadPaddingException;import javax.crypto.Cipher;import javax.crypto.IllegalBlockSizeException;import javax.crypto.KeyGenerator;import javax.crypto.NoSuchPaddingException;import javax.security.auth.kerberos.KerberosKey;import javax.security.auth.kerberos.KerberosPrincipal;import com.sun.org.apache.xerces.internal.impl.dv.util.Base64;public class EncryptData &#123; // 用于产生指定key的常量定义---开始 private static String PRINCIPAL_NAME = "yuchen352416@163.com";// 产生key的主体名称 private static String KEY_PASSWORD = "yuchen352416@163.com";// key的密码 private static final String ALGORITHM_NAME = "DES";// 算法名称 // 用于产生指定的key的常量定义---结束 // 字符串转16 public static String toHexString(String s) &#123; String str = ""; for (int i = 0; i &lt; s.length(); i++) &#123; int ch = (int) s.charAt(i); String s4 = Integer.toHexString(ch); str = str + s4; &#125; return str; &#125; // 16转字符串 public static String toStringHex(String s) &#123; byte[] baKeyword = new byte[s.length() / 2]; for (int i = 0; i &lt; baKeyword.length; i++) &#123; try &#123; baKeyword[i] = (byte) (0xff &amp; Integer.parseInt( s.substring(i * 2, i * 2 + 2), 16)); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; try &#123; s = new String(baKeyword, "utf-8");// UTF-16le:Not &#125; catch (Exception e1) &#123; e1.printStackTrace(); &#125; return s; &#125; /** * DES加密字符串，返回加密后的字符串 * * @param encryptString * 要加密的字符串 * @param strings * 不传此参数按默认生成密钥 参数数组，[0]=加密主体名称，[1]=key的密码 * @return 返回base64转码后的字符串 * @throws InvalidKeyException * @throws NoSuchAlgorithmException * @throws NoSuchPaddingException * @throws UnsupportedEncodingException * @throws IllegalBlockSizeException * @throws BadPaddingException */ public static String encrypt(String encryptString, String... strings) &#123; try &#123; Key key = createKey(strings); Cipher cipher = Cipher.getInstance("DES/ECB/PKCS5Padding"); byte[] by = encryptString.getBytes("utf8"); cipher.init(Cipher.ENCRYPT_MODE, key);// 使用私鈅加密 byte[] cipherText = cipher.doFinal(by); return Base64.encode(cipherText).replaceAll("\n", ""); &#125; catch (Exception e) &#123; //Log.error(e); return encryptString; &#125; &#125; /** * DES解密字符串 * * @param decryptString要解密的字符串 * @param strings生成密鑰的參數 * 不传此参数按默认生成密钥 参数数组，[0]=加密主体名称，[1]=key的密码 * @return * @throws NoSuchAlgorithmException * @throws NoSuchPaddingException * @throws UnsupportedEncodingException * @throws InvalidKeyException * @throws IllegalBlockSizeException * @throws BadPaddingException */ public static String decrypt(String decryptString, String... strings) &#123; try &#123; Key key = createKey(strings); Cipher cipher = Cipher.getInstance("DES/ECB/PKCS5Padding"); byte[] by = Base64.decode(decryptString); cipher.init(Cipher.DECRYPT_MODE, key);// 使用私鈅加密 byte[] cipherText = cipher.doFinal(by); return new String(cipherText, "utf-8"); &#125; catch (Exception e) &#123; return decryptString; &#125; &#125; /** * 创建指定的key，参数数组含义： strings[0]=生成key的主体名称 * strings[1]=key的密码（参考命名格式xxx@xx.xxx其他命名格式参考Java Cryptography Architecture * API Specification &amp; Reference 中的附录 A） strings[2]=算法名称如果不传参数按默认值 * * @param strings * @return */ public static Key createKey(String... strings) &#123; String algorithm = ALGORITHM_NAME; String name = PRINCIPAL_NAME; String password = KEY_PASSWORD; switch (strings.length) &#123; case 1: name = strings[0]; break; case 2: name = strings[0]; password = strings[1]; break; case 3: name = strings[0]; password = strings[1]; algorithm = strings[2]; break; &#125; KerberosPrincipal kerberosPrincipal = new KerberosPrincipal(name); Key key = new KerberosKey(kerberosPrincipal, password.toCharArray(), algorithm); return key; &#125; /** * 产生一个随机key，并保存到文件中 * * @param file */ public static void setPriveKey(String file) &#123; FileOutputStream fos; try &#123; fos = new FileOutputStream(file); KeyGenerator keyGen = KeyGenerator.getInstance("DES"); keyGen.init(56); Key key = keyGen.generateKey();// 生成私钥Key ObjectOutputStream oos = new ObjectOutputStream(fos); oos.writeObject(key); oos.close(); &#125; catch (Exception e1) &#123; e1.printStackTrace(); &#125; &#125; /** * 从文件中获取key * * @param file * @return * @throws Exception */ @SuppressWarnings("resource") public static Key getPriveKey(String file) throws Exception &#123; FileInputStream fis = new FileInputStream(file); ObjectInputStream ois = new ObjectInputStream(fis); Key key = (Key) ois.readObject(); return key; &#125;&#125; 使用加密类 1234567891011121314151617181920package com.yuchen352416.example;public class Test &#123; public static void main(String args[]) &#123; try &#123; // 需要加密的字符串 String str = "yuchen352416"; // 加密后的字符串 String eStr = EncryptData.encrypt(str); // 解密已经加密的字符串 String dStr = EncryptData.decrypt(eStr); System.out.println(eStr); System.out.println(dStr); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125;]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>DES</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[关于 JDBC 自动提交]]></title>
    <url>%2F2015%2F10%2F13%2Fnode%2Fjava%2Fnode-jdbc_01%2F</url>
    <content type="text"><![CDATA[关于 JDBC 自动提交 设置 JDBC 连接对象关闭 自动提交 conn.setAutoCommit(false); 在执行完SQL后, 要提交一下, conn.commit(); 记得这个连接对象, 一定要是公共的一个连接对象, 关闭自动提交, 一定是要在初始化连接对象时设置的. conn.rollback(); 是在SQL语句执行错误时，做数据回滚用的 在执行完你的逻辑算法后, 提交一下 在一个处理逻辑中，打开一个数据库连接，处理结束时，关闭这个连接 conn.setAutoCommit(true); 是控制是否每条SQL执行完后自动提交]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[解决 Oracle 描述乱码问题]]></title>
    <url>%2F2015%2F09%2F11%2Fnode%2Fdatabase%2Foarcle%2Fnode-oracle_13%2F</url>
    <content type="text"><![CDATA[解决 Oracle 描述乱码问题 在系统变量中新建系统变量变量名： NLS_LANG变量值： AMERICAN_AMERICA.ZHS16GBK 注意： 变量值 是要和服务器上使用的字符集要一致， 我这里服务器上使用的是 AMERICAN_AMERICA.ZHS16GBK]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>Oracle</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringMVC 重定向 携带参数]]></title>
    <url>%2F2015%2F08%2F30%2Fnode%2Fjava%2Fnode-j2ee_04%2F</url>
    <content type="text"><![CDATA[SpringMVC 重定向 携带参数 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051package com.yuchen.picture.web;import javax.servlet.http.Cookie;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.transaction.annotation.Transactional;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.servlet.mvc.support.RedirectAttributes;import com.yuchen.picture.dao.UserDAO;import com.yuchen.picture.entity.User;@Controller@Transactionalpublic class SignInController &#123; @Autowired private UserDAO userDAO; @RequestMapping(value="/user/sign_in_ing.htm") public String sign_in(User user, String remember, RedirectAttributes attributes, HttpServletRequest request, HttpServletResponse response) &#123; User u = userDAO.findByName(user.getName()); if(null != user &amp;&amp; null != u &amp;&amp; user.getPassword().equals(u.getPassword())) &#123; // 登录成功, 将用户信息存到Session中 request.getSession().setAttribute("loginUser", u); // 将用户信息存到cookie中 if("1".equals(remember)) &#123; Cookie usernameCookie = new Cookie("username", u.getName()); Cookie passwordCookie = new Cookie("password", u.getPassword()); usernameCookie.setMaxAge(7*24*60*60); passwordCookie.setMaxAge(7*24*60*60); response.addCookie(usernameCookie); response.addCookie(passwordCookie); &#125; // 执行跳转 return "redirect:/index.htm"; &#125; else &#123; // 登录失败, 执行跳转 attributes.addFlashAttribute("alert", 0); return "redirect:/login.htm"; &#125; &#125; &#125; 用RedirectAttributes类中的addFlashAttribute方法带回参数]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaWeb</tag>
        <tag>SpingMVC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我的VPS重装之路]]></title>
    <url>%2F2015%2F06%2F07%2Fnode%2Flinux%2Fnode-linux_02%2F</url>
    <content type="text"><![CDATA[这几天我在Linux下安装邮件服务器, 百试不通, 最后25端口, 直接崩掉了. 无奈只有重装系统, 这也是一个小白的悲哀吧. 1. 重装完之后, 设置免密登录 ssh-keygen -t rsa chmod 600 ~/.ssh chmod 700 ~/.ssh/authorized_keys ​ 2. 安装上传下载文件的工具 yum -y install lrzsz ​ 3. 安装 Shadowsocks 123wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.shchmod +x shadowsocks-all.sh./shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log 参考: https://teddysun.com/486.html 启动脚本 启动脚本后面的参数含义，从左至右依次为：启动，停止，重启，查看状态。 Shadowsocks-Python 版：/etc/init.d/shadowsocks-python start | stop | restart | status ShadowsocksR 版：/etc/init.d/shadowsocks-r start | stop | restart | status Shadowsocks-Go 版：/etc/init.d/shadowsocks-go start | stop | restart | status Shadowsocks-libev 版：/etc/init.d/shadowsocks-libev start | stop | restart | status 各版本默认配置文件 Shadowsocks-Python 版：/etc/shadowsocks-python/config.json ShadowsocksR 版： /etc/shadowsocks-r/config.json Shadowsocks-Go 版： /etc/shadowsocks-go/config.json Shadowsocks-libev 版： /etc/shadowsocks-libev/config.json 4. 安装EwoMail1. 关闭selinuxvim /etc/sysconfig/selinux 将SELINUX=enforcing 改为 SELINUX=disabled 2. 创建swapfree -m 查看swap dd if=/dev/zero of=/mnt/swap bs=1M count=1024 创建1G的swap mkswap /mnt/swap 设置交换分区文件 swapon /mnt/swap 启动swap vim /etc/fstab 添加 /mnt/swap swap swap defaults 0 0 设置开机时自启用 swap 分区 3. 修改主机名EwoMail在安装后会默认使用域名前缀mail的主机名, 例如: 我的是mail.yuchen.pro vim /etc/sysconfig/network 添加 HOSTNAME = mail.yuchen.pro vim /etc/hosts 修改 127.0.0.1 对应的域名 hostname mail.yuchen.pro 4. 打开：http://ewomail.com/list-11.html 输入你的域名获取安装代码5. 安装完成后, cat /ewomail/config.ini 查看MySQL密码5. 安装 Javawget http://download.oracle.com/otn/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/jdk-8u151-linux-x64.tar.gz?AuthParam=1528779151_b5871543e1cc4204d7d0bb4db6e0b8fd 下载JDK tar -zxvf jdk-8u151-linux-x64.tar.gz 解压 mv jdk1.8.0_151/ /opt/ 修改目录 vim /etc/profile 配置环境变量 123export JAVA_HOME=/opt/jdk1.8.0_151export PATH=$JAVA_HOME/bin:$PATHexport CLASSPATH=. source /etc/profile 环境变量生效]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AJAX 调用]]></title>
    <url>%2F2015%2F04%2F30%2Fnode%2Fjava%2Fnode-j2ee_02%2F</url>
    <content type="text"><![CDATA[Ajax调用, 并解析返回的数据 JSON 数据服务端123456789101112131415161718192021222324252627282930313233343536373839404142434445464748public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; response.setContentType("text/html;charset=utf-8"); JSONObject json = null; PrintWriter out = response.getWriter(); System.out.println("load in ...."); // 初始化数据 class Cat&#123; Cat (String name,int height ) &#123; this.height = height; this.name = name; &#125; int height; String name; &#125; ArrayList&lt;Cat&gt; list = new ArrayList&lt;Cat&gt;(); list.add(new Cat("Tom",20)); list.add(new Cat("Abby",30)); list.add(new Cat("Kitty",10)); list.add(new Cat("Julie",40)); // 定义返回值的容器 StringBuffer buffer = new StringBuffer(); // 当json返回 对象时, 外面必须加一对小括号 buffer.append("(&#123;"); for(int i = 0; i &lt; list.size(); i++)&#123; Map map = new HashedMap(); map.put("name", list.get(i).name); map.put("height", list.get(i).height); json = JSONObject.fromObject(map); buffer.append(i); buffer.append(":"); buffer.append(json.toString()); if(i != list.size()-1) &#123; buffer.append(","); &#125; &#125; buffer.append("&#125;)"); out.print(buffer); out.flush(); out.close(); &#125; 前端1234567891011121314151617181920212223$(function() &#123; $("#verify").click(function()&#123; var userName = $("#userName").val(); $.ajax(&#123; type: "post", url: "servlet/ResultJSON", async: true, data : "name=" + userName, dataType: "Text", success: function(data)&#123; alert(data); var objs = eval(data); try&#123; for (var i = 0; i &lt; 10; i++) &#123; var o = objs[i]; $("#result").append(o.name + "---" + o.height + "&lt;br /&gt;");&#125; &#125;catch(e)&#123; alert("数据往下没有了"); &#125; &#125; &#125;); &#125;);&#125;); XML 数据服务端12345678910111213141516171819202122232425262728293031323334353637public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; request.setCharacterEncoding("utf-8"); // 设置请求的字符集 // 修改响应的内容类型为xml response.setContentType("text/xml;charset=utf-8"); // 设置响应的字符集 // 返回的数据需要拼成xml格式 StringBuffer buffer = new StringBuffer(); buffer.append("&lt;message&gt;"); PrintWriter out = response.getWriter(); // 1. 获取参数 String para = request.getParameter("name"); // 2. 检查参数是否存 有问题 if(para == null || para.trim().length() == 0) &#123; buffer.append("用户名不能为空"); &#125; else &#123; // 3. 校验操作 if(para.equals("yuchen352416"))&#123; // 处理返回结果 buffer.append("用户名 [" + para + "] 已经存在,请使用其他用户名" ); &#125; else &#123; buffer.append("用户名 [" + para + "] 尚未存在,可以使用该用户名" ); &#125; &#125; buffer.append("&lt;/message&gt;"); // 4. 需要将用户感兴趣的xml内容返回给页面端,而不是将一个新的页面返回给用户 out.println(buffer.toString());&#125; 前端123456789101112131415161718$(function()&#123; $("#verify").click(function() &#123; var userName = $("#userName").val(); $.ajax(&#123; type: "post", url: "servlet/ResultXML", async: true, data : "name=" + userName, dataType: "xml", success: function(data)&#123; var jqueryObj = $(data); var message = jqueryObj.children(); var text = message.text(); $("#result").html(text); &#125; &#125;); &#125;);&#125;);]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>Ajax</tag>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ajax 语法]]></title>
    <url>%2F2015%2F04%2F27%2Fnode%2Fnode-ajax_1%2F</url>
    <content type="text"><![CDATA[Ajax 语法 Ajax 常用方法 方法名 方法描述 $.ajax(); 执行异步HTTP(ajax)请求 $.ajaxComplete(); 当 Ajax 请求完成时注册要调用的处理程序。这是一个 Ajax 事件 $.ajaxError(); 当 Ajax 请求完成且出现错误时注册要调用的处理程序。这是一个 Ajax 事件 $.ajaxSend(); 在 Ajax 请求发送之前显示一条消息 $.ajaxSetup(); 设置将来的 Ajax 请求的默认值 $.ajaxStart(); 当首个 Ajax 请求完成开始时注册要调用的处理程序。这是一个 Ajax 事件 $.ajaxStop(); 当所有 Ajax 请求完成时注册要调用的处理程序。这是一个 Ajax 事件 $.ajaxSuccess(); 当 Ajax 请求成功完成时显示一条消息 $.get(); 使用 HTTP GET 请求从服务器加载数据 $.post(); 使用 HTTP POST 请求从服务器加载数据 $.getJSON(); 使用 HTTP GET 请求从服务器加载 JSON 编码数据 $.getScript(); 使用 HTTP GET 请求从服务器加载 JavaScript 文件，然后执行该文件 $.load(); 从服务器加载数据，然后把返回到 HTML 放入匹配元素 $.param(); 创建数组或对象的序列化表示，适合在 URL 查询字符串或 Ajax 请求中使用 $.serialize(); 将表单内容序列化为字符串 $.serializeArray(); 序列化表单元素，返回 JSON 数据结构数据 Ajax 常用属性 选项名 值类型 初始值 说明 async boolean true 非同期通信标志,为ture时,执行非同期通信; 为false时,执行同期通信. 在同期通信的情况下,浏览器回答前不能执行任何操作 beforeSend function - 通信前调用的AJAX Event(事件),返回值指定为 false时, 可以取消AJAX通讯 cache boolean true 是否缓冲通信结果的标志为true时,执行缓冲; 反之 不执行缓冲. 另外, 当 dataType 指定为script 或 jsonp时, 值为false complete function - Ajax通信结束时调用和Ajax Event,在success 或 error 调出后被调用 contentType string application/x-www-form-urlencoded 在向服务器发送数据时使用,指定content-type的值,几乎不用修改 data object/string - 指定发关给服务器的数值.当以属性的形式指定时,会被转换为query字符串 dataFilter function - 过滤从服务器返回的值,在只需取出所需时使用. 第 1个参数为 数据,第2个参数为dataType dataType string jQuery根据回答自动判断 指定服务器的返回值类型,省略时自动判断 error function - 通讯失败时调用的Ajax Event 参数分别是 : XMLHttpRequest对象, 错误内容和补充例外对象. 第2个参数为null以外值时,可以获取timeout,error,notmodified,parseerror 等值. global boolean true 是否使用ajaxComplete全局句柄的标志,为true 使用, 为false 不使用 ifModified boolean false 检查服务器应答中含有的Last-modified头,只有前一次的应答有变更时,才返回成功status. 为true时,检查; 为false时,不检查 jsonp string - 在执行jsonp请求的情况下使用. API方指定callback函数后,与success属性联系, 将作为callback函数被调用 processData boolean true data属性中指定的对象是否转换为query字符串的标志。初始值为true， 变换为 application/x-www-form-urlencoded 形式，以其他形式传输时，为false. scriptCharset string - 在dataType为jsonp或script 且Ajax执行页面与服务器中的字符集不同时指定 type string get 指定请求类型为post或get,初始值为get. url string 当前页面的URL 指定送出请求对象URL,初始值是向当前的页面通信 username string - 在执行需要HTTP连接认证时指定 password string - 在执行需要HTTP连接认证时指定 xhr function - 在Ajax的XMLHttpRequest对象生成时调用的callback函数.在IE中,生成ActiveXObject对象时也被调用]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Ajax</tag>
        <tag>JQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 笔记]]></title>
    <url>%2F2015%2F03%2F02%2Fnode%2Flinux%2Fnode-linux_01%2F</url>
    <content type="text"><![CDATA[Linux 笔记 在Linux下，你所能看到的都以文件形式存在（包括文件和设备）文件在Linux下，被看做文件设备(二进制文件和字符形式的文件)pwd 查看当前路径whoami 我是谁? hd 代表IDE硬盘hda 代表 IDE的第一个接口hdb 代表 IDE的第二个接口hda2 代表扩展分区,hda5 代表第一块硬盘上的第一个逻辑分区 挂载mount /dev/cdrom /mnt/cdr ( /dev/cdrom 设备路径, /mnt/cdr 设备映射路径[理论上 映射路径可以是任何位置,但约定俗成的把设备的映射路径放在 /mnt 下] ) 取消挂载umount /dev/cdrom(参数可以是设备,也可以是 挂载点) rmdir 删除路径mkdir 添加路径 Linux 启动过程 load bios —— 加载BIOS read MBR´s config to find out the OS —— 读取硬盘的引导扇区 load the kernel of the OS —— 根据引导扇区查找操作系统 init process starts —— 启动第一个进程 execute /etc/rc.d/sysinit —— rc.d （run command 运行命令 后台运行的命令） start other modules(etc/modules.conf) —— 加载设备的驱动程序 execute the run level scripts —— 系统启动时会运行相应层次的脚本。 execute /etc/rc.d/rc.local —— 可以设置自启软件 execute /bin/login —— 登录 shell started…. Linux 分区方式（手动分区和自动分区）手动分区： / —— 根分区 /usr —— 应用软件存放位置 /home —— 用户宿主目录的父目录 /var —— 存放临时文件 /boot —— 存放启动文件 128M is enough SWAP —— 交换分区（相当于windows的虚拟内存） 理论上交换分区的大小是物理内存的两倍 可以不建，但不建议，因为有的程序会默认使用 Inti0 - 系统停机状态1 - 单用户工作状态2 - 多用户状态（没有NFS - 网络文件系统）3 - 多用户状态（有NFS）4 - 系统未使用，留给用户5 - 图形界面6 - 系统正常关闭并重启 Linux 常用命令： shutdown now 现在关机ls 列出当前目录中的所有文件和子目录（以d开头的是目录，以 — 开头的是文件,以l打头的是一个链接）cd 既可以用决对路径，也可以是相对路径（cd.. 上层路径）pwd 显示当前路径mkdir 创建一个目录rmdir 删除一个目录（只能删除空目录）rm -rf 强制递归删除（全部删除 r —— 递归 f —— 强制）touch 创建文件（从linux技术角度，扩展命，没有意义，在linux下的扩展名只有提示意义）cp 复制mv 移动cat 查看文件内容tac 倒序输出文件内容more 查看文件里的内容(分屏显示)head [-n] &lt;文件名&gt; 查看指定文件的前n行find 查找文件（可以按文件名，日期，大小。。。。总之非常强大）whereis &lt;命令&gt; 命令存放的位置，已经这个命令的帮助文档的位置ln &lt;v.txt&gt; &lt;lv.txt&gt; 创建lv.txt的硬链接，指向v.txt（所谓硬链接，就是把v.txt中了内容复制到lv.txt中，不管其中哪个文件的内容被修改了，两个文件中的内容都是最后修改过的内容）ln -s &lt;v.txt&gt; &lt;lsv.txt&gt; 创建v.txt乱链接（相当于给v.txt加了一个快捷方式）echo $PATH 查看PATH 环境变量chown &lt;username&gt; &lt;filename&gt; 修改文件所有者grep &lt;要查找的内容&gt; &lt;要查找的文件&gt; 显示内容在文件的一整行date 显示和设置日期时间stat 显示指定文件的相关信息who\w 显示在线登录用户whoami 显示用户自己的身份id 显示当前用户的id信息hostname 显示主机信息uname 显示操作系统信息dmesg 显示系统启动信息du 显示指定文件(目录)已使用的磁盘空间的总量df 显示文件系统磁盘空间的使用情况free 显示当前内存和交换空间的使用情况fdisk -l 显示磁盘信息locale 显示当前语言环境wall 警告所有用户 VIM如果当前目录里有这个文件，就会打开这文件，如果没有，就会创建这个文件并打开vi编辑器，有两种模式（编辑模式，命令模式），刚一打开为命令模式，只能敲命令，在命令模式下按 a 添加内容，进入编辑模式，按２次 ESC 退出编辑模式，回到命令模式按 ： 及可输入命令w 保存q 退出q！ 不保存退出wq 保存退出dd 删除一行dw 删除一个单词wc 统计指定文件的行数,字数,字符数 etc目录下的passwd文件实际存放的是所有用户-类似于 testuser:x:501:502:/home/testuser:bin/bashtestuser 用户名x组为 501id为 502主目录 /home/testusershell bin/bash (shell 解释命令,和内核交流)[注:除了bash外,还有csh,ksh,bsh,和最原始的sh] 添加用户时,没有指定组的说,默认会添加一个和用户名相同的组linux 可以对用户组进行增删改操作当删除用户时,用户的文件不会被删除 文件权限 (共 10 位的权限描述) [ 第1位单独自己,往后每三个一组 ] [ r 可读, w 可写, x 可执行, - 没有任何权限 ] 第 1位: 以d开头的是目录, 以 — 开头的是文件, 以l打头的是一个链接 第 2位: 这个文件的所有者,有没有读的权限(有的话 r 没有的话 - )第 3位: 这个文件的所有者,有没有写的权限(有的话 w 没有的话 - )第 4位: 这个文件的所有者,有没有执行的权限(有的话 x 没有的话 - ) 第 5位: 这个文件的所有者同组的其他人,有没有读的权限(有的话 r 没有的话 - )第 6位: 这个文件的所有者同组的其他人,有没有写的权限(有的话 w 没有的话 - )第 7位: 这个文件的所有者同组的其他人,有没有执行的权限(有的话 x 没有的话 - ) 第 8位: 其他人,有没有读的权限(有的话 r 没有的话 - )第 9位: 其他人,有没有写的权限(有的话 w 没有的话 - )第10位: 其他人,有没有执行的权限(有的话 x 没有的话 - ) 一般: 拥有这个文件的人,可读可写,其他人只读,拥有这个目录的人,可读可写可执行,其他人可读可执行, u 文件拥有者g 同组的个o 其他人 chmod 修改权限(可直接 + - )例如: chmod g+w v.txt (其含义:给同组的人加可写权限) linux 用3个8进制数代表这三组权限,1 代表有权限, 0 代表没权限(例如 rwxr-xr–,就可以是111101100,也就是754) 管道例子: ls -Rl | more (把上一个命令的结果,交给 | 后的命令去处理) dmesg | grep eth0 (检查启动时的第一块网卡的信息) 命令替换 `(大键盘1左边的键)包起的命令,替换成执行结果,交给下面的管道 重定向重定向输入&gt;把执行结果的内容,输出到指定的文件(原文件内容清空)(例如: ls -l &gt; v.txt)&gt;&gt; 追加内容命令找不到的话,就不会做输出了重定向输出&lt; (例如: wall &lt; a.txt) 将a.txt中的内容作为警告信息 修改启动文件输入命令sudo gedit /etc/default/grub修改grub文件中内容:GRUB_CMDLINE_LINUX_DEFAULT=&quot;text&quot;更新grubsudo update-grub重启sudo reboot]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jQuery 拼图实例]]></title>
    <url>%2F2015%2F03%2F01%2Fnode%2Fjavascript%2Fnode-javascript_15%2F</url>
    <content type="text"><![CDATA[jQuery 拼图实例 HTML 12345678910111213141516171819202122232425262728293031&lt;!DOCTYPE html&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;meta charset="utf-8" /&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;title&gt;jQuery&lt;/title&gt; &lt;link rel="stylesheet" type="text/css" href="css/bootstrap.css"/&gt; &lt;link rel="stylesheet" type="text/css" href="css/bootstrap-responsive.css"/&gt; &lt;link rel="stylesheet" type="text/css" href="css/user.css"/&gt; &lt;script src="js/jquery-2.1.3.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;script src="js/bootstrap.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="js/user.js" &gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class="container background-main"&gt; &lt;div class="image-item img1" id="img1"&gt;&lt;/div&gt; &lt;div class="image-item img2" id="img2"&gt;&lt;/div&gt; &lt;div class="image-item img3" id="img3"&gt;&lt;/div&gt; &lt;div class="image-item img4" id="img4"&gt;&lt;/div&gt; &lt;div class="image-item img5" id="img5"&gt;&lt;/div&gt; &lt;div class="image-item img6" id="img6"&gt;&lt;/div&gt; &lt;div class="image-item img7" id="img7"&gt;&lt;/div&gt; &lt;div class="image-item img8" id="img8"&gt;&lt;/div&gt; &lt;div class="image-item img9" id="img9"&gt;&lt;/div&gt; &lt;/div&gt; &lt;audio src="music/slide.mp3" id="music"&gt;&lt;/audio&gt; &lt;/body&gt; &lt;/html&gt; CSS 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586.background-main&#123; margin-top: 20px; margin-left: auto; margin-right: auto; position: relative; &#125; .image-item&#123; width: 245px; height: 200px; position: absolute; /*background: no-repeat center top fixed;*/ /*background-size:100% 100%;*/ /*background-color: red;*/ float: left; &#125; .img1&#123; left: 0px; top: 0px; &#125; .img2&#123; left: 245px; top: 0px; &#125; .img3&#123; left: 490px; top: 0px; &#125; .img4&#123; left: 0px; top: 200px; &#125; .img5&#123; left: 245px; top: 200px; &#125; .img6&#123; left: 490px; top: 200px; &#125; .img7&#123; left: 0px; top: 400px; &#125; .img8&#123; left: 245px; top: 400px; &#125; .img9&#123; left: 490px; top: 400px; &#125; #img1&#123; background: url(../img/img0.png); background-size:100% 100%; &#125; #img2&#123; background: url(../img/img1.png); background-size:100% 100%; &#125; #img3&#123; background: url(../img/img2.png); background-size:100% 100%;&#125; #img4&#123; background: url(../img/img3.png); background-size:100% 100%;&#125; #img5&#123; background: url(../img/img4.png); background-size:100% 100%;&#125; #img6&#123; background: url(../img/img5.png); background-size:100% 100%;&#125; #img7&#123; background: url(../img/img6.png); background-size:100% 100%;&#125; #img8&#123; background: url(../img/img7.png); background-size:100% 100%; &#125; #img9&#123; background: url(../img/img8.png); background-size:100% 100%; &#125; JavaScript 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105var sum = 0; // 存放所有方块对应值的和 var arr = []; // 存放8块图片的容器 window.onload = function() &#123; // 随机产生不相同的8个随机数 var index = []; for(var i = 0; i &lt; 8; i++)&#123; index[i] = parseInt(Math.random()*8); for(var j = 0; j &lt; i; j++)&#123; if(index[i] == index[j])&#123;break;&#125; &#125; if(j != i)&#123;i--;&#125; &#125; // 获得所有方块对应值的和 $.each($('.image-item'), function() &#123; sum += parseInt($(this).css("left")) + parseInt($(this).css("top")); &#125;); // 把浮动的8个方块的名字,存入容器 for(var i = 1; i &lt; 9; i++)&#123; var str = "img" + i; arr[i-1] = document.getElementById(str); &#125; // 打乱8块方块位置 for(var i = 0; i &lt; 8; i++) &#123; var mod = i - parseInt(i / 3) *3; var setLeft = mod * 245; var setTop = parseInt(i / 3) * 200; arr[index[i]].style.left = setLeft + "px"; arr[index[i]].style.top = setTop + "px"; &#125; // 隐藏第九块图片 $("#img9").hide(); // $("#img9").show(); // 绑定每块图片的单击事件 $('.image-item').click(function()&#123; // 存放单击图片对应的数值 var num = parseInt($(this).css("left")) + parseInt($(this).css("top")); // 存放当前8块方块对应值的和 var presentSum = 0; // 计算当前8块方块对应值的和 for(var i = 0; i &lt; arr.length; i++) &#123; presentSum += parseInt($(arr[i]).css("left")) + parseInt($(arr[i]).css("top")); &#125; // 存放当前空格对应的要数值 var notExist = 0; // 计算9块方格中,哪一块是空的 notExist = sum - presentSum; // 标识 var flag = notExist - num; // 触发声音 document.getElementById("music").play(); // 判断方块的移动方向 if(flag == 200 || flag == -200) &#123; var setTop = parseInt($(this).css("top")) + flag; // 上下移动方块(带动画) $(this).animate(&#123;top: setTop + "px"&#125;); &#125; else if(flag == 245 || flag == -245) &#123; var setLeft = parseInt($(this).css("left")) + flag; // 左右移动方块(带动画) $(this).animate(&#123;left: setLeft + "px"&#125;); &#125; // 判断是否拼好 var judge = []; // 存放当前所有方块对应的值 for(var i = 0; i &lt; 8; i++) &#123; judge[i] = parseInt(arr[i].style.left) + parseInt(arr[i].style.top); if(judge[i] == num) &#123; judge[i] += flag; &#125; &#125; for(var j = 0; j &lt; 8; j++) &#123; var mod = j - parseInt(j / 3) *3; var setLeft = mod * 245; var setTop = parseInt(j / 3) * 200; var temp = setLeft + setTop; if(temp != judge[j]) &#123; break; &#125; &#125; if(j == 8) &#123; // 显示第九块图片 $("#img9").slideDown(); // 取消单击绑定 $('.image-item').unbind("click") &#125; &#125;); &#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTML5 标签]]></title>
    <url>%2F2015%2F02%2F11%2Fnode%2Fnode-html_2%2F</url>
    <content type="text"><![CDATA[HTML5 标签 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130&lt;!--...--&gt; 定义注释。&lt;!DOCTYPE&gt; 定义文档类型。&lt;a&gt; 定义超链接。 &lt;abbr&gt; 定义缩写。&lt;address&gt; 定义地址元素。&lt;area&gt; 定义图像映射中的区域。&lt;article&gt; 定义 article。&lt;aside&gt; 定义页面内容之外的内容。&lt;audio&gt; 定义声音内容。&lt;b&gt; 定义粗体文本。 &lt;base&gt; 定义页面中所有链接的基准 URL。&lt;bdo&gt; 定义文本显示的方向。 &lt;blockquote&gt; 定义长的引用。&lt;body&gt; 定义 body 元素。&lt;br&gt; 插入换行符。&lt;button&gt; 定义按钮。&lt;canvas&gt; 定义图形。&lt;caption&gt; 定义表格标题。&lt;cite&gt; 定义引用。&lt;code&gt; 定义计算机代码文本。&lt;col&gt; 定义表格列的属性。&lt;colgroup&gt; 定义表格列的分组。&lt;command&gt; 定义命令按钮。&lt;datalist&gt; 定义下拉列表。&lt;dd&gt; 定义定义的描述。 &lt;del&gt; 定义删除文本。 &lt;details&gt; 定义元素的细节。&lt;dfn&gt; 定义定义项目。 &lt;div&gt; 定义文档中的一个部分。&lt;dl&gt; 定义定义列表。 &lt;dt&gt; 定义定义的项目。&lt;em&gt; 定义强调文本。 &lt;embed&gt; 定义外部交互内容或插件。&lt;fieldset&gt; 定义 fieldset。&lt;figcaption&gt; 定义 figure 元素的标题。&lt;figure&gt; 定义媒介内容的分组，以及它们的标题。 &lt;footer&gt; 定义 section 或 page 的页脚。&lt;form&gt; 定义表单。 &lt;h1&gt; to &lt;h6&gt; 定义标题 1 到标题 6。&lt;head&gt; 定义关于文档的信息。&lt;header&gt; 定义 section 或 page 的页眉。&lt;hgroup&gt; 定义有关文档中的 section 的信息。 &lt;hr&gt; 定义水平线。&lt;html&gt; 定义 html 文档。&lt;i&gt; 定义斜体文本。 &lt;iframe&gt; 定义行内的子窗口（框架）。&lt;img&gt; 定义图像。 &lt;input&gt; 定义输入域。&lt;ins&gt; 定义插入文本。&lt;keygen&gt; 定义生成密钥。 &lt;kbd&gt; 定义键盘文本。&lt;label&gt; 定义表单控件的标注。&lt;legend&gt; 定义 fieldset 中的标题。&lt;li&gt; 定义列表的项目。&lt;link&gt; 定义资源引用。&lt;map&gt; 定义图像映射。&lt;mark&gt; 定义有记号的文本。&lt;menu&gt; 定义菜单列表。&lt;meta&gt; 定义元信息。 &lt;meter&gt; 定义预定义范围内的度量。&lt;nav&gt; 定义导航链接。 &lt;noscript&gt; 定义 noscript 部分。&lt;object&gt; 定义嵌入对象。&lt;ol&gt; 定义有序列表。&lt;optgroup&gt; 定义选项组。&lt;option&gt; 定义下拉列表中的选项。&lt;output&gt; 定义输出的一些类型。&lt;p&gt; 定义段落。 &lt;param&gt; 为对象定义参数。&lt;pre&gt; 定义预格式化文本。&lt;progress&gt; 定义任何类型的任务的进度。&lt;q&gt; 定义短的引用。&lt;rp&gt; 定义若浏览器不支持 ruby 元素显示的内容。&lt;rt&gt; 定义 ruby 注释的解释。&lt;ruby&gt; 定义 ruby 注释。 &lt;samp&gt; 定义样本计算机代码。&lt;script&gt; 定义脚本。&lt;section&gt; 定义 section。&lt;select&gt; 定义可选列表。&lt;small&gt; 定义小号文本。&lt;source&gt; 定义媒介源。&lt;span&gt; 定义文档中的 section。 &lt;strong&gt; 定义强调文本。&lt;style&gt; 定义样式定义。&lt;sub&gt; 定义下标文本。&lt;summary&gt; 定义 details 元素的标题。 &lt;sup&gt; 定义上标文本。&lt;table&gt; 定义表格。&lt;tbody&gt; 定义表格的主体。&lt;td&gt; 定义表格单元。&lt;textarea&gt; 定义 textarea。&lt;tfoot&gt; 定义表格的脚注。&lt;th&gt; 定义表头。&lt;thead&gt; 定义表头。&lt;time&gt; 定义日期/时间。&lt;title&gt; 定义文档的标题。&lt;tr&gt; 定义表格行。 &lt;ul&gt; 定义无序列表。 &lt;var&gt; 定义变量。&lt;video&gt; 定义视频。]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
</search>
