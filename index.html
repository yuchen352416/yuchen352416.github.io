<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="何时, 枫叶红">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="何时, 枫叶红">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="何时, 枫叶红">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>何时, 枫叶红</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">何时, 枫叶红</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_10/" itemprop="url">Python入门学习(十)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T01:34:01+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Python-I-O输出"><a href="#Python-I-O输出" class="headerlink" title="Python I/O输出"></a>Python I/O输出</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_09/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_09/" itemprop="url">Python入门学习(九)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T01:20:17+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Python中的异常处理"><a href="#Python中的异常处理" class="headerlink" title="Python中的异常处理"></a>Python中的异常处理</h2><h3 id="try-的基本语法"><a href="#try-的基本语法" class="headerlink" title="try 的基本语法"></a>try 的基本语法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">division</span><span class="params">(x, y)</span>:</span></span><br><span class="line">	<span class="keyword">if</span> y == <span class="number">0</span>:</span><br><span class="line">		<span class="keyword">raise</span> ValueError(<span class="string">"除数不能为 0"</span>)</span><br><span class="line">	<span class="keyword">return</span> x / y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	print(division(<span class="number">4</span>, <span class="number">0</span>))</span><br><span class="line"><span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">	<span class="comment"># raise </span></span><br><span class="line">	print(<span class="string">"除数为0, 计算终止...."</span>, e)</span><br><span class="line">	logging.exception(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	print(<span class="string">"计算正常结束...."</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">	print(<span class="string">"一切终归于平静...."</span>)</span><br></pre></td></tr></table></figure>
<p>​    <strong>try:</strong> 是可能会出现异常的代码</p>
<p>​    <strong>except:</strong> 是处理异常的代码</p>
<p>​    <strong>else:</strong> 是没有出现异常执行的代码</p>
<p>​    <strong>finally:</strong> 是无论如何都执行的代码</p>
<p>​    <strong>raise:</strong> 是抛出自定义异常</p>
<p>​    <strong>logging:</strong>     打印异常的堆栈信息</p>
<p>所谓异常处理, 分为<strong>两部分</strong>: 1. goto(跳转), 2. treat(应对) </p>
<h2 id="Python单元测试"><a href="#Python单元测试" class="headerlink" title="Python单元测试"></a>Python单元测试</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDict</span><span class="params">(dict)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **kw)</span>:</span></span><br><span class="line">		logging.info(<span class="string">"init params ==&gt; %s"</span> % str(kw))</span><br><span class="line">		super(MyDict, self).__init__(**kw)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, item)</span>:</span></span><br><span class="line">		<span class="keyword">try</span>:</span><br><span class="line">			<span class="keyword">return</span> self[item]</span><br><span class="line">		<span class="keyword">except</span> KeyError:</span><br><span class="line">			logging.error(<span class="string">r"MyDict no found [%s]"</span> % item)</span><br><span class="line">			<span class="keyword">raise</span> KeyError(<span class="string">r"MyDict no found [%s]"</span> % item)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, key, value)</span>:</span></span><br><span class="line">		self[key] = value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging, unittest</span><br><span class="line"><span class="keyword">from</span> learn.MyDict <span class="keyword">import</span> MyDict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestMyDict</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span><span class="params">(self)</span>:</span> <span class="comment"># 测试方法执行前执行, 一般用来初始化环境(比如: 创建数据库连接)</span></span><br><span class="line">		print(<span class="string">'setUp...'</span>)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">tearDown</span><span class="params">(self)</span>:</span> <span class="comment"># 测试方法执行后执行, 一般用来GC(比如: 关闭数据库连接)</span></span><br><span class="line">		print(<span class="string">'tearDown...'</span>)</span><br><span class="line">    </span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test_init</span><span class="params">(self)</span>:</span></span><br><span class="line">		d = MyDict(a=<span class="number">1</span>, b=<span class="string">'test'</span>)</span><br><span class="line">         <span class="comment"># assert 断言</span></span><br><span class="line">		self.assertEqual(d.a, <span class="number">1</span>)</span><br><span class="line">		self.assertEqual(d.b, <span class="string">'test'</span>)</span><br><span class="line">		self.assertTrue(isinstance(d, dict))</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test_key</span><span class="params">(self)</span>:</span></span><br><span class="line">		d = MyDict()</span><br><span class="line">		d[<span class="string">'key'</span>] = <span class="string">'value'</span></span><br><span class="line">		self.assertEqual(d.key, <span class="string">'value'</span>)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test_attr</span><span class="params">(self)</span>:</span></span><br><span class="line">		d = MyDict()</span><br><span class="line">		d.key = <span class="string">'value'</span></span><br><span class="line">		self.assertTrue(<span class="string">'key'</span> <span class="keyword">in</span> d)</span><br><span class="line">		self.assertEqual(d[<span class="string">'key'</span>], <span class="string">'value'</span>)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test_keyerror</span><span class="params">(self)</span>:</span></span><br><span class="line">		d = MyDict()</span><br><span class="line">		<span class="keyword">with</span> self.assertRaises(KeyError): <span class="comment"># 判断抛出的异常是 KeyError</span></span><br><span class="line">			value = d[<span class="string">'empty'</span>]</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">test_attrerror</span><span class="params">(self)</span>:</span></span><br><span class="line">		d = MyDict()</span><br><span class="line">		<span class="keyword">with</span> self.assertRaises(AttributeError): <span class="comment"># 测试未通过, 因为这里抛出的是KeyError</span></span><br><span class="line">			value = d.empty</span><br></pre></td></tr></table></figure>
<p><strong>单元测试:</strong> 要求每一个分支都要覆盖到.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_08/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_08/" itemprop="url">Python入门学习(八)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T01:12:20+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="面向对象OOP"><a href="#面向对象OOP" class="headerlink" title="面向对象OOP"></a>面向对象OOP</h2><ul>
<li>类(Class)</li>
<li>对象(Object)</li>
<li>实例(Instance)</li>
</ul>
<blockquote>
<p><strong>类: </strong> 是一个抽象的存在</p>
<p><strong>实例: </strong> 是真实存在的类</p>
<p><strong>对象: </strong> 是类的实例</p>
</blockquote>
<p>好比说 <strong>门</strong> 就是一个<strong>类</strong>, 我的 <strong>屋门</strong> 就是门的一个<strong>实例</strong>. 我的<strong>屋门</strong>是<strong>白颜色</strong>的, 而且<strong>打开和关闭时会发出声响</strong>. </p>
<p>不管是 <strong>颜色</strong>, 还是<strong>打开</strong>和<strong>关闭</strong> 都是<strong>类</strong>赋予的属性和行为. 至于<strong>白颜色</strong>和<strong>打开和关闭时发出的声响</strong>是这个<strong>实例</strong>的具体表现. </p>
<p><strong>对象: </strong>包括了 类的<strong>属性</strong>和<strong>行为</strong>, 还有实例所都有的<strong>具体表现形式</strong>(比如: 白颜色, 打开和关闭时发出声响)</p>
<hr>
<p>在面向对象的程序设计中,  首先要抽离出<strong>实体</strong>, 以及这个实体所拥有的<strong>属性</strong>和行为(<strong>方法</strong>).</p>
<p><strong>面向对象的三大特点</strong>: 封装, 继承, 多态</p>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, args)</span>:</span></span><br><span class="line">        super(Animal, self).__init__()</span><br><span class="line">        self.__name = args.get(<span class="string">"name"</span>)</span><br><span class="line">        self.age = args.get(<span class="string">"age"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"Animal(name:&#123;0&#125;, age:&#123;1&#125;) Call...."</span>.format(self.__name, self.age));</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setAnimalInfo</span><span class="params">(self, *, name, age)</span>:</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getAnimalInfo</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">"name"</span>: self.__name, <span class="string">"age"</span>: self.age&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span>  <span class="comment"># 重写父类方法</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Animal(name:&#123;0&#125;, age:&#123;1&#125;)"</span>.format(self.__name, self.age)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pig = Animal(&#123;&#125;)</span><br><span class="line">pig.setAnimalInfo(name=<span class="string">"tom"</span>, age=<span class="number">2</span>)</span><br><span class="line">pig.call()</span><br><span class="line">pig.age = <span class="number">3</span></span><br><span class="line">print(pig.age)</span><br><span class="line">print(pig._Animal__name)  <span class="comment"># 不建议这样访问</span></span><br><span class="line"><span class="comment"># print(pig.__name) # AttributeError: 'Animal' object has no attribute '__name'</span></span><br><span class="line">pig.__name = <span class="string">"jack"</span>  <span class="comment"># 这么写是错误的, 虽然Python没有限制</span></span><br><span class="line">print(pig.__name)  <span class="comment"># 实际上就是给 pig 绑了一个新的属性</span></span><br><span class="line">pig.call()</span><br></pre></td></tr></table></figure>
<p>所谓封装, 就是将类的<strong>属性</strong>设为私有, 然后开放属性的<strong>get</strong>, <strong>set</strong>方法. 这样会提高程序的健壮性(比如set时, <strong>验证实参</strong>是否合法)</p>
<p>因为<strong>构造方法</strong>(<strong>init</strong>(<code>self</code>, <strong>args</strong>))中, 存在必选参数, 所以在初始化实例时 <code>pig = Animal({})</code></p>
<p><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516727780/python_8_1_cdpoov.png" alt="初始化实例"></p>
<p>实际上私有属性, 在实例化对象时, 就已经改了变量名, 所以才有的 <code>AttributeError: &#39;Animal&#39; object has no attribute &#39;__name&#39;</code> 的错误信息</p>
<p><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516727884/python_8_2_g8fad6.png" alt="绑定新属性"></p>
<p><code>pig.__name = &quot;jack&quot;</code> 就像当于给pig实例, 重新绑定了新的属性(这样写虽然语法没有错, 但不建议这样写. 就像某件事, 没有触犯法律, 但受到道德的谴责.) </p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p><code>class Animal(object)</code> Animal <strong>继承</strong>自 object, </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, args)</span>:</span></span><br><span class="line">        super(Dog, self).__init__(args)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># print("Dog(name:&#123;0&#125;, age:&#123;1&#125;) wang....".format(super().__name, super.age));</span></span><br><span class="line">        print(<span class="string">"Dog(name:&#123;0&#125;, age:&#123;1&#125;) wang...."</span>.format(super(Dog, self).getAnimalInfo().get(<span class="string">"name"</span>),</span><br><span class="line">                                                       super(Dog, self).getAnimalInfo().get(<span class="string">"age"</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span>  <span class="comment"># 重写父类方法</span></span><br><span class="line">        <span class="comment"># return "Dog(name:&#123;0&#125;, age:&#123;1&#125;)".format(super().__name, super.age)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Dog(name:&#123;0&#125;, age:&#123;1&#125;)"</span>.format(super(Dog, self).getAnimalInfo().get(<span class="string">"name"</span>),</span><br><span class="line">                                               super(Dog, self).getAnimalInfo().get(<span class="string">"age"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, args)</span>:</span></span><br><span class="line">        super(Cat, self).__init__(args)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># print("Cat(name:&#123;0&#125;, age:&#123;1&#125;) miao....".format(self.__name, self.age));</span></span><br><span class="line">        print(<span class="string">"Cat(name:&#123;0&#125;, age:&#123;1&#125;) miao...."</span>.format(super(Cat, self).getAnimalInfo().get(<span class="string">"name"</span>),</span><br><span class="line">                                                       super(Cat, self).getAnimalInfo().get(<span class="string">"age"</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span>  <span class="comment"># 重写父类方法</span></span><br><span class="line">        <span class="comment"># return "Cat(name:&#123;0&#125;, age:&#123;1&#125;)".format(self.__name, self.age)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Cat(name:&#123;0&#125;, age:&#123;1&#125;)"</span>.format(super(Cat, self).getAnimalInfo().get(<span class="string">"name"</span>),</span><br><span class="line">                                               super(Cat, self).getAnimalInfo().get(<span class="string">"age"</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">dog = Dog(&#123;<span class="string">"name"</span>: <span class="string">"lucy"</span>, <span class="string">"age"</span>: <span class="number">2</span>&#125;)</span><br><span class="line">cat = Cat(&#123;<span class="string">"name"</span>:<span class="string">"lola"</span>, <span class="string">"age"</span>:<span class="number">1</span>&#125;)</span><br><span class="line"></span><br><span class="line">dog.call()</span><br><span class="line">cat.call()</span><br><span class="line"></span><br><span class="line">print(<span class="string">"pig is Animal"</span>, isinstance(pig, Animal))</span><br><span class="line">print(<span class="string">"dog is Dog"</span>, isinstance(dog, Dog))</span><br><span class="line">print(<span class="string">"cat is Cat"</span>, isinstance(cat, Cat))</span><br><span class="line">print(<span class="string">"dog is Animal"</span>, isinstance(dog, Animal))</span><br><span class="line">print(<span class="string">"cat is Animal"</span>, isinstance(cat, Animal))</span><br></pre></td></tr></table></figure>
<p>在子类中, 获取父类的引用 <code>super(Dog, self)</code>. 而在子类中要想拿到父类的属性, 只能通过父类中提供的开放接口, 来实现了.</p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>从上面的程序中可以看出, Animal<strong>重写</strong>了他的<strong>父类</strong>的<strong>str</strong>方法, Cat和Dog也重写了这个方法. 有<strong>继承</strong>和<strong>方法重写</strong>, 自然就有<strong>多态</strong>了.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">def getAnimal(animal):</span><br><span class="line">    print(animal)</span><br><span class="line"></span><br><span class="line">getAnimal(pig)</span><br><span class="line">getAnimal(dog)</span><br><span class="line">getAnimal(cat)</span><br><span class="line"></span><br><span class="line"># Animal(name:tom, age:3)</span><br><span class="line"># Dog(name:lucy, age:2)</span><br><span class="line"># Cat(name:lola, age:1)</span><br></pre></td></tr></table></figure>
<p>虽传入的都是 Animal类, 但执行的却有着不同的行为. 这就是<strong>多态</strong>(^_^)</p>
<h3 id="判断对象类型"><a href="#判断对象类型" class="headerlink" title="判断对象类型"></a>判断对象类型</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="number">123</span>) == type(<span class="number">456</span>)</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="string">"123"</span>) == <span class="string">'str'</span></span><br><span class="line"><span class="keyword">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="string">"123"</span>) == str</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">1</span>, (str, int))</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">1</span>, (str, int, float))</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">1.0</span>, (str, int, float))</span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="string">'1.0'</span>, (str, int, float))</span><br><span class="line"><span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<h3 id="获取对象的所有方法及属性"><a href="#获取对象的所有方法及属性" class="headerlink" title="获取对象的所有方法及属性"></a>获取对象的所有方法及属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(dir(pig))</span><br><span class="line">print(dir(dog))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ['_Animal__name', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__name', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'call', 'getAnimalInfo', 'setAnimalInfo']</span></span><br><span class="line"><span class="comment"># ['_Animal__name', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__int__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'call', 'getAnimalInfo', 'setAnimalInfo']</span></span><br></pre></td></tr></table></figure>
<h3 id="类似反射的东西"><a href="#类似反射的东西" class="headerlink" title="类似反射的东西"></a>类似反射的东西</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hasattr() 判断对象中是否有指定属性或方法</span></span><br><span class="line"><span class="comment"># getattr() 获取对象中指定的属性或方法的引用</span></span><br><span class="line"><span class="comment"># setattr() 向对象中添加指定的属性或方法</span></span><br><span class="line">print(getattr(pig, <span class="string">"__name"</span>) <span class="keyword">if</span> hasattr(pig, <span class="string">"__name"</span>) <span class="keyword">else</span> <span class="string">"404"</span>)</span><br><span class="line">print(getattr(dog, <span class="string">"__name"</span>) <span class="keyword">if</span> hasattr(dog, <span class="string">"__name"</span>) <span class="keyword">else</span> <span class="string">"404"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> hasattr(cat, <span class="string">"__name"</span>): <span class="comment"># 判断cat对象中, 是否有'__name'属性</span></span><br><span class="line">    print(cat.__name)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    setattr(cat, <span class="string">"__name"</span>, <span class="string">"tom"</span>) <span class="comment"># 向cat对象绑定'__name'属性, 并向该属性赋值</span></span><br><span class="line"></span><br><span class="line">print(cat.__name) <span class="comment"># 输出刚刚绑定的'__name'属性的值</span></span><br><span class="line"></span><br><span class="line">getattr(cat, <span class="string">"call"</span>)() <span class="comment"># 获取cat对象的call方法, 进行调用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"eat.... ing....."</span>)</span><br><span class="line"></span><br><span class="line">setattr(cat, <span class="string">"eat"</span>, eat) <span class="comment"># 是将方法绑定到了cat这个对象上, 而非类上. 所以新创建的类, 没有eat方法</span></span><br><span class="line"></span><br><span class="line">cat.eat()</span><br></pre></td></tr></table></figure>
<h3 id="实例属性和类属性"><a href="#实例属性和类属性" class="headerlink" title="实例属性和类属性"></a>实例属性和类属性</h3><p><strong>实例属性: </strong> 就相当于Java类中的普通属性</p>
<p><strong>类属性:</strong>  就相当于是Java中的<strong>静态</strong>属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Plant</span><span class="params">(object)</span>:</span></span><br><span class="line">	name = <span class="string">"植物"</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">		super(Plant, self).__init__()</span><br><span class="line">		<span class="keyword">if</span> len(args) &gt; <span class="number">0</span>:</span><br><span class="line">			self.name = args[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> Plant.name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pl = Plant(<span class="string">"绿萝"</span>)</span><br><span class="line">print(pl) <span class="comment"># 类属性: 植物</span></span><br><span class="line">print(pl.name) <span class="comment"># 实例属性的优先级高于类属性, 所以输出实例属性: 绿萝</span></span><br><span class="line">delattr(pl, <span class="string">"name"</span>) <span class="comment"># 删除实例属性</span></span><br><span class="line">print(pl.name) <span class="comment"># 因为实例属性中没有 name 了, 所以输出类属性: 植物</span></span><br></pre></td></tr></table></figure>
<p>Python内置的<code>@property</code>装饰器就是负责把一个方法变成属性调用. 把一个getter方法变成属性，只需要加上<code>@property</code>就可以了,  此时，<code>@property</code>本身又创建了另一个装饰器<code>@score.setter</code>，负责把一个setter方法变成属性赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lotus</span><span class="params">(Plant)</span>:</span></span><br><span class="line"></span><br><span class="line"><span class="meta">	@property</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">colour</span><span class="params">(self)</span>:</span> <span class="comment"># 隐藏 _colour 属性, 对外看到的只是 colour</span></span><br><span class="line">		<span class="keyword">return</span> self._colour</span><br><span class="line"></span><br><span class="line"><span class="meta">	@colour.setter</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">colour</span><span class="params">(self, value)</span>:</span> </span><br><span class="line">		print(<span class="string">"Assignment ing..."</span>)</span><br><span class="line">		self._colour = value</span><br><span class="line"></span><br><span class="line"><span class="meta">	@property</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">age</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">54</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lotus = Lotus()</span><br><span class="line">lotus.colour = <span class="string">"橙红色"</span> <span class="comment"># 调用了 colour set方法</span></span><br><span class="line">print(lotus.colour)</span><br><span class="line">print(lotus.age)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(dir(lotus))</span><br><span class="line">print(getattr(lotus, <span class="string">"colour"</span>))</span><br><span class="line">setattr(lotus, <span class="string">"colour"</span>, <span class="string">"粉红色"</span>) <span class="comment"># 调用了 colour set方法</span></span><br><span class="line">print(getattr(lotus, <span class="string">"_colour"</span>))</span><br><span class="line">setattr(lotus, <span class="string">"_colour"</span>, <span class="string">"艳红色"</span>) <span class="comment"># 没有调用colour set方法</span></span><br><span class="line">print(lotus.colour)</span><br></pre></td></tr></table></figure>
<p>在测试环境下, 我们可以看到 <code>lotus</code> 对象中有<code>colour</code> 和 <code>_colour</code> 两个属性, 但实际我们定义的<code>_colour</code>属性, 在面向其他对象时, 是<code>被隐藏</code>的, 所以在对<code>@property</code>的实例属性操作的时候, 属性很可能不是直接暴露的，而是通过getter和setter方法来实现的</p>
<p>上面的<code>colour</code>是可读写属性，而<code>age</code>就是一个<em>只读</em>属性</p>
<h3 id="Python的多重继承"><a href="#Python的多重继承" class="headerlink" title="Python的多重继承"></a>Python的多重继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span><span class="params">(object)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">		<span class="comment"># super(Book, self).__init__()</span></span><br><span class="line">		self.name = name</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">getName</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> self.name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Literature</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, author)</span>:</span></span><br><span class="line">		<span class="comment"># super(Literature, self).__init__()</span></span><br><span class="line">		self.author = author</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">getAuthor</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> self.author</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Biography</span><span class="params">(object)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, heroName)</span>:</span></span><br><span class="line">		<span class="comment"># super(Biography, self).__init__()</span></span><br><span class="line">		self.heroName = heroName</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">getHeroName</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> self.heroName</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Youth</span><span class="params">(Book, Literature, Biography)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, author, heroName)</span>:</span></span><br><span class="line">		Book.__init__(self, name)</span><br><span class="line">		Literature.__init__(self, author)</span><br><span class="line">		Biography.__init__(self, heroName)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">getInfo</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">"书名: &#123;0&#125;, 作者: &#123;1&#125;, 主人公: &#123;2&#125;"</span>.format(</span><br><span class="line">			self.getName(), self.getAuthor(), self.getHeroName())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">book = Youth(<span class="string">"青春"</span>, <span class="string">"J.M.库切"</span>, <span class="string">"约翰"</span>)</span><br><span class="line">print(book.getName())</span><br><span class="line">print(book.getAuthor())</span><br><span class="line">print(book.getHeroName())</span><br><span class="line">print(book.getInfo())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 青春</span></span><br><span class="line"><span class="comment"># J.M.库切</span></span><br><span class="line"><span class="comment"># 约翰</span></span><br><span class="line"><span class="comment"># 书名: 青春, 作者: J.M.库切, 主人公: 约翰</span></span><br></pre></td></tr></table></figure>
<h3 id="Object中常用到的类"><a href="#Object中常用到的类" class="headerlink" title="Object中常用到的类"></a>Object中常用到的类</h3><h4 id="str-和-repr"><a href="#str-和-repr" class="headerlink" title="__str__() 和__repr__()"></a><code>__str__()</code> 和<code>__repr__()</code></h4><p><code>__str__()</code>有点类似Java里的toString方法, 就是在 <code>str(object)</code> 时调用的方法</p>
<p><code>__repr__()</code> 和 <code>__str__()</code>的功能差不多,  在<strong>控制台</strong>直接调用对象时, 会调用<code>__repr__()</code>方法</p>
<p>两者的区别是<code>__str__()</code>返回用户看到的字符串，而<code>__repr__()</code>返回程序开发者看到的字符串，也就是说，<code>__repr__()</code>是为调试服务的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomMade</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">"我被主人改了toString方法"</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">"我也被主人改了toString方法"</span></span><br><span class="line">    </span><br><span class="line">cm = CustomMade()</span><br><span class="line">print(cm) <span class="comment"># 我被主人改了toString方法</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cm = CustomMade()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cm</span><br><span class="line">我也被主人改了toString方法</span><br></pre></td></tr></table></figure>
<h4 id="item-和-next"><a href="#item-和-next" class="headerlink" title="__item__() 和 __next__()"></a><code>__item__()</code> 和 <code>__next__()</code></h4><p><code>__item__()</code> 返回一个迭代对象</p>
<p><code>--next__()</code> 迭代这个对象时, 所执行的方法(有点像<strong>生成式</strong>)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomMade</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">		super(CustomMade, self).__init__()</span><br><span class="line">		self.index = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">		self.index += <span class="number">1</span></span><br><span class="line">		<span class="keyword">if</span> self.index &gt; <span class="number">100</span>:</span><br><span class="line">			<span class="keyword">raise</span> StopIteration()</span><br><span class="line">		<span class="keyword">return</span> self.index</span><br><span class="line"></span><br><span class="line">cm = CustomMade()</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> cm:</span><br><span class="line">	print(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 2 3 4 ... 100</span></span><br></pre></td></tr></table></figure>
<h4 id="getitem"><a href="#getitem" class="headerlink" title="__getitem__()"></a><code>__getitem__()</code></h4><p><code>__getitem__()</code> 是让我们自己定义的类, 拥有<strong>索引</strong>和<strong>切片</strong>的功能</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomMade</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, item)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> isinstance(item, int):</span><br><span class="line">			<span class="keyword">if</span> item &gt; <span class="number">50</span> <span class="keyword">or</span> item &lt; <span class="number">-50</span>:</span><br><span class="line">				<span class="keyword">raise</span> IndexError()</span><br><span class="line">			<span class="keyword">else</span>:</span><br><span class="line">				<span class="keyword">if</span> item &lt; <span class="number">0</span>:</span><br><span class="line">					item = <span class="number">50</span> + item</span><br><span class="line">				index = <span class="number">2</span></span><br><span class="line">				<span class="keyword">for</span> x <span class="keyword">in</span> range(item):</span><br><span class="line">					index += <span class="number">2</span></span><br><span class="line">				<span class="keyword">return</span> index</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> isinstance(item, slice):</span><br><span class="line">			start = item.start</span><br><span class="line">			stop = item.stop</span><br><span class="line">			step = item.step</span><br><span class="line">			<span class="keyword">if</span> start <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">				start = <span class="number">0</span></span><br><span class="line">			<span class="keyword">if</span> step <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">				step = <span class="number">1</span></span><br><span class="line">			<span class="keyword">if</span> start &lt; <span class="number">0</span>:</span><br><span class="line">				start = <span class="number">50</span> + start</span><br><span class="line">			<span class="keyword">if</span> stop &lt; <span class="number">0</span>:</span><br><span class="line">				stop = <span class="number">50</span> + stop</span><br><span class="line">			result = []</span><br><span class="line">			index = <span class="number">2</span></span><br><span class="line">			skip = <span class="number">-1</span></span><br><span class="line">			<span class="keyword">for</span> x <span class="keyword">in</span> range(stop):</span><br><span class="line">				<span class="keyword">if</span> x &gt;= start:</span><br><span class="line">					skip += <span class="number">1</span></span><br><span class="line">					<span class="keyword">if</span> skip % step == <span class="number">0</span>:</span><br><span class="line">						result.append(index)</span><br><span class="line">				index += <span class="number">2</span></span><br><span class="line">			<span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cm = CustomMade()</span><br><span class="line">print(cm)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> cm:</span><br><span class="line">	print(x)</span><br><span class="line"></span><br><span class="line">print(cm[<span class="number">1</span>]) <span class="comment"># 4</span></span><br><span class="line">print(cm[:<span class="number">10</span>:<span class="number">2</span>]) <span class="comment"># [2, 6, 10, 14, 18]</span></span><br></pre></td></tr></table></figure>
<h4 id="getattr"><a href="#getattr" class="headerlink" title="__getattr__()"></a><code>__getattr__()</code></h4><p><code>__getattr__()</code> 给未绑定的属性或方法一个默认的返回值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chain</span><span class="params">(object)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, method=<span class="string">'GET'</span>,  path=<span class="string">''</span>)</span>:</span></span><br><span class="line">		super(Chain, self).__init__()</span><br><span class="line">		self._path = path</span><br><span class="line">		self._method = method</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">"&#123;0&#125; &#123;1&#125;"</span>.format(self._method, self._path)</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, path)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> path == <span class="string">"user"</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">lambda</span> x: Chain(self._method, <span class="string">"&#123;0&#125;/&#123;1&#125;/&#123;2&#125;"</span>.format(self._path, path, x))</span><br><span class="line">		<span class="keyword">return</span> Chain(self._method, <span class="string">"&#123;0&#125;/&#123;1&#125;"</span>.format(self._path, path))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Chain(<span class="string">"POST"</span>).status.user(<span class="string">"yuchen352416"</span>).timeline.list)</span><br><span class="line"><span class="comment"># POST /status/user/yuchen352416/timeline/list</span></span><br></pre></td></tr></table></figure>
<h4 id="call"><a href="#call" class="headerlink" title="__call__()"></a><code>__call__()</code></h4><p><code>__call__()</code> 是实例默认调用的方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">		super(Student, self).__init__()</span><br><span class="line">		self._name = name</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self, *args, **kw)</span>:</span></span><br><span class="line">		print(<span class="string">"Student name is %s"</span> % self._name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = Student(<span class="string">'Jack'</span>)</span><br><span class="line">s() <span class="comment"># Student name is Jack</span></span><br></pre></td></tr></table></figure>
<h3 id="枚举与单例"><a href="#枚举与单例" class="headerlink" title="枚举与单例"></a>枚举与单例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum, unique</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Month = Enum(<span class="string">'Month'</span>, (<span class="string">'Jan'</span>, <span class="string">'Feb'</span>, <span class="string">'Mar'</span>, <span class="string">'Apr'</span>, <span class="string">'May'</span>, <span class="string">'Jun'</span>, <span class="string">'Jul'</span>, <span class="string">'Aug'</span>, <span class="string">'Sep'</span>, <span class="string">'Oct'</span>, <span class="string">'Nov'</span>, <span class="string">'Dec'</span>))</span><br><span class="line"><span class="comment"># 这样我们就获得了Month类型的枚举类，可以直接使用Month.Jan来引用一个常量</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> Month.member_map_.items():</span><br><span class="line">	print(k, v, v.value)</span><br><span class="line"></span><br><span class="line"><span class="comment"># value属性则是自动赋给成员的int常量，默认从1开始计数。</span></span><br><span class="line">print(Month.Jan.value)</span><br><span class="line">print(Month(<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@unique</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Weekday</span><span class="params">(Enum)</span>:</span></span><br><span class="line">	Sun = <span class="number">0</span></span><br><span class="line">	Mon = <span class="number">1</span></span><br><span class="line">	Tue = <span class="number">2</span></span><br><span class="line">	Wed = <span class="number">3</span></span><br><span class="line">	Thu = <span class="number">4</span></span><br><span class="line">	Fri = <span class="number">5</span></span><br><span class="line">	Sat = <span class="number">6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Weekday(<span class="number">2</span>))</span><br><span class="line"><span class="comment"># 自定义value</span></span><br><span class="line"><span class="comment"># @unique装饰器可以帮助我们检查保证没有重复值。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单例</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DateUtil</span><span class="params">(Enum)</span>:</span></span><br><span class="line">	<span class="class"><span class="keyword">class</span> <span class="title">DateUtil</span><span class="params">(object)</span>:</span></span><br><span class="line">		<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">			<span class="keyword">return</span> <span class="string">"单例...."</span></span><br><span class="line"></span><br><span class="line">	instance = DateUtil()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(DateUtil.instance.value)</span><br></pre></td></tr></table></figure>
<h3 id="动态生成类与实例"><a href="#动态生成类与实例" class="headerlink" title="动态生成类与实例"></a>动态生成类与实例</h3><h4 id="type"><a href="#type" class="headerlink" title="type()"></a>type()</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># type()函数既可以返回一个对象的类型，又可以创建出新的类型，比如，我们可以通过type()函数创建出Hello类</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn</span><span class="params">(self, name)</span>:</span></span><br><span class="line">	self._name = name</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hell</span><span class="params">(self)</span>:</span></span><br><span class="line">	print(<span class="string">"Hello %s"</span> % self._name)</span><br><span class="line"></span><br><span class="line">Hello = type(<span class="string">"Hello"</span>, (object,), &#123;<span class="string">"hello"</span>: hell, <span class="string">"setName"</span>: fn&#125;)</span><br><span class="line"></span><br><span class="line">hello = Hello()</span><br><span class="line">hello.setName(<span class="string">"Jack"</span>)</span><br><span class="line">hello.hello() <span class="comment"># Hello Jack</span></span><br><span class="line"><span class="comment"># 通过type()函数创建的类和直接写class是完全一样的，因为Python解释器遇到class定义时，仅仅是扫描一下class定义的语法，然后调用type()函数创建出class</span></span><br></pre></td></tr></table></figure>
<h4 id="metaclass"><a href="#metaclass" class="headerlink" title="metaclass"></a>metaclass</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 除了使用type()动态创建类以外，要控制类的创建行为，还可以使用metaclass</span></span><br><span class="line"><span class="comment"># metaclass是类的模板，所以必须从`type`类型派生：</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListMetaclass</span><span class="params">(type)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__new__</span><span class="params">(cls, name, bases, attrs)</span>:</span></span><br><span class="line">		attrs[<span class="string">'add'</span>] = <span class="keyword">lambda</span> self, value: self.append(value)</span><br><span class="line">		<span class="keyword">return</span> type.__new__(cls, name, bases, attrs)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span><span class="params">(list, metaclass=ListMetaclass)</span>:</span></span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="comment"># 当我们传入关键字参数metaclass时，魔术就生效了，它指示Python解释器在创建MyList时，要通过ListMetaclass.__new__()来创建</span></span><br><span class="line"></span><br><span class="line">L = MyList()</span><br><span class="line">L.add(<span class="number">1</span>)</span><br><span class="line">print(L) <span class="comment"># [1]</span></span><br></pre></td></tr></table></figure>
<p><code>__new__()</code>方法接收到的参数依次是：</p>
<ol>
<li>当前准备创建的类的对象；</li>
<li>类的名字；</li>
<li>类继承的<strong>父类</strong>集合；</li>
<li>类的<strong>方法</strong>和<strong>属性</strong>的集合。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_07/" itemprop="url">Python入门学习(七)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T01:05:39+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在熟悉了自定义<strong>函数</strong>和函数中使用到的<strong>参数</strong>(必选参数, 默认参数, 可变参数, 关键字参数, 命名关键字参数), 以及由函数<strong>返回值</strong>引伸出的<strong>递归</strong>和<strong>装饰器</strong>后, 让我们继续前行.</p>
<h2 id="Python-高阶函数"><a href="#Python-高阶函数" class="headerlink" title="Python 高阶函数"></a>Python 高阶函数</h2><h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>map()函数接收两个参数，一个是函数，一个是<strong>Iterable</strong>，map将传入的函数依次作用到序列的每个元素，并把结果作为新的<strong>Iterator</strong>返回<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> x * x</span><br><span class="line">m = map(func, [<span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">print(m)</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> m:</span><br><span class="line">	print(x)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><strong>map函数</strong>, 就有点类似一个加工厂, <strong>func</strong> 就像是加工规则, <strong>[2, 3]</strong> 就像是加工原料, 每个原料加工后, 就成了map的<strong>返回值</strong>[4, 9]</p>
</blockquote>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p>reduce把一个函数作用在一个序列[x1, x2, x3, …]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做<strong>累积计算</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">s = reduce(func, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment"># 15</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># s = func(func(func(func(1, 2), 3), 4), 5) # 15</span></span><br></pre></td></tr></table></figure></p>
<p><strong>reduce函数</strong>, 就像是个面包机, <strong>[1, 2, 3, 4, 5]</strong> 就像是事先要准备的原料 <strong>[面粉,鸡蛋, 牛奶, 糖]</strong> 而<strong>func</strong>, 就像是<strong>向面包机里加的动作</strong> 最后的面包机中的热腾腾的面包, 就是返回结果了.^_^</p>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>filter()把传入的函数依次作用于每个元素，然后根据返回值是True还是False决定保留还是丢弃该元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def remove_ood(x):</span><br><span class="line">    if x % 2 == 0:</span><br><span class="line">        return True</span><br><span class="line">    else:</span><br><span class="line">        return False</span><br><span class="line"></span><br><span class="line">arr = list(range(1, 10))</span><br><span class="line"></span><br><span class="line">envn = filter(remove_ood, arr)</span><br><span class="line">print(even) # &lt;filter object at 0x10a444630&gt;</span><br><span class="line">for x in envn:</span><br><span class="line">    print(x)</span><br><span class="line"># 2 4 6 8</span><br></pre></td></tr></table></figure></p>
<p><strong>filter函数</strong> 就是把传入集合中的元素, 按照指定规则分离. 有点像是做奶油前要从鸡蛋中去出蛋黄, 留下蛋清. (^_^)</p>
<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h3><p><strong>sorted()</strong>函数就可以对list进行排序<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted([<span class="number">36</span>, <span class="number">5</span>, <span class="number">-12</span>, <span class="number">9</span>, <span class="number">-21</span>])</span><br><span class="line">[<span class="number">-21</span>, <span class="number">-12</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">36</span>]</span><br></pre></td></tr></table></figure></p>
<p><strong>sorted()</strong>函数也是一个高阶函数，它还可以接收一个key函数来实现自定义的排序，例如:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted([<span class="number">36</span>, <span class="number">5</span>, <span class="number">-12</span>, <span class="number">9</span>, <span class="number">-21</span>], key=abs)</span><br><span class="line">[<span class="number">5</span>, <span class="number">9</span>, <span class="number">-12</span>, <span class="number">-21</span>, <span class="number">36</span>]</span><br></pre></td></tr></table></figure></p>
<p>其实还可以这样玩<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], key=str.lower)</span><br><span class="line">[<span class="string">'about'</span>, <span class="string">'bob'</span>, <span class="string">'Credit'</span>, <span class="string">'Zoo'</span>]</span><br></pre></td></tr></table></figure></p>
<p>这样 排序就忽略了数组中的字符的大小写</p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], key=str.lower, reverse=<span class="keyword">True</span>)</span><br><span class="line">[<span class="string">'Zoo'</span>, <span class="string">'Credit'</span>, <span class="string">'bob'</span>, <span class="string">'about'</span>]</span><br></pre></td></tr></table></figure>
<p>数组的<strong>反转</strong></p>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>关键字<strong>lambda</strong>表示匿名函数，冒号前面的x表示函数参数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(reduce(<span class="keyword">lambda</span> x, y: x + y, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])) <span class="comment"># 15</span></span><br></pre></td></tr></table></figure></p>
<p><strong>lambda</strong> 与 <strong>:</strong> 之间是匿名函数的入参</p>
<h3 id="偏函数"><a href="#偏函数" class="headerlink" title="偏函数"></a>偏函数</h3><p>所谓<strong>偏函数</strong>，其实就是将一个已知参数和函数进行绑定，生成一个新的函数</p>
<p>假设要转换大量的二进制字符串，每次都传入int(x, base=2)非常麻烦，于是，我们想到，可以定义一个int2()的函数，默认把base=2传进去<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">int2</span><span class="params">(x, base=<span class="number">2</span>)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> int(x, base)</span><br></pre></td></tr></table></figure></p>
<p>这样，我们转换二进制就非常方便了：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>int2(<span class="string">'1000000'</span>)</span><br><span class="line"><span class="number">64</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int2(<span class="string">'1010101'</span>)</span><br><span class="line"><span class="number">85</span></span><br></pre></td></tr></table></figure></p>
<p><strong>functools.partial</strong> 就是帮助我们创建一个偏函数的，不需要我们自己定义int2()，可以直接使用下面的代码创建一个新的函数int2：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> functools</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int2 = functools.partial(int, base=<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int2(<span class="string">'1000000'</span>)</span><br><span class="line"><span class="number">64</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>int2(<span class="string">'1010101'</span>)</span><br><span class="line"><span class="number">85</span></span><br></pre></td></tr></table></figure>
<h2 id="Python-高级特性"><a href="#Python-高级特性" class="headerlink" title="Python 高级特性"></a>Python 高级特性</h2><h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><p>切片是Python提供处理<strong>Iterable</strong>类型数据的一个工具.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L = list(range(<span class="number">100</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 前10个元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[:<span class="number">10</span>] <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 后10个元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[<span class="number">-10</span>:] <span class="comment"># [90, 91, 92, 93, 94, 95, 96, 97, 98, 99]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 前11-20个元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[<span class="number">10</span>:<span class="number">20</span>] <span class="comment"># [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 前10个数，每两个取一个</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[:<span class="number">10</span>:<span class="number">2</span>] <span class="comment"># [0, 2, 4, 6, 8]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 倒数第3个~倒数第5个</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>L[<span class="number">-5</span>:<span class="number">-2</span>][::<span class="number">-1</span>] <span class="comment"># [97, 96, 95]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABCDEFG'</span>[:<span class="number">3</span>] <span class="comment"># 'ABC'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABCDEFG'</span>[::<span class="number">2</span>] <span class="comment"># 'ACEG'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'ABC'</span>[::<span class="number">-1</span>] <span class="comment"># 'CBA'</span></span><br></pre></td></tr></table></figure></p>
<p>Iterable[起始位置=0:截至位置=len(Iterable):步长=1]</p>
<h3 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h3><p>我们可以通过for循环来遍历这个list或tuple，这种遍历我们称为迭代（Iteration）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> d:</span><br><span class="line">	print(k) </span><br><span class="line"><span class="comment"># a b c</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> d.values():</span><br><span class="line">	print(v)</span><br><span class="line"><span class="comment"># 1 2 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line">    print(k, <span class="string">'-'</span>, v)</span><br><span class="line"><span class="comment"># a - 1 b - 2 c - 3</span></span><br></pre></td></tr></table></figure>
<p>如何判断一个对象是可迭代对象呢？<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="string">'abc'</span>, Iterable) <span class="comment"># str是否可迭代</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], Iterable) <span class="comment"># list是否可迭代</span></span><br><span class="line"><span class="keyword">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">123</span>, Iterable) <span class="comment"># 整数是否可迭代</span></span><br><span class="line"><span class="keyword">False</span></span><br></pre></td></tr></table></figure></p>
<p>迭代tuple<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> [(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">4</span>), (<span class="number">3</span>, <span class="number">9</span>)]:</span><br><span class="line">	print(<span class="string">'&#123;0&#125;-&#123;1&#125;'</span>.format(x, y))</span><br><span class="line"><span class="comment"># 1-1 2-4 3-9</span></span><br></pre></td></tr></table></figure></p>
<h3 id="列表生成式"><a href="#列表生成式" class="headerlink" title="列表生成式"></a>列表生成式</h3><p>从一定意义上来说, <strong>列表生成式</strong>可以做到的, 用map()函数也可以做到.但列表生成器更容易, 更直观.</p>
<p>我现在需要一个数组2次方后的一个数组.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">L1 = map(<span class="keyword">lambda</span> x: x * x, L)</span><br><span class="line">L2 = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> L]</span><br><span class="line">print(L1) <span class="comment"># object.map</span></span><br><span class="line">print(L2) <span class="comment">#[1, 4, 9, 16, 25]</span></span><br></pre></td></tr></table></figure></p>
<p>其实, 还可以这样^_^<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">l = [t[i] * t[i + <span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(t) <span class="number">-1</span>)]</span><br><span class="line">print(l) <span class="comment"># [2, 6]</span></span><br></pre></td></tr></table></figure></p>
<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><p>在Python中，这种一边循环一边计算的机制，称为<strong>generator</strong>(生成器)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line">print(g) <span class="comment"># &lt;generator object &lt;genexpr&gt; at 0x1101431a8&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>和列表生成式不同的是, <strong>生成器</strong>返回的是一个<strong>Iterable</strong>, 而列表生成式返回的是一个数组</p>
<p><strong>generator: </strong> 存储的是<strong>计算规则</strong>, 并没有真实的数据. 遍历时, 每次返回的数据, 都是按照所存储的计算规则计算出的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">odd</span><span class="params">()</span>:</span></span><br><span class="line">	n = <span class="number">1</span></span><br><span class="line">	<span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">		<span class="keyword">yield</span> n</span><br><span class="line">		n += <span class="number">2</span></span><br><span class="line"></span><br><span class="line">o = odd()</span><br><span class="line">print(next(o)) <span class="comment"># 1</span></span><br><span class="line">print(next(o)) <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<p><strong>odd</strong>不是普通函数，而是<strong>generator</strong>，在执行过程中，遇到<strong>yield</strong>就中断，下次又继续执行。</p>
<p>最后附上一位大神用generator实现的杨辉三角<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">triangles</span><span class="params">()</span>:</span></span><br><span class="line">	t = [<span class="number">1</span>]</span><br><span class="line">	<span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">		<span class="keyword">yield</span> t</span><br><span class="line">		t= [t[i] + t[i<span class="number">-1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(t))]</span><br><span class="line">		t.insert(<span class="number">0</span>,<span class="number">1</span>) <span class="comment"># 第一位始终为 1</span></span><br><span class="line">		t.append(<span class="number">1</span>) <span class="comment"># 最后一位始终为 1</span></span><br></pre></td></tr></table></figure></p>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>凡是可作用于<strong>for</strong>循环的对象都是<strong>Iterable</strong>类型；<br>凡是可作用于<strong>next()</strong>函数的对象都是<strong>Iterator</strong>类型，它们表示一个<strong>惰性</strong>计算的序列；<br>集合数据类型如list、dict、str等是Iterable, 但不是Iterator，不过可以通过iter()函数获得一个Iterator对象。</p>
<h2 id="Python-模块"><a href="#Python-模块" class="headerlink" title="Python 模块"></a>Python 模块</h2><p><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516727269/python_7_1_qj86cq.png" alt="项目中文件"></p>
<p>这是我项目中各文件的路径.<br>我在hello.py中希望引用我web模块下的utils中的函数<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> web.utils <span class="keyword">import</span> reverse</span><br><span class="line">print(reverse(<span class="string">"123"</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> web.utils</span><br><span class="line">web.utils.welcome(<span class="string">"Tom"</span>)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_06/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_06/" itemprop="url">Python入门学习(六)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T01:02:59+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在熟悉了Python中常用的一些内置函数, 那接下来我们定义一个自己的函数吧</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> x + y</span><br></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h5 id="函数语法"><a href="#函数语法" class="headerlink" title="函数语法"></a>函数语法</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">functonname</span><span class="params">(parameters)</span>:</span></span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<h5 id="定义空函数"><a href="#定义空函数" class="headerlink" title="定义空函数"></a>定义空函数</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nop</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>实际上 <strong>pass</strong> 是用来作为占位符的. 比如现在还没想好怎么写函数的代码, 就可以先放一个pass, 让其他代码可以运行起来.</p>
</blockquote>
<h5 id="函数也是Object"><a href="#函数也是Object" class="headerlink" title="函数也是Object"></a>函数也是Object</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pow</span><span class="params">(x, y)</span>:</span></span><br><span class="line">	result = <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, y):</span><br><span class="line">		result = result * x</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">print(pow) <span class="comment">#&lt;function pow at 0x104147e18&gt;</span></span><br></pre></td></tr></table></figure>
<p>函数也是内存中的一块区域, 函数名指向这块区域.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn = pow</span><br><span class="line">print(fn) <span class="comment">#&lt;function pow at 0x104147e18&gt;</span></span><br><span class="line">print(fn(<span class="number">2</span>, <span class="number">10</span>)) <span class="comment">#1024</span></span><br></pre></td></tr></table></figure></p>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ul>
<li>必选参数</li>
<li>默认参数</li>
<li>可变参数</li>
<li>关键字参数</li>
<li>命名关键字参数</li>
</ul>
<h4 id="必选参数"><a href="#必选参数" class="headerlink" title="必选参数"></a>必选参数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pow</span><span class="params">(x, y)</span>:</span></span><br><span class="line">	result = <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, y):</span><br><span class="line">		result = result * x</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">t = pow(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">print(t) <span class="comment"># 8</span></span><br></pre></td></tr></table></figure>
<p>上面函数中, 需要两个参数分别是 x, y. 这两个参数都是必选参数, 缺一不可.<br>pow函数中 x 为底数, y 为指数, 现在我想让<strong>指数默认为 2</strong></p>
<h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pow</span><span class="params">(x, y = <span class="number">2</span>)</span>:</span></span><br><span class="line">	result = <span class="number">1</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, y):</span><br><span class="line">		result = result * x</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">t = pow(<span class="number">2</span>)</span><br><span class="line">print(t) <span class="comment"># 4</span></span><br></pre></td></tr></table></figure>
<p>设, 我要求多个数的和. 具体有多个参数, 我也不知道</p>
<h4 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_1</span><span class="params">(numbers)</span>:</span></span><br><span class="line">	s = <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> x <span class="keyword">in</span> numbers:</span><br><span class="line">		s += x</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_2</span><span class="params">(*numbers)</span>:</span></span><br><span class="line">	s = <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> x <span class="keyword">in</span> numbers:</span><br><span class="line">		s += x</span><br><span class="line">	<span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line">print(sum_1(arr))</span><br><span class="line">print(sum_2(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>))</span><br><span class="line">print(sum_2(*arr))</span><br></pre></td></tr></table></figure>
<h4 id="关键字参数"><a href="#关键字参数" class="headerlink" title="关键字参数"></a>关键字参数</h4><p>可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。而关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个dict<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, **kw)</span> :</span>  <span class="comment"># ** =&gt; dict</span></span><br><span class="line">	print(<span class="string">"kw tyep is"</span>, type(kw))</span><br><span class="line">	<span class="keyword">if</span> <span class="string">"city"</span> <span class="keyword">in</span> kw : </span><br><span class="line">		print(<span class="string">"city :"</span>, kw[<span class="string">"city"</span>])</span><br><span class="line">	<span class="keyword">if</span> <span class="string">"job"</span> <span class="keyword">in</span> kw:</span><br><span class="line">		print(<span class="string">"job :"</span>, kw.get(<span class="string">"job"</span>))</span><br><span class="line">	print(<span class="string">"name:"</span>, name, <span class="string">", age:"</span>, age, <span class="string">", other:"</span>, kw)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">person(<span class="string">"Jion"</span>, <span class="number">18</span>, city = <span class="string">"Beijing"</span>)</span><br><span class="line">person(name = <span class="string">"Tom"</span>, city = <span class="string">"Beijing"</span>, age = <span class="number">17</span>)</span><br><span class="line">extra = &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</span><br><span class="line">person(<span class="string">"Jion"</span>, <span class="number">18</span>, **extra)</span><br></pre></td></tr></table></figure></p>
<h4 id="命名关键字参数"><a href="#命名关键字参数" class="headerlink" title="命名关键字参数"></a>命名关键字参数</h4><p>如果要限制关键字参数的名字，就可以用命名关键字参数，例如，只接收city和job作为关键字参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *, city, job)</span>:</span></span><br><span class="line">    print(name, age, city, job)</span><br></pre></td></tr></table></figure>
<p>命名关键字参数需要一个特殊分隔符 * ，* 后面的参数被视为命名关键字参数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Jack'</span>, <span class="number">24</span>, city=<span class="string">'Beijing'</span>, job=<span class="string">'Engineer'</span>)</span><br><span class="line">Jack <span class="number">24</span> Beijing Engineer</span><br></pre></td></tr></table></figure></p>
<p>如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符 * 了.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *, city = <span class="string">"Beijing"</span>, job)</span>:</span></span><br><span class="line">	<span class="comment"># 要限制关键字参数的名字, 就要用到 "命名关键字参数"</span></span><br><span class="line">	<span class="comment"># * 后的参数, 被视为"命名关键字参数"</span></span><br><span class="line">	print(name, age, city, job)</span><br><span class="line">person(<span class="string">"Jack"</span>, <span class="number">24</span>, job = <span class="string">"Engineer"</span>)</span><br><span class="line">x = &#123;<span class="string">"city"</span>:<span class="string">"Shanghai"</span>, <span class="string">"job"</span>:<span class="string">"Engineer"</span>&#125;</span><br><span class="line">person(<span class="string">"Jack"</span>, <span class="number">23</span>, **x)</span><br><span class="line">person(<span class="string">"Jack"</span>, <span class="number">23</span>, city = <span class="string">"Beijing"</span>, job = <span class="string">"Engineer"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *args, city, job)</span>:</span></span><br><span class="line">	print(name, age, args, city, job)</span><br><span class="line">x = &#123;<span class="string">"A"</span>:<span class="number">1</span>, <span class="string">"B"</span>:<span class="number">2</span>, <span class="string">"C"</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="comment"># 当实参为 *x 时, 会将实参中的key以tuple(元组)的形式, 传递到方法内</span></span><br><span class="line"><span class="comment"># person("Jack", 23, *x, city = "Beijing", job = "Engineer") # Jack 23 ('A', 'B', 'C') Beijing Engineer</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当实参为 x 时, 会将实参的整体内容做为tuple(元组)的一个元素, 传递到方法内</span></span><br><span class="line">person(<span class="string">"Jack"</span>, <span class="number">23</span>, x, city = <span class="string">"Beijing"</span>, job = <span class="string">"Engineer"</span>) <span class="comment"># Jack 23 (&#123;'A': 1, 'B': 2, 'C': 3&#125;,) Beijing Engineer</span></span><br></pre></td></tr></table></figure></p>
<h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><h4 id="返回常用类型"><a href="#返回常用类型" class="headerlink" title="返回常用类型"></a>返回常用类型</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">abs</span><span class="params">(x)</span>:</span></span><br><span class="line">	<span class="keyword">if</span>(x &gt;= <span class="number">0</span>):</span><br><span class="line">		<span class="keyword">return</span> x</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		retrun -x</span><br><span class="line"></span><br><span class="line">print(abs(<span class="number">-1</span>)) <span class="comment">#1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>return</strong> 类似出栈操作, return之后的语句则不被执行</p>
</blockquote>
<h4 id="返回多个值"><a href="#返回多个值" class="headerlink" title="返回多个值"></a>返回多个值</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(x, y, z)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> x  * y * z, x + y + z</span><br><span class="line"></span><br><span class="line">x = show(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">print(x[<span class="number">0</span>], x[<span class="number">1</span>]) <span class="comment">#24 9</span></span><br><span class="line">print(x) <span class="comment">#(24, 9)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>当函数返回多个值时, 实际上是把多个需要返回的值, 封装成一个<strong>tuple</strong></p>
</blockquote>
<h4 id="返回函数"><a href="#返回函数" class="headerlink" title="返回函数"></a>返回函数</h4><p>刚刚说过, 函数也是一个Object, 所以也可以作为<strong>返回值</strong>进行返回</p>
<h5 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trim</span><span class="params">(s)</span>:</span></span><br><span class="line">	<span class="keyword">if</span> (s == <span class="string">''</span>):</span><br><span class="line">		<span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">	<span class="keyword">if</span> (ord(s[:<span class="number">1</span>]) == <span class="number">32</span>):</span><br><span class="line">		<span class="keyword">return</span> trim(s[<span class="number">1</span>:])</span><br><span class="line">	<span class="keyword">elif</span> (ord(s[<span class="number">-1</span>:]) == <span class="number">32</span>):</span><br><span class="line">		<span class="keyword">return</span> trim(s[:<span class="number">-1</span>])</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		<span class="keyword">return</span> s</span><br></pre></td></tr></table></figure>
<p>这是一个去除字符串前后空格的函数, 首先检测字符串的第一位是不是空格, 如果是去掉第一位, 再次检查新字符串的第一位 直至不是后, 检查字符串的最后一位, 如果是, 则去掉最后一位, 再次检测新字符串的最后一位.直到最后一位,不再是空格.</p>
<h5 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_adder</span><span class="params">(addend)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">adder</span><span class="params">(augend)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> augend + addend</span><br><span class="line">    <span class="keyword">return</span> adder</span><br><span class="line"></span><br><span class="line">p = make_adder(<span class="number">23</span>)</span><br><span class="line">q = make_adder(<span class="number">44</span>)</span><br><span class="line"></span><br><span class="line">print(p(<span class="number">100</span>)) <span class="comment">#123</span></span><br><span class="line">print(q(<span class="number">100</span>)) <span class="comment">#144</span></span><br></pre></td></tr></table></figure>
<p><strong>闭包:</strong> 可以形象的把它理解为一个封闭的包裹，这个包裹就是一个函数，当然还有函数内部对应的逻辑，包裹里面的东西就是自由变量，自由变量可以在随着包裹到处游荡。当然还得有个前提，这个包裹是被创建出来的。<br>在通过Python的语言介绍一下，一个闭包就是你调用了一个函数A，这个函数A返回了一个函数B给你。这个返回的函数B就叫做闭包。你在调用函数A的时候传递的参数就是自由变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner_func</span><span class="params">(age)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age</span><br><span class="line">    <span class="keyword">return</span> inner_func</span><br><span class="line"></span><br><span class="line">bb = func(<span class="string">'the5fire'</span>)</span><br><span class="line">bb(<span class="number">26</span>)  <span class="comment"># &gt;&gt;&gt; name: the5fire age: 26</span></span><br></pre></td></tr></table></figure>
<p>这里面调用func的时候就产生了一个闭包——inner_func,并且该闭包持有自由变量——name，因此这也意味着，当函数func的生命周期结束之后，name这个变量依然存在，因为它被闭包引用了，所以不会被回收。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hellocounter</span> <span class="params">(name)</span>:</span></span><br><span class="line">	count = <span class="number">0</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">counter</span><span class="params">()</span>:</span></span><br><span class="line">		<span class="comment"># 如果不加 nonlocal 会报错</span></span><br><span class="line">		<span class="comment"># UnboundLocalError: local variable 'count' referenced before assignment</span></span><br><span class="line">		<span class="keyword">nonlocal</span> count</span><br><span class="line">		count += <span class="number">1</span></span><br><span class="line">		<span class="keyword">print</span> (<span class="string">'Hello &#123;0&#125;, &#123;1&#125; access!'</span>.format(name, count))</span><br><span class="line">	<span class="keyword">return</span> counter</span><br><span class="line"></span><br><span class="line">hello = hellocounter(<span class="string">'ysisl'</span>)</span><br><span class="line">hello()</span><br><span class="line">hello()</span><br><span class="line">hello()</span><br></pre></td></tr></table></figure>
<p>在闭包函数内, 可以直接访问父函数作用域下的变量, 但不可以修改.<br>python3里面,引入了一个关键字:<strong>nonlocal</strong>,这个关键字是干什么的? 就是告诉python程序, 我的这个count变量是再外部定义的, 你去外面找吧. 然后python就去外层函数找, 然后就找到了count = 0 这个定义和赋值, 程序就能正常执行了.</p>
<h5 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h5><p><strong>装饰器:</strong> 是对闭包的一种实际运用的场景.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makebold</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapped</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&lt;b&gt;"</span> + fn() + <span class="string">"&lt;/b&gt;"</span></span><br><span class="line">    <span class="keyword">return</span> wrapped</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makeitalic</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapped</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&lt;i&gt;"</span> + fn() + <span class="string">"&lt;/i&gt;"</span></span><br><span class="line">    <span class="keyword">return</span> wrapped</span><br><span class="line"></span><br><span class="line"><span class="meta">@makebold</span></span><br><span class="line"><span class="meta">@makeitalic</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"hello world"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> hello() <span class="comment"># &lt;b&gt;&lt;i&gt;hello world&lt;/i&gt;&lt;/b&gt;</span></span><br></pre></td></tr></table></figure>
<p>相当于 makebold(makeitalic(hello()))</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line"></span><br><span class="line">def timecost(func):</span><br><span class="line">	def wrapper(*args, **kw):</span><br><span class="line">		def fn(*args, **kw):</span><br><span class="line">			start = int(time.time())</span><br><span class="line">			print(&quot;Call &#123;0&#125;() Before [&#123;1&#125;]&quot;.format(func.__name__, time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime(int(time.time())))))</span><br><span class="line">			func(*args, **kw)</span><br><span class="line">			print(&quot;Call &#123;0&#125;() After [&#123;1&#125;]&quot;.format(func.__name__, time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;, time.localtime(int(time.time())))))</span><br><span class="line">			end = int(time.time())</span><br><span class="line">			print(&quot;Run Cost Time &#123;0&#125;s&quot;.format(end - start))</span><br><span class="line"></span><br><span class="line">		return fn(*args, **kw)</span><br><span class="line">	return wrapper</span><br><span class="line"></span><br><span class="line">@timecost</span><br><span class="line">def now_datetime(format):</span><br><span class="line">	now = int(time.time())</span><br><span class="line">	print(time.strftime(format, time.localtime(now)))</span><br><span class="line"></span><br><span class="line">now_datetime(&quot;%H:%M:%S&quot;)</span><br><span class="line"></span><br><span class="line"># Call now_datetime() Before [2018-01-15 00:24:17]</span><br><span class="line"># 00:24:17</span><br><span class="line"># Call now_datetime() After [2018-01-15 00:24:17]</span><br><span class="line"># Run Cost Time 0s</span><br><span class="line"># 在方法前后加入自己想要的内容, 哈哈, 这就是传说中的AOP吗?</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_05/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_05/" itemprop="url">Python入门学习(五)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T01:01:37+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>熟悉了Python中的控制语句后, 就可以进一步探索Python了.</p>
<h3 id="Python-常用的内置函数"><a href="#Python-常用的内置函数" class="headerlink" title="Python 常用的内置函数"></a>Python 常用的内置函数</h3><p>所谓内置函数, 是不用导入其他模块, 就可以直接使用的函数</p>
<h5 id="range"><a href="#range" class="headerlink" title="range()"></a><strong>range()</strong></h5><p>它生成一个等差级数链表</p>
<blockquote>
<p><strong>range(</strong> [起始值, 0], &lt;截止值&gt;, [步长, 1] <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">3</span>, <span class="number">10</span>, <span class="number">3</span>) <span class="comment"># 3, 6, 9</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<h5 id="list"><a href="#list" class="headerlink" title="list()"></a><strong>list()</strong></h5><p>从可迭代（对象）中创建列表</p>
<blockquote>
<p><strong>list(</strong> <iterable> <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(range(<span class="number">3</span>, <span class="number">10</span>, <span class="number">3</span>)) <span class="comment"># [3, 6, 9]</span></span><br></pre></td></tr></table></figure></iterable></p>
</blockquote>
<hr>
<h5 id="chr"><a href="#chr" class="headerlink" title="chr()"></a><strong>chr()</strong></h5><p>返回传入ASCII码对应的字符</p>
<blockquote>
<p><strong>chr(</strong> <int> <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr(<span class="number">65</span>) <span class="comment"># A</span></span><br></pre></td></tr></table></figure></int></p>
</blockquote>
<hr>
<h5 id="ord"><a href="#ord" class="headerlink" title="ord()"></a><strong>ord()</strong></h5><p>返回传入字符对应的ASCII码值</p>
<blockquote>
<p><strong>ord(</strong> <char> <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ord(<span class="string">'A'</span>) <span class="comment"># 65</span></span><br></pre></td></tr></table></figure></char></p>
</blockquote>
<hr>
<h5 id="len"><a href="#len" class="headerlink" title="len()"></a><strong>len()</strong></h5><p>返回传入集合长度</p>
<blockquote>
<p><strong>len(</strong> &lt;集合&gt; <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len([<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]) <span class="comment"># 3</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<h5 id="input"><a href="#input" class="headerlink" title="input()"></a><strong>input()</strong></h5><p>接收控制台的输入内容</p>
<blockquote>
<p><strong>input(</strong> [“提示信息”] <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">input(<span class="string">"请输入您的身高:"</span>)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<h5 id="float"><a href="#float" class="headerlink" title="float()"></a><strong>float()</strong></h5><p>将传入数据, 转为 float类型</p>
<blockquote>
<p><strong>float(</strong> <str, int=""> <strong>) raise ValueError</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float(<span class="number">1</span>) <span class="comment"># 1.0</span></span><br><span class="line">float(<span class="string">"1.9"</span>) <span class="comment"># 1.9</span></span><br></pre></td></tr></table></figure></str,></p>
</blockquote>
<hr>
<h5 id="str"><a href="#str" class="headerlink" title="str()"></a><strong>str()</strong></h5><p>将传入数据, 转为字符串</p>
<blockquote>
<p><strong>str(</strong> <object> <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str(&#123;<span class="string">"A"</span>:<span class="number">1</span>, <span class="string">"B"</span>:<span class="number">2</span>&#125;) <span class="comment"># "&#123;'A': 1, 'B': 2&#125;"</span></span><br></pre></td></tr></table></figure></object></p>
</blockquote>
<hr>
<h5 id="int"><a href="#int" class="headerlink" title="int()"></a><strong>int()</strong></h5><p>将传入数据, 转为 int 类型</p>
<blockquote>
<p><strong>int(</strong> <str, float=""> <strong>) raise ValueError</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int(<span class="number">1.9</span>) <span class="comment"># 1</span></span><br><span class="line">int(<span class="string">"1.9"</span>) <span class="comment"># ValueError</span></span><br></pre></td></tr></table></figure></str,></p>
</blockquote>
<hr>
<h5 id="isinstance"><a href="#isinstance" class="headerlink" title="isinstance()"></a><strong>isinstance()</strong></h5><p>判断数据是否指定类型</p>
<blockquote>
<p><strong>isinstance(</strong> <object>, <type> <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1.0</span></span><br><span class="line">isinstance(x, float) <span class="comment"># True</span></span><br></pre></td></tr></table></figure></type></object></p>
</blockquote>
<hr>
<h5 id="type"><a href="#type" class="headerlink" title="type()"></a><strong>type()</strong></h5><p>返回传入数据的类型</p>
<blockquote>
<p><strong>type(</strong> <object> <strong>)</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(<span class="number">1</span>) == int <span class="comment"># True</span></span><br></pre></td></tr></table></figure></object></p>
</blockquote>
<h3 id="Python-字符集"><a href="#Python-字符集" class="headerlink" title="Python 字符集"></a>Python 字符集</h3><h5 id="bytes-类型数据"><a href="#bytes-类型数据" class="headerlink" title="bytes 类型数据"></a><strong>bytes 类型数据</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">b'A'</span> <span class="comment"># bytes 类型数据 </span></span><br><span class="line">y = <span class="string">'A'</span></span><br><span class="line">print(<span class="string">'x ='</span>, x, <span class="string">'\t'</span> ,type(x)) <span class="comment"># &lt;class 'bytes'&gt;</span></span><br><span class="line">print(<span class="string">'y ='</span>, y, <span class="string">'\t'</span> ,type(y)) <span class="comment"># &lt;class 'str'&gt;</span></span><br><span class="line">z = ord(x) </span><br><span class="line">print(z) <span class="comment"># 65</span></span><br></pre></td></tr></table></figure>
<h5 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a><strong>字符编码</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'A'</span>.encode(<span class="string">'ASCII'</span>))</span><br><span class="line">print(<span class="string">'森'</span>.encode(<span class="string">'GBK'</span>)) <span class="comment"># b'\xc9\xad'</span></span><br><span class="line">print(<span class="string">'森'</span>.encode(<span class="string">'GB2312'</span>)) <span class="comment"># b'\xc9\xad'</span></span><br><span class="line">print(<span class="string">'森'</span>.encode(<span class="string">'UTF-8'</span>)) <span class="comment"># b'\xe6\xa3\xae'</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ASCII码</strong> 范围 [0, 127]<br><strong>GBK</strong> 和 <strong>GB2312</strong> 都是用两个字节表示<br><strong>UTF-8</strong> 用三个字节表示</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">b'\x41'</span></span><br><span class="line">print(x) <span class="comment"># b'A'</span></span><br><span class="line">print(x.decode(<span class="string">"ASCII"</span>)) <span class="comment"># A</span></span><br><span class="line">x = <span class="string">b'\xc9\xad'</span> <span class="comment"># =&gt; 11001001 10101101</span></span><br><span class="line">print(x.decode(<span class="string">"GB2312"</span>)) <span class="comment"># 森</span></span><br><span class="line">print(x.decode(<span class="string">"GBK"</span>)) <span class="comment"># 森</span></span><br><span class="line">x = <span class="string">b'\xe6\xa3\xae'</span> <span class="comment"># =&gt; 11100110 10100011 10101110</span></span><br><span class="line">print(x.decode(<span class="string">"UTF-8"</span>)) <span class="comment"># 森</span></span><br><span class="line"></span><br><span class="line">print(len(<span class="string">'ABC'</span>)) <span class="comment"># 3</span></span><br><span class="line">print(len(<span class="string">'森A'</span>)) <span class="comment"># 2</span></span><br><span class="line">x = <span class="string">b'\xc9\xad'</span></span><br><span class="line">print(x) <span class="comment"># b'\xc9\xad'</span></span><br><span class="line">print(x.decode(<span class="string">"GBK"</span>)) <span class="comment"># 森</span></span><br><span class="line">print(len(x)) <span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 1个中文字符经过UTF-8编码后通常会占用3个字节，而1个英文字符只占用1个字节。</span></span><br><span class="line">print(len(<span class="string">'森'</span>.encode(<span class="string">'utf-8'</span>))) <span class="comment"># 3</span></span><br><span class="line">print(len(<span class="string">'森A'</span>.encode(<span class="string">'utf-8'</span>))) <span class="comment"># 4</span></span><br></pre></td></tr></table></figure>
<h3 id="Python-字符串格式化"><a href="#Python-字符串格式化" class="headerlink" title="Python 字符串格式化"></a>Python 字符串格式化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">'Hello %s'</span> % (<span class="string">'World!'</span>)</span><br><span class="line">print(s)</span><br><span class="line"><span class="comment"># %d 表示 整数</span></span><br><span class="line"><span class="comment"># %f 表示 浮点数</span></span><br><span class="line"><span class="comment"># %s 表示 字符串</span></span><br><span class="line"><span class="comment"># %x 表示 十六进制整数</span></span><br><span class="line"><span class="comment"># s = 'Age: %s. Gender: %s' % (25, True)</span></span><br><span class="line"><span class="comment"># s = 'Age: %d. Gender: %s' % (25, True)</span></span><br><span class="line"><span class="comment"># s = 'Age: %f. Gender: %s' % (25, True)</span></span><br><span class="line">s = <span class="string">'Age: %x. Gender: %s'</span> % (<span class="number">25</span>, <span class="keyword">True</span>) <span class="comment"># 十进制25传入, 会转化一次, 变为十六进制的 19 </span></span><br><span class="line">print(s)</span><br><span class="line">s = <span class="string">'Growth rate: %d%%'</span> % (<span class="number">7</span>) <span class="comment"># 在使用格式化占位符的字符串中, 用 %% 来表示一个 %  </span></span><br><span class="line">print(s)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用format方法, 格式化输出</span></span><br><span class="line">s =  <span class="string">'Hello, &#123;0&#125;, 成绩提升了 &#123;1:.2f&#125;%'</span>.format(<span class="string">'小明'</span>, <span class="number">17.125</span>)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_04/" itemprop="url">Python入门学习(四)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T01:00:36+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>熟悉了Python中的各种运算符之后, 接下来要进一步了解Python了</p>
<h2 id="控制语句"><a href="#控制语句" class="headerlink" title="控制语句"></a>控制语句</h2><h3 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h3><ol>
<li>单分支 if</li>
<li>双分支 if</li>
<li>多分支 if</li>
</ol>
<h4 id="单分支-if"><a href="#单分支-if" class="headerlink" title="单分支 if"></a>单分支 if</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">"x 为自然数"</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>需要注意: 关系表达式后面要跟<strong>冒号</strong>, 而 if 条件成立执行的语句, 用 <strong>tab 撮行</strong>表示, 而且<strong>没有 {}</strong></p>
</blockquote>
<h4 id="双分支-if"><a href="#双分支-if" class="headerlink" title="双分支 if"></a>双分支 if</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x == <span class="number">1</span>:</span><br><span class="line">	print(<span class="string">"条件成立..."</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	print(<span class="string">"条件不成立..."</span>)</span><br></pre></td></tr></table></figure>
<h4 id="多分支-if"><a href="#多分支-if" class="headerlink" title="多分支 if"></a>多分支 if</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> x == <span class="number">1</span>:</span><br><span class="line">	print(<span class="string">"状态尚可..."</span>)</span><br><span class="line"><span class="keyword">elif</span> x == <span class="number">2</span>:</span><br><span class="line">	print(<span class="string">"状态极佳..."</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	print(<span class="string">"状态不佳..."</span>)</span><br></pre></td></tr></table></figure>
<h3 id="for-语句"><a href="#for-语句" class="headerlink" title="for 语句"></a>for 语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]:</span><br><span class="line">	print(x)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>for 语句</strong> 是用来遍历 <strong>Iterable</strong>(可迭代对象)的</p>
</blockquote>
<h3 id="while-语句"><a href="#while-语句" class="headerlink" title="while 语句"></a>while 语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">	x += <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">		print(x)</span><br><span class="line">		<span class="keyword">continue</span></span><br><span class="line">	<span class="keyword">if</span> x % <span class="number">3</span> == <span class="number">0</span>:</span><br><span class="line">		print(x)</span><br><span class="line">		<span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>continue</strong> 跳回循环开始处<br><strong>break</strong> 跳出循环</p>
</blockquote>
<h3 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">switch</span> (x) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>: &#123;</span><br><span class="line">        System.out.println(<span class="string">"0"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>: &#123;</span><br><span class="line">        System.out.println(<span class="string">"1"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: &#123;</span><br><span class="line">        System.out.println(<span class="string">"2"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span>: &#123;</span><br><span class="line">        System.out.println(<span class="string">"9"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>很遗憾, Python 好像没有 switch 语句, 但也不是没有<strong>变通之道</strong> </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法 1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">'a'</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">'b'</span>: <span class="number">2</span></span><br><span class="line">    &#125;.get(x, <span class="number">9</span>) </span><br><span class="line">    </span><br><span class="line"><span class="comment"># 方法 2</span></span><br><span class="line">result = &#123;</span><br><span class="line">  <span class="string">'a'</span>: <span class="keyword">lambda</span> x: x * <span class="number">5</span>,</span><br><span class="line">  <span class="string">'b'</span>: <span class="keyword">lambda</span> x: x + <span class="number">7</span>,</span><br><span class="line">  <span class="string">'c'</span>: <span class="keyword">lambda</span> x: x - <span class="number">2</span></span><br><span class="line">&#125;[value](x)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_03/" itemprop="url">Python入门学习(三)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T00:48:15+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在掌握了怎么用Python定义变量和Python常用的数据类型后, 我们就可以继续探索Python世界了.</p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h4 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">加</td>
<td style="text-align:left">1 + 2 =&gt; 3</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">减</td>
<td style="text-align:left">3 - 2 =&gt; 1</td>
</tr>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">乘</td>
<td style="text-align:left">2 * 3 =&gt; 6</td>
</tr>
<tr>
<td style="text-align:left">/</td>
<td style="text-align:left">除</td>
<td style="text-align:left">6 / 2 =&gt; 3</td>
</tr>
<tr>
<td style="text-align:left">//</td>
<td style="text-align:left">整除</td>
<td style="text-align:left">7 // 2 =&gt; 3</td>
</tr>
<tr>
<td style="text-align:left">%</td>
<td style="text-align:left">模除</td>
<td style="text-align:left">7 % 2 = 1</td>
</tr>
<tr>
<td style="text-align:left">**</td>
<td style="text-align:left">幂</td>
<td style="text-align:left">2 ** 3 = 8</td>
</tr>
</tbody>
</table>
<h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">==</td>
<td style="text-align:left">等于</td>
<td style="text-align:left">1 == 2 =&gt; False</td>
</tr>
<tr>
<td style="text-align:left">!=</td>
<td style="text-align:left">不等</td>
<td style="text-align:left">3 != 2 =&gt; True</td>
</tr>
<tr>
<td style="text-align:left">&lt;&gt;</td>
<td style="text-align:left">不等</td>
<td style="text-align:left">2 &lt;&gt; 3 =&gt; True</td>
</tr>
<tr>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">大于</td>
<td style="text-align:left">6 &gt; 2 =&gt; True</td>
</tr>
<tr>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">小于</td>
<td style="text-align:left">7 &lt; 2 =&gt; False</td>
</tr>
<tr>
<td style="text-align:left">&gt;=</td>
<td style="text-align:left">大于等于</td>
<td style="text-align:left">7 &gt;= 2 = True</td>
</tr>
<tr>
<td style="text-align:left">&lt;=</td>
<td style="text-align:left">小于等于</td>
<td style="text-align:left">2 &lt;= 3 = True</td>
</tr>
</tbody>
</table>
<h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">赋值</td>
<td style="text-align:left">x = 1</td>
</tr>
<tr>
<td style="text-align:left">+=</td>
<td style="text-align:left">加赋值</td>
<td style="text-align:left">x += 1</td>
</tr>
<tr>
<td style="text-align:left">-=</td>
<td style="text-align:left">减赋值</td>
<td style="text-align:left">x -= 1</td>
</tr>
<tr>
<td style="text-align:left">*=</td>
<td style="text-align:left">乘赋值</td>
<td style="text-align:left">x *= 2</td>
</tr>
<tr>
<td style="text-align:left">/=</td>
<td style="text-align:left">除赋值</td>
<td style="text-align:left">x /= 2</td>
</tr>
<tr>
<td style="text-align:left">//=</td>
<td style="text-align:left">整除赋值</td>
<td style="text-align:left">x //= 2</td>
</tr>
<tr>
<td style="text-align:left">%=</td>
<td style="text-align:left">模除赋值</td>
<td style="text-align:left">x %= 2</td>
</tr>
<tr>
<td style="text-align:left">**=</td>
<td style="text-align:left">幂赋值</td>
<td style="text-align:left">x **= 3</td>
</tr>
</tbody>
</table>
<h4 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">与运算</td>
<td style="text-align:left">5 &amp; 2</td>
</tr>
<tr>
<td style="text-align:left">&#124;</td>
<td style="text-align:left">或运算</td>
<td style="text-align:left">5 &#124; 2</td>
</tr>
<tr>
<td style="text-align:left">~</td>
<td style="text-align:left">取反运算</td>
<td style="text-align:left">~7</td>
</tr>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">异或运算</td>
<td style="text-align:left">7 ^ 3</td>
</tr>
<tr>
<td style="text-align:left">&lt;&lt;</td>
<td style="text-align:left">左移运算</td>
<td style="text-align:left">1 &lt;&lt; 2</td>
</tr>
<tr>
<td style="text-align:left">&gt;&gt;</td>
<td style="text-align:left">右移运算</td>
<td style="text-align:left">7 &gt;&gt; 1</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print( <span class="number">5</span> &amp; <span class="number">2</span> ) <span class="comment"># 00000101 and 00000010 =&gt; 00000000 =&gt; 0</span></span><br><span class="line">print( <span class="number">5</span> | <span class="number">2</span> ) <span class="comment"># 00000101 or 00000010 =&gt; 00000111 =&gt; 7 </span></span><br><span class="line">print( <span class="number">7</span> ^ <span class="number">3</span>)  <span class="comment"># 00000111 xor 00000011 =&gt; 00000100 =&gt; 4</span></span><br><span class="line">print(<span class="number">1</span> &lt;&lt; <span class="number">2</span>) <span class="comment"># 00000001 &lt;&lt; 2 =&gt; 00000100 =&gt; 4 </span></span><br><span class="line">print(<span class="number">7</span> &gt;&gt; <span class="number">1</span>) <span class="comment"># 00000111 &gt;&gt; 1 =&gt; 00000011 =&gt; 3</span></span><br><span class="line">print(~<span class="number">7</span>) <span class="comment"># -x - 1 =&gt; -8</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>涉及到的一些概念</strong><br><strong>1. 源码:</strong> 是指由 0 和 1 组成的二进制数.(先低后高存储)<br><strong>2. 无符号位数: </strong> 是指将<strong>源码</strong>的所有有效位数, 都用来表示数值(比如 “0000 0001” 这是一个8位的二进制数, 可以表示数的范围就是[0, 255])<br><strong>3. 有符号位数: </strong>是指用<strong>源码</strong>的第一位表示符号位(<strong>1</strong> 表示负数, <strong>0</strong> 表示正数), 其余的位数来表示数值(比如”0000 0001” 这是一个8位的二进制数, 可以表示数的范围就是[-128, 127])<br><strong>4. 原码: </strong> 是指用<strong>有符号位数</strong>表示的二进制数<br><strong>5. 反码: </strong> 正数的反码是它本身, 负数的反码是除符号位外的其他位取反得到的(比如 -7的<strong>原码</strong>是 10000111, <strong>反码</strong>就是 11111000)<br><strong>6. 补码: </strong>正数的补码是它本身, 负数的补码是在反码的基础上加 1(比如 -7 的<strong>反码</strong>是 11111000, 那<strong>补码</strong>就是 11111001)</p>
</blockquote>
<p><strong>~</strong>取反运算符, 是将数值的<strong>补码</strong>进行取反<br> ~7 =&gt; ~(0000 0111) =&gt; 1111 1000 =&gt; 1000 0111(反码) =&gt; 1000 1000(补码) =&gt; -8<br>同理 ~(-8)<br>∵ -8 =&gt; 1000 1000(原码) =&gt; 1111 0111(反码) ==&gt; 1111 1000(补码)<br>∴ ~(-8) =&gt; ~(1111 1000) =&gt; 0000 0111 =&gt; 7</p>
<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">not</td>
<td style="text-align:left">非</td>
<td style="text-align:left">not True</td>
</tr>
<tr>
<td style="text-align:left">and</td>
<td style="text-align:left">与</td>
<td style="text-align:left">True and False</td>
</tr>
<tr>
<td style="text-align:left">or</td>
<td style="text-align:left">或</td>
<td style="text-align:left">True or False</td>
</tr>
</tbody>
</table>
<h4 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">in</td>
<td style="text-align:left">存在</td>
<td style="text-align:left">1 in range(10)</td>
</tr>
<tr>
<td style="text-align:left">not in</td>
<td style="text-align:left">不存在</td>
<td style="text-align:left">1 not in range(2, 10)</td>
</tr>
</tbody>
</table>
<h4 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">is</td>
<td style="text-align:left">是否相同引用</td>
<td style="text-align:left">x is y</td>
</tr>
<tr>
<td style="text-align:left">is not</td>
<td style="text-align:left">是否不同引用</td>
<td style="text-align:left">x is not y</td>
</tr>
</tbody>
</table>
<h4 id="运算符的优先级"><a href="#运算符的优先级" class="headerlink" title="运算符的优先级"></a>运算符的优先级</h4><table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">**</td>
<td style="text-align:left">指数 (最高优先级)</td>
</tr>
<tr>
<td style="text-align:left">~</td>
<td style="text-align:left">按位翻转</td>
</tr>
<tr>
<td style="text-align:left">* / % //</td>
<td style="text-align:left">乘, 除, 模除和整除</td>
</tr>
<tr>
<td style="text-align:left">+ -</td>
<td style="text-align:left">加法, 减法</td>
</tr>
<tr>
<td style="text-align:left">&gt;&gt; &lt;&lt;</td>
<td style="text-align:left">右移，左移运算符</td>
</tr>
<tr>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">与运算</td>
</tr>
<tr>
<td style="text-align:left">^ &#124;</td>
<td style="text-align:left">或运算符和异或运算符</td>
</tr>
<tr>
<td style="text-align:left">&lt;= &lt; &gt; &gt;=</td>
<td style="text-align:left">比较运算符</td>
</tr>
<tr>
<td style="text-align:left">&lt;&gt; == !=</td>
<td style="text-align:left">关系运算符</td>
</tr>
<tr>
<td style="text-align:left">= %= /= //= -= += <em>= *</em>=</td>
<td style="text-align:left">赋值运算符</td>
</tr>
<tr>
<td style="text-align:left">is is not</td>
<td style="text-align:left">身份运算符</td>
</tr>
<tr>
<td style="text-align:left">in not in</td>
<td style="text-align:left">成员运算符</td>
</tr>
<tr>
<td style="text-align:left">not or and</td>
<td style="text-align:left">逻辑运算符</td>
</tr>
</tbody>
</table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/24/article-python_02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/24/article-python_02/" itemprop="url">Python入门学习(二)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-24T00:10:58+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在迈过HelloWorld的大门后, 正式开始了解Python</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h4 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h4><p>当看到Python的变量定义方式时, 让我有一点意外.即没有变量的类型说明符, 也没有定义变量的标志符(如: JavaScript的var, VB的Dim)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>这样, 就定义一个变量 x 这个变量的类型, 取决于变量指向的值. 行尾不能加分号, 让我也是纠结了好一会儿, 不过还是要入乡随俗的, 慢慢习惯了就好.</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h4 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h4><pre><code>基本数据类型包括 int, float, str, bool
</code></pre><p>测试基本数据类型:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line">f = <span class="number">2.0</span></span><br><span class="line">s = <span class="string">"jack"</span></span><br><span class="line">b = <span class="keyword">True</span></span><br><span class="line">print(<span class="string">"i type"</span>, type(i))</span><br><span class="line">print(<span class="string">"f type"</span>, type(f))</span><br><span class="line">print(<span class="string">"s type"</span>, type(s))</span><br><span class="line">print(<span class="string">"b type"</span>, type(b))</span><br></pre></td></tr></table></figure></p>
<p>执行结果:</p>
<p><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516725505/python_2_1_ovsbsf.png" alt="执行结果"></p>
<h4 id="常用的数据类型"><a href="#常用的数据类型" class="headerlink" title="常用的数据类型"></a>常用的数据类型</h4><ol>
<li>list</li>
<li>tuple</li>
<li>set</li>
<li>dictionary<h5 id="list-数组"><a href="#list-数组" class="headerlink" title="list (数组)"></a><strong>list (数组)</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">1</span>, <span class="string">"jack"</span>, <span class="number">9.7</span>, <span class="keyword">True</span>]</span><br><span class="line">print(arr)</span><br><span class="line">print(type(arr))</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>执行结果:<br><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516725505/python_2_2_zu2rrh.png" alt="执行结果"></p>
<p>同样我们也可以定义一个二维数组:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line">print(arr[<span class="number">1</span>][<span class="number">1</span>]) <span class="comment"># 5</span></span><br></pre></td></tr></table></figure></p>
<p>当数组中的内容不固定时, 我们还可以动态操作 list:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">arr = []</span><br><span class="line">arr.append(<span class="string">"A"</span>)</span><br><span class="line">arr.append(<span class="string">"B"</span>)</span><br><span class="line">arr.append(<span class="string">"C"</span>)</span><br><span class="line">arr.insert(<span class="number">1</span>, <span class="string">"X"</span>)</span><br><span class="line">arr.remove(<span class="string">"B"</span>)</span><br><span class="line">arr.pop()</span><br><span class="line">arr.pop(<span class="number">0</span>)</span><br><span class="line">print(arr)</span><br></pre></td></tr></table></figure></p>
<p><strong>append:</strong> 将在数组末尾添加元素<br><strong>insert:</strong> 将在指定位置添加元素<br><strong>remove:</strong> 删除指定元素<br><strong>pop:</strong> 删除指定位置的元素, 如果没有指定位置, 则删除末尾元素</p>
<h5 id="tuple-元组"><a href="#tuple-元组" class="headerlink" title="tuple(元组)"></a><strong>tuple(元组)</strong></h5><p>tuple和list非常类似，但是tuple一旦初始化就不能修改<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">classmates = (<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>)</span><br><span class="line">print(<span class="string">'classmates ='</span>, classmates)</span><br><span class="line">print(<span class="string">'classmates[0] ='</span>, classmates[<span class="number">0</span>])</span><br><span class="line">classmates[<span class="number">0</span>] = <span class="string">"Jack"</span> <span class="comment"># TypeError: 'tuple' object does not support item assignment</span></span><br></pre></td></tr></table></figure></p>
<p>但是当tuple中含有 list, set, dictionary时, 情况就不一样了<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">classmates = (<span class="string">'Michael'</span>, [<span class="string">"a"</span>, <span class="string">"b"</span>])</span><br><span class="line">classmates[<span class="number">1</span>].append(<span class="string">"c"</span>)</span><br><span class="line">print(<span class="string">'classmates ='</span>, classmates)</span><br></pre></td></tr></table></figure></p>
<p>执行结果:</p>
<blockquote>
<p>classmates = (‘Michael’, [‘a’, ‘b’, ‘c’])</p>
</blockquote>
<p>看上去 classmates 改变了, 但实际上 classmates 是没有变的. classmates[1]指向的list的指针是没有变的, 改变的是指针指向的list</p>
<h5 id="set-集合"><a href="#set-集合" class="headerlink" title="set(集合)"></a><strong>set(集合)</strong></h5><p>set有一个特性, 就是元素的内容是唯一的, 还有set和tuple一样, 只可以添加不可变的值<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">s = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment"># 初始化Set时, 只能接收list</span></span><br><span class="line">s.add(<span class="number">4</span>)</span><br><span class="line">s.add((<span class="number">4</span>, <span class="number">5</span>)) <span class="comment"># set 只可以添加不可变的值</span></span><br><span class="line">s.add((<span class="number">4</span>, <span class="number">5</span>)) <span class="comment"># 不会重复添加</span></span><br><span class="line">s.add((<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>))</span><br><span class="line">x = <span class="string">"ABC"</span></span><br><span class="line">s.add(x)</span><br><span class="line">x = <span class="string">"XYZ"</span> <span class="comment"># 虽然 x 改变了指针指向, 但set中原来添加的并不是变量x, 而是x所指向的"ABC"</span></span><br><span class="line"><span class="comment"># s.add([1, 2, 5]) # set 不能添加可变的元素</span></span><br><span class="line">s.remove(<span class="number">1</span>)</span><br><span class="line">s.remove((<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># s.remove(5) # KeyError: 5</span></span><br><span class="line"></span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure></p>
<p>执行结果:<br><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516725505/python_2_3_msurjj.png" alt="执行结果"></p>
<h5 id="dictionary-字典"><a href="#dictionary-字典" class="headerlink" title="dictionary(字典)"></a><strong>dictionary(字典)</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">dictionary = &#123;</span><br><span class="line">	<span class="string">"name"</span> : <span class="string">"小明"</span>, </span><br><span class="line">	<span class="string">"age"</span> : <span class="number">23</span>, </span><br><span class="line">	<span class="string">"phone"</span>:<span class="string">"18733774869"</span>,</span><br><span class="line">	<span class="string">"age"</span> : <span class="number">24</span> <span class="comment"># 这样是可以的, 新值会覆盖旧值, 但实际情况中这样没有意义</span></span><br><span class="line">&#125;</span><br><span class="line">dictionary[<span class="string">"age"</span>] = dictionary[<span class="string">"age"</span>] + <span class="number">1</span> <span class="comment"># 修改dictionary中指定key的值</span></span><br><span class="line">dictionary[<span class="string">"address"</span>] = <span class="string">"北京, 丰台区"</span> <span class="comment"># 向dictionary中添加新的元素</span></span><br><span class="line">print(isinstance(dictionary[<span class="string">"phone"</span>], str))</span><br><span class="line">print(isinstance(dictionary[<span class="string">"age"</span>], int))</span><br><span class="line">print(isinstance(dictionary[<span class="string">"name"</span>], str))</span><br><span class="line">print(dictionary[<span class="string">"age"</span>])</span><br><span class="line"><span class="keyword">if</span> <span class="string">"age"</span> <span class="keyword">in</span> dictionary: <span class="comment"># 判断dictionary中, 是否存在指定的key</span></span><br><span class="line">	print(dictionary[<span class="string">"age"</span>])</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dictionary:</span><br><span class="line">	print(key, <span class="string">'\t =&gt; \t'</span>, dictionary[key])</span><br><span class="line">print(dictionary.pop(<span class="string">"age"</span>)) <span class="comment"># 删除指定的key</span></span><br><span class="line">print(dictionary.get(<span class="string">"Age"</span>)) <span class="comment"># None</span></span><br><span class="line"><span class="comment"># print(dictionary["Age"]) # KeyError: 'Age'</span></span><br><span class="line">print(dictionary.get(<span class="string">"Age"</span>, <span class="number">-1</span>)) <span class="comment"># -1, 若Map中没对应的key, 则返回指定的默认值</span></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/23/article-python_01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.Li">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="何时, 枫叶红">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/23/article-python_01/" itemprop="url">Python入门学习(一)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-23T22:29:51+08:00">
                2018-01-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Python 作为一种解释型语言, 最近几年他的影响力渐渐扩大.说来可笑, 我说想学Python的原因, 是想用 Python 写一个爬虫程序, 去爬取网易云音乐中的MV. </p>
<p>一开始就在网上找一些爬虫的代码的示例, 发现完全不懂, 于是就想系统的学习一下这门语言. 之前也接触过其他的解释型语言(JavaScript), 我想应该不会过费力.</p>
<h3 id="首先-安装环境-选择IDE"><a href="#首先-安装环境-选择IDE" class="headerlink" title="首先,  安装环境, 选择IDE"></a>首先,  安装环境, 选择IDE</h3><ol>
<li>我安装的是 Python 3</li>
<li>IDE 我用的是 Sublime Text 3</li>
<li>配置 IDE (前提是python要加到环境变量中, 这在安装时, 就已经修改过了)<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"shell_cmd"</span>: <span class="string">"python -u \"$file\""</span>,</span><br><span class="line">    <span class="attr">"file_regex"</span>: <span class="string">"^[ ]*File \"(...*?)\", line ([0-9]*)"</span>,</span><br><span class="line">    <span class="attr">"selector"</span>: <span class="string">"source.python"</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">"env"</span>: &#123;<span class="attr">"PYTHONIOENCODING"</span>: <span class="string">"utf-8"</span>&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">"variants"</span>:</span><br><span class="line">    [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Customize Python"</span>,</span><br><span class="line">            <span class="attr">"shell_cmd"</span>: <span class="string">"python \"$&#123;file&#125;\""</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="编写-Hello-World"><a href="#编写-Hello-World" class="headerlink" title="编写 Hello World"></a>编写 Hello World</h3><ol>
<li>在编写程序之前, 给Python一个独立的工作空间</li>
<li>创建 hello.py</li>
<li>在文件中, 直接写下面这一句, 就是可以执行了<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;Hello World!&quot;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>先体验一下Python的命令行:<br>在hello.py文件所在的目录下, 调出命令行执行 <strong> python hello.py </strong> 执行结果:</p>
<p><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516725505/python_1_1_eqkjj4.png" alt="命令行执行结果"></p>
<p>也可以在 Sublime Text 3 中按 <strong>Ctrl + B</strong> 执行结果:</p>
<p><img src="http://res.cloudinary.com/dkhwuvnf3/image/upload/v1516725506/python_1_2_wq7fk2.png" alt="IDE执行结果"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Mr.Li</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr.Li</span>

  
</div>


<!--
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>
-->




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
